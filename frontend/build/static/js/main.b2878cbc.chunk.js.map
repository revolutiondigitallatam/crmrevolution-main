{"version":3,"sources":["services/api.js","layout/themeContext.js","context/ActiveMenuContext/index.js","config.js","hooks/useHelps/index.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/SocketWorker.js","hooks/useAuth.js/index.js","services/socket.js","context/Auth/AuthContext.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","rules.js","components/Can/index.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","components/MarkdownWrapper/index.js","assets/instagram.png","assets/whatsapp.png","context/Tickets/TicketsContext.js","components/TicketListItem/index.js","hooks/useTickets/index.js","hooks/useSettings/companySettings.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/TabPanel/index.js","components/AvatarUpload/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/AnnouncementsPopover/index.js","assets/logo.png","assets/logo-black.png","hooks/useDate/index.js","pages/Chat/ChatPopover.js","hooks/useSettings/index.js","components/VersionControl/index.js","layout/index.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/ChartDonut.js","pages/Dashboard/Title.js","pages/Dashboard/Filters.js","pages/Dashboard/ChartsDate.js","components/ForbiddenPage/index.js","pages/Dashboard/index.js","components/ButtonWithSpinner/index.js","components/TagsContainer/index.js","components/ContactModal/index.js","components/ShowTicketOpenModal/index.js","components/NewTicketModal/index.js","components/ContactTag/index.js","components/ConnectionIcon/index.js","components/AcceptTicketWithoutQueueModal/index.js","hooks/useQueues/index.js","components/UserModal/statusIcon.js","components/TransferTicketModalCustom/index.js","components/TicketListItemCustom/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/StatusFilter/index.js","components/WhatsappsFilter/index.js","context/QueuesSelected/QueuesSelectedContext.js","components/TicketsManagerTabs/index.js","utils/FormatMask.js","utils/formatSerializedId.js","components/ModalImageCors/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","components/ConfirmationModal/index.js","components/ContactNotesEditModal/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/TagsKanbanContainer/index.js","components/ContactDrawer/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/RecordingTimer.js","hooks/useQuickMessages/index.js","components/ContactSendModal/index.js","components/CameraModal/index.js","context/ForwarMessage/ForwardMessageContext.js","components/AudioModal/index.js","components/MessageUploadMedias/index.js","context/EditingMessage/EditingMessageContext.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/MessageInput/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/ShowTicketLogModal/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ForwardMessageModal/index.js","components/MessageOptionsMenu/index.js","assets/wa-background.png","assets/wa-background-dark.png","components/ModalYoutubeCors/index.js","components/MessagesList/SelectMessageCheckbox.js","components/MessagesList/index.js","components/TicketMessagesDialog/index.js","components/TicketActionButtonsCustom/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/SchedulesForm/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","hooks/useCompanies/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","components/HelpsManager/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","components/ColorPicker/index.js","components/ColorBoxModal/index.js","components/Settings/Whitelabel.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/PaymentDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","context/Socket/SocketContext.js","pages/Users/index.js","components/ContactImportWpModal/index.js","pages/Contacts/index.js","assets/upload.gif","hooks/useWindowDimensions/index.js","components/ContactImport/index.js","pages/Contacts/import.js","components/MomentsUser/index.js","pages/Moments/index.js","components/ToolTips/index.js","components/ChatBots/options.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","components/ContactTagListModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/CompaniesModal/index.js","pages/Companies/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","components/Dashboard/CardCounter.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/WhatsAppModalAdmin/index.js","components/CompanyWhatsapps/index.js","pages/AllConnections/index.js","components/QueueSelectCustom/index.js","pages/Reports/index.js","stores/useNodeStorage.js","pages/FlowBuilderConfig/nodes/messageNode.js","components/FlowBuilderAddTextModal/index.js","components/FlowBuilderIntervalModal/index.js","pages/FlowBuilderConfig/nodes/startNode.js","pages/FlowBuilderConfig/nodes/conditionNode.js","pages/FlowBuilderConfig/nodes/menuNode.js","pages/FlowBuilderConfig/nodes/intervalNode.js","pages/FlowBuilderConfig/nodes/imgNode.js","pages/FlowBuilderConfig/nodes/randomizerNode.js","pages/FlowBuilderConfig/nodes/videoNode.js","components/FlowBuilderConditionModal/index.js","components/FlowBuilderMenuModal/index.js","components/FlowBuilderAddImgModal/index.js","components/FlowBuilderAddTicketModal/index.js","components/FlowBuilderAddAudioModal/index.js","pages/FlowBuilderConfig/nodes/audioNode.js","components/FlowBuilderRandomizerModal/index.js","components/FlowBuilderAddVideoModal/index.js","utils/capitalize.js","components/FlowBuilderSingleBlockModal/index.js","pages/FlowBuilderConfig/nodes/singleBlockNode.js","pages/FlowBuilderConfig/nodes/ticketNode.js","pages/FlowBuilderConfig/index.js","pages/FlowBuilderConfig/nodes/removeEdge.js","styles/styles.js","components/WebhookModal/index.js","components/FlowBuilderModal/index.js","pages/FlowBuilder/index.js","pages/FlowDefault/index.js","components/CampaignModalPhrase/index.js","pages/CampaignsPhrase/index.js","pages/Subscription/index.js","assets/n8n.png","assets/webhook.png","assets/flowbuilders.png","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","components/FileModal/index.js","pages/Files/index.js","pages/ToDoList/index.js","pages/Kanban/index.js","pages/TagsKanban/index.js","routes/index.js","App.js","index.js","serviceWorker.js","assets/favicon.ico","assets/nopicture.png","assets/planilha.xlsx","assets/facebook.png","assets/sound.mp3","assets/chat_notify.mp3","assets/dialogflow.png","assets/typebot.jpg"],"names":["api","axios","create","baseURL","process","withCredentials","openApi","ColorModeContext","React","createContext","toggleColorMode","setPrimaryColorLight","_","setPrimaryColorDark","setAppLogoLight","setAppLogoDark","setAppLogoFavicon","ActiveMenuContext","useActiveMenu","useContext","ActiveMenuProvider","_ref","children","activeMenu","setActiveMenu","useState","createElement","Provider","value","getConfig","name","defaultValue","arguments","length","undefined","window","ENV","getBackendUrl","usePlans","findAll","async","data","request","url","method","params","list","save","responseData","update","concat","id","remove","messages","_objectSpread","pt","translations","signup","title","toasts","success","fail","form","email","password","company","phone","buttons","submit","login","button","register","companies","plan","token","auth","dueDate","expiration","days","day","expirationToday","dashboard","tabs","indicators","assessments","attendants","charts","perDay","cards","inAttendance","waiting","activeAttendants","finalized","newContacts","totalReceivedMessages","totalSentMessages","averageServiceTime","averageWaitingTime","status","activeTickets","passiveTickets","groups","users","numberAppointments","statusNow","totalCallsUser","totalAttendances","date","initialDate","finalDate","licence","available","totalCalls","callsWaitRating","callsWithoutRating","ratedCalls","evaluationIndex","score","prosecutors","neutral","detractors","reports","operator","period","until","reportTitle","calls","search","durationCalls","grupoSessions","groupTicketsReports","timezone","msgToast","errorToast","back","groupServiceReport","loading","contact","dateOpen","dateLastUpdated","agent","agentClosed","waitingAssistance","researchReports","response","active","inactive","quantity","percentage","activeSearch","inactiveSearch","ticketDurationDetail","startService","lastUpdated","lastAgent","durationFinished","ticketDuration","open","pending","finished","durationAfterFinished","actions","ticketReports","pdf","exportTitle","todo","newTask","add","task","contactImportWpModal","downloadModel","closed","import","connections","waitConnection","newConnection","restartConnections","callSupport","deleted","closedimported","confirmationModal","closedImportedTitle","closedImportedMessage","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","disconnect","tryAgain","qrcode","newQr","closedImported","preparing","importing","processed","in","connecting","typography","toolTips","disconnected","content","connected","timeout","table","lastUpdate","default","session","number","showTicketOpenModal","header","message","user","queue","messageWait","showTicketLogModal","options","chatBot","access","transfered","receivedTransfer","reopen","redirect","whatsappModal","edit","general","integrations","schedules","importOldMessagesEnable","importOldMessages","importRecentMessages","importOldMessagesGroups","closedTicketsPostImported","queueRedirection","queueRedirectionDesc","group","timeSendQueue","importAlert","groupAsTicket","timeCreateNewTicket","maxUseBotQueues","timeUseBotQueues","expiresTicket","expiresTicketNPS","maxUseBotQueuesNPS","closeLastMessageOptions1","closeLastMessageOptions2","outOfHoursMessage","greetingMessage","complationMessage","lgpdLinkPrivacy","lgpdMessage","lgpdDeletedMessages","lgpdSendMessage","ratingMessage","sendIdQueue","inactiveMessage","timeInactiveMessage","whenExpiresTicket","expiresInactiveMessage","prompt","collectiveVacationEnd","collectiveVacationStart","collectiveVacationMessage","queueIdImportMessages","okAdd","okEdit","cancel","menuItem","enabled","disabled","minutes","errorSendQueue","errorExpiresNPS","errorRatingMessage","qrCode","contacts","searchPlaceholder","importTitlte","exportContact","blockContact","unblockContact","importMessage","importChat","wantImport","export","whatsapp","lastMessage","menu","importYourPhone","importToExcel","forwardMessage","text","forwardMessageModal","ok","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","contactModal","mainInfo","extraInfo","extraName","extraValue","chatBotContact","termsLGDP","addExtraInfo","flowbuilderModal","flowNotIdPhrase","queueModal","queueData","confirmationDelete","color","orderQueue","rotate","timeRotate","integrationId","fileListId","closeTicket","queueType","integration","file","bot","toolTipTitle","toolTip","selectOption","attendent","toolTipMessageTitle","toolTipMessageContent","selectUser","selectQueue","selectIntegration","addOptions","serviceHours","dayWeek","startTimeA","endTimeA","startTimeB","endTimeB","monday","tuesday","wednesday","thursday","friday","saturday","sunday","queueIntegrationModal","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","userModal","warning","updateImage","removeImage","farewellMessage","profile","startWork","endWork","allTicketEnable","allTicketDisable","allTicket","allowGroup","defaultMenuOpen","defaultMenuClosed","defaultMenu","defaultTheme","defaultThemeDark","defaultThemeLight","allHistoric","allHistoricEnabled","allHistoricDisabled","allUserChat","userClosePendingTicket","showDashboard","allowRealTime","allowConnections","permissions","addImage","editImage","companyModal","passwordDefault","numberAttendants","numberConections","scheduleModal","body","sendAt","sentAt","assinar","addSchedule","tagModal","addKanban","editKanban","timeLane","nextLaneId","greetingMessageLane","rollbackLaneId","successKanban","fileModal","fileOptions","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","chatInternal","new","modal","conversation","filterUsers","modalDelete","ticketsManager","questionCloseTicket","yes","not","newTicket","resolveAll","close","ticketsQueueSelect","placeholder","tickets","inbox","closedAllTickets","closedAll","no","resolverd","notification","filterConections","filterConectionsOptions","filterContacts","ticketsPerPage","showAll","returnQueue","scredule","deleteTicket","closedTicket","closedMessage","closedNotMessage","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","fieldWhatsapp","noOptions","msgTransfer","ticketsList","called","today","missedCall","pendingHeader","assignedHeader","groupingHeader","noTicketsTitle","noTicketsMessage","noQueue","accept","start","transfer","ignore","exportAsPDF","kanbanActions","acceptModal","newTicketModal","SendContactModal","mainDrawer","listItems","chatsTempoReal","quickMessages","queues","tags","administration","settings","files","helps","messagesAPI","campaigns","annoucements","chats","financeiro","queueIntegration","version","kanban","allConnections","management","appBar","logout","messageEnd","goodMorning","myName","continuity","virtualAssistant","location","notRegister","refresh","languages","es","en","tr","textMessage","userId","queueId","mediaMessage","media","API","methods","messagesText","messagesMidia","instructions","comments","comments1","comments2","codeCountry","code","notifications","noTickets","noAttachment","attach","dialog","shortcode","geral","visao","mediaName","contactLists","contactListItems","lists","subMenus","listContacts","randomInterval","noBreak","intervalGapAfter","laggerTriggerRange","addVar","shortcut","contactList","option","scheduledAt","completedAt","confirmation","readonly","help","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","statusTicket","openTicketStatus","pendingTicketStatus","closedTicketStatus","enabledOpenTicket","disabledOpenTicket","openTicket","okadd","restart","campaignReport","scheduled","cancelled","campaign","validContacts","confirmationsRequested","confirmations","deliver","connection","schedule","conclusion","announcements","priority","mediaPath","high","medium","low","campaignsConfig","greeting","ID","queueSelect","inputLabel","inputLabelRO","withoutQueue","dateClose","NPS","supportTime","filter","onlyRated","compaies","namePlan","numberQueues","useCampaigns","useExternalApi","useFacebook","useInstagram","useWhatsapp","useInternalChat","useSchedules","createdAt","lastLogin","money","document","recurrence","monthly","bimonthly","quarterly","semester","yearly","clear","delete","plans","public","codeVideo","description","tagsKanban","laneDefault","deletedAll","deleteAll","deleteAllTitle","deleteAllMessage","userCreation","updating","creationCompanyUser","evaluations","officeScheduling","queueManagement","companyManagement","connectionManagement","sendGreetingAccepted","sendMsgTransfTicket","checkMsgIsGroup","chatBotType","userRandom","acceptCallWhatsapp","sendSignMessage","sendGreetingMessageOneQueues","sendQueuePosition","sendFarewellWaitingTicket","acceptAudioMessageContact","enableLGPD","requiredTag","closeTicketOnTransfer","DirectTicketsToWallets","showNotificationPending","customMessages","sendQueuePositionMessage","AcceptCallWhatsappMessage","greetingAcceptedMessage","transferMessage","LGPD","welcome","linkLGPD","obfuscateMessageDelete","alwaysConsent","obfuscatePhoneUser","messagesList","assignedTo","dialogRatingTitle","dialogClosingTitle","dialogRatingCancel","dialogRatingSuccess","dialogRatingWithoutFarewellMsg","ratingTitle","notMessage","amount","return","resolve","rating","enableIntegration","disableIntegration","logTicket","messagesInput","placeholderPrivateMessage","placeholderOpen","placeholderClosed","signMessage","privateMessage","contactDrawer","block","unblock","messageVariablesPicker","label","vars","contactFirstName","contactName","protocolNumber","hour","ticket_id","ticketOptionsMenu","registerAppointment","resolveWithNoFarewell","acceptAudioMessage","appointmentsModal","textarea","titleFrom","confirm","messageInput","tooltip","signature","meet","imageVideo","cam","messageOptionsMenu","reply","forward","toForward","talkTo","invoices","details","expirationDate","action","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","ERR_OUT_OF_HOURS","resolvAll","ratings","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","error","exists","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","theme","isString","SocketWorker","constructor","companyId","instance","this","socket","configureSocket","eventListeners","io","autoConnect","reconnection","reconnectionDelay","reconnectionAttempts","Infinity","query","on","console","log","reconnectAfterDelay","event","callback","connect","push","emit","off","cb","forEach","setTimeout","forceReconnect","useAuth","history","useHistory","isAuth","setIsAuth","setLoading","setUser","setSocket","interceptors","config","localStorage","getItem","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","useEffect","Object","keys","_params$user","_params$user2","isObject","socketConnection","handleLogin","userData","has","isArray","companieSettings","setting","find","s","key","signEnable","profileImage","moment","locale","format","vencimento","diff","before","isBefore","dias","duration","asDays","Math","round","warn","handleLogout","getCurrentUserInfo","get","AuthContext","AuthProvider","reducer","state","payload","whatsApp","whatsAppIndex","findIndex","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","fetchSession","onCompanyWhatsapp","whatsappId","onCompanyWhatsappSession","WhatsAppsContext","WhatsAppsProvider","rules","static","admin","Can","role","perform","check","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","getPlanList","getPlanCompany","useVersion","getVersion","useStyles","makeStyles","listItem","height","width","backgroundColor","palette","primary","main","listItemText","fontSize","mode","avatarActive","avatarHover","iconHoverActive","display","justifyContent","alignItems","borderRadius","ListItemLink","props","icon","to","showBadge","classes","useLocation","isActive","pathname","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","assign","ConditionalTooltip","tooltipEnabled","Tooltip","placement","ListItem","component","className","ListItemIcon","Badge","badgeContent","overlap","badge","Avatar","ListItemText","Typography","newChats","chatIndex","u","chatId","map","MainListItems","_ref2","collapsed","drawerClose","useTheme","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","openFlowSubmenu","setOpenFlowSubmenu","openDashboardSubmenu","setOpenDashboardSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","setVersion","managementHover","setManagementHover","campaignHover","setCampaignHover","flowHover","setFlowHover","useHelps","hasHelps","setHasHelps","checkHelps","isManagementActive","startsWith","isCampaignRouteActive","isFlowbuilderRouteActive","_version","fetchVersion","planConfigs","useKanban","useOpenAi","useIntegrations","fetchData","delayDebounceFn","fetchChats","clearTimeout","onCompanyChatMainListItems","unreadsCount","chatUser","unreads","whats","records","onClick","Fragment","dense","prev","onMouseEnter","onMouseLeave","Dashboard","ExpandLessIcon","ExpandMoreIcon","Collapse","unmountOnExit","style","small","DashboardOutlinedIcon","Description","GridOn","WhatsAppIcon","FlashOnIcon","ViewKanban","ContactPhoneOutlinedIcon","Schedule","LocalOfferIcon","variant","ForumIcon","HelpOutlineIcon","Divider","ListSubheader","inset","EventAvailableIcon","List","disablePadding","ListIcon","PeopleIcon","SettingsOutlinedIcon","Webhook","ShapeLine","super","AnnouncementIcon","CodeRoundedIcon","PeopleAltOutlinedIcon","AccountTreeOutlinedIcon","AllInclusive","DeviceHubOutlined","SyncAltIcon","PhonelinkSetup","AttachFile","LocalAtmIcon","BusinessIcon","padding","textAlign","fontWeight","elements","allowedElements","CustomLink","_objectWithoutProperties","_excluded","target","rel","MarkdownWrapper","boldRegex","tildaRegex","replace","RegExp","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","tabOpen","setTabOpen","uuid","ticket","position","pendingTicket","cursor","noTicketsDiv","margin","flexDirection","noTicketsText","lineHeight","contactNameWrapper","lastMessageTime","marginRight","right","bottom","closedBadge","alignSelf","justifySelf","marginLeft","contactLastMessage","paddingRight","newMessagesCount","bottomButton","top","badgeStyle","green","acceptButton","left","ticketQueueColor","flex","userTag","background","border","paddingLeft","divTags","flexWrap","divUser","tagsWrapper","zIndex","boxShadow","paper","animation","transform","opacity","SmallAvatar","withStyles","root","TicketListItem","_ticket$queue","_ticket$queue2","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$userRating","_ticket$user","_ticket$tags","ticketId","useParams","isMounted","useRef","current","handleClosedTicket","put","renderUserName","emojiRegex","trim","split","e","uuidv4","handleSelectTicket","selected","clsx","arrow","ListItemAvatar","anchorOrigin","vertical","horizontal","alt","channel","src","facebookIcon","whatsappIcon","insatagramIcon","urlPicture","disableTypography","noWrap","isSameDay","parseISO","Date","secondary","userRating","rate","getRatingIcon","unreadMessages","IconButton","toString","isBot","handleAcepptTicketBot","handleAcepptTicket","CheckIcon","isGroup","toUpperCase","ClearOutlinedIcon","handleViewTicket","ReplayIcon","handleReopenTicket","useTickets","queueIds","withUnreadMessages","whatsappIds","statusFilter","forceSearch","userFilter","sortTickets","searchOnMessages","hasMore","setHasMore","setTickets","count","setCount","whatsapps","dateStart","sub","dateEnd","item","fetchTickets","useCompanySettings","getAll","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","NotificationsPopOver","volume","ticketIdUrl","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","getSetting","q","showTicketWithoutQueue","setShowTicketWithoutQueue","setShowNotificationPending","showGroupNotification","setShowGroupNotification","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","fetchSettings","Notification","requestPermission","onConnectNotificationsPopover","onCompanyTicketNotificationsPopover","prevState","ticketIndex","notfiticationIndex","n","tag","String","onCompanyAppMessageNotificationsPopover","_data$ticket","_data$ticket2","_user$queues","_data$ticket3","_data$ticket4","_data$ticket5","_data$ticket6","_data$ticket6$whatsap","fromMe","read","some","_data$ticket7","_data$ticket7$whatsap","visibilityState","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","substring","appName","Favicon","animated","appLogoFavicon","defaultLogoFavicon","alertCount","iconSize","handleClick","aria-label","ChatIcon","Popover","disableScrollLock","transformOrigin","onClose","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","VolumeDownIcon","xs","Slider","Number","aria-labelledby","step","min","max","onChange","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","setQueues","marginTop","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","Chip","MenuItem","TabPanel","rest","avatar","AvatarUploader","setAvatar","selectedFile","setSelectedFile","previewImage","setPreviewImage","Box","reader","FileReader","onload","result","readAsDataURL","htmlFor","Button","startIcon","CloudUploadIcon","backendUrl","require","multFieldLine","btnWrapper","buttonProgress","formControl","minWidth","textField","updateDiv","updateInput","updateLabel","textTransform","errorUpdate","errorText","UserSchema","Yup","shape","required","nullable","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","profileUrl","setProfileUrl","tab","setTab","startWorkRef","endWorkRef","_data$queues","userQueueIds","fetchUser","handleClose","handleTabChange","newValue","Dialog","scroll","DialogTitle","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","uploadAvatar","formData","FormData","append","reload","handleSaveUser","setSubmitting","touched","errors","isSubmitting","setFieldValue","Form","Paper","mainPaper","elevation","Tabs","indicatorColor","textColor","scrollButtons","Tab","DialogContent","dividers","alignContent","md","xl","Field","as","TextField","autoFocus","Boolean","helperText","labelId","ampm","inputRef","InputLabelProps","shrink","inputProps","multiline","rows","DialogActions","CircularProgress","size","backdrop","drawer","BackdropLoading","Backdrop","AnnouncementDialog","announcement","aria-describedby","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","whiteSpace","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnchorEl","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","onCompanyAnnouncement","record","currentTarget","onScroll","scrollTop","scrollHeight","clientHeight","borderLeft","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","returnDays","data1","getTime","ceil","ChatPopover","notifySound","onCompanyChatPopover","newMessage","senderId","goToMessages","href","useSettings","param","getPublicSetting","packageVersion","VersionControl","storedVersion","caches","then","names","fancyBackground","toolbar","dark","barraSuperior","toolbarIcon","minHeight","transition","transitions","easing","sharp","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","flexGrow","drawerPaper","overflowX","drawerPaperClose","up","appBarSpacer","overflow","paddingTop","paddingBottom","containerWithScroll","logo","calculatedLogoLight","calculatedLogoDark","hideLogo","avatar2","StyledBadge","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userToken","setUserToken","loadingUserToken","setLoadingUserToken","userModalOpen","setUserModalOpen","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","colorMode","greaterThenSm","useMediaQuery","offsetWidth","ImageUrl","FRONTEND_URL","onCompanyAuthLayout","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","onImageUpdate","newProfileUrl","Menu","handleOpenUserModal","handleClickLogout","grey","pointer","TableAttendantsStatus","formatTime","startOf","Skeleton","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","countRating","avgWaitTime","avgSupportTime","online","CheckCircleIcon","ErrorIcon","useDashboard","getReport","useMessages","fetchMessages","ChartJS","CategoryScale","LinearScale","BarElement","Title","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","setInitialDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","index","quantidade","gutterBottom","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","renderInput","sx","Bar","DonutChart","COLORS","ResponsiveContainer","PieChart","Pie","dataKey","nameKey","cx","cy","outerRadius","innerRadius","labelLine","strokeWidth","midAngle","percent","RADIAN","PI","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","dy","entry","Cell","Filters","setDateStartTicket","setDateEndTicket","dateStartTicket","dateEndTicket","setQueueTicket","queueTicket","setDateStart","setDateEnd","fetchDataFilter","setFetchDataFilter","customFixedHeightPaperLg","sm","ChartsDate","hasOwnProperty","horario","total","marginBottom","boxContainer","tabHeaderBackground","ForbiddenPage","Container","overline","letterSpacing","fontFamily","h4","borderWidth","borderStyle","tabIndicator","nps","fixedHeightPaper","cardAvatar","cardTitle","blue","cardSubtitle","alignRight","selectContainer","iframeDashboard","customFixedHeightPaper","fixedHeightPaper2","counters","setCounters","setAttendants","filterType","setFilterType","setPeriod","dateFrom","setDateFrom","dateTo","setDateTo","selectedUsers","setSelectedUsers","selectedQueues","setSelectedQueues","newDate","getDate","month","getMonth","year","getFullYear","nowIni","now","showFilter","setShowFilter","firstLoad","isEmpty","date_from","date_to","GetMessages","all","Grid2","float","ClearIcon","FilterListIcon","handleChangeTab","indicator","borderColor","lg","Card","CardContent","Stack","direction","supportHappening","SvgIcon","CallIcon","supportPending","HourglassEmptyIcon","supportFinished","supportGroups","Groups","GetUsers","userOnline","RecordVoiceOverIcon","leads","GroupAddIcon","MessageIcon","SendIcon","AccessAlarmIcon","TimerIcon","ArrowUpward","ArrowDownward","ChartDonut","npsPromotersPerc","npsDetractorsPerc","npsPassivePerc","npsScore","parseInt","paragraph","waitRating","withoutRating","withRating","percRating","toLocaleString","exportarGridParaExcel","ws","XLSX","table_to_sheet","getElementById","wb","book_new","book_append_sheet","SaveAlt","ButtonWithSpinner","TagsContainer","setTags","selecteds","setSelecteds","loadTags","Array","createTag","reason","optionsChanged","newTag","getRandomHexColor","syncTags","contactId","red","floor","random","padStart","Autocomplete","freeSolo","v","r","getOptionLabel","renderTags","getTagProps","PaperComponent","extraAttr","ContactSchema","ContactModal","onSave","disableBot","lgpdAcceptedAt","setContact","setDisableBot","fetchContact","handleSaveContact","Switch","checked","FieldArray","_ref3","info","DeleteOutlineIcon","ShowTicketOpen","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","channelFilter","setChannelFilter","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","fetchContacts","IconChannel","Facebook","verticalAlign","Instagram","WhatsApp","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","renderOptionLabel","clearOnBlur","autoHighlight","clearOnEscape","handleSelectOption","onKeyPress","InputProps","endAdornment","displayEmpty","w","handleCloseContactModal","handleCloseAlert","ContactTag","ConnectionIcon","connectionType","InstagramIcon","FacebookIcon","autoComplete","buttonColorError","AcceptTicketWithouSelectQueue","handleUpdateTicketStatus","otherTicket","settingMessage","isGreetingMessage","msg","mediaUrl","handleSendMessage","useQueues","UserStatusIcon","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","setMsgTransfer","loadQueues","fetchUsers","noOptionsText","maxRows","minRows","isTransfered","queueTag","connectionTag","lastMessageTimeUnread","contactLastMessageUnread","ticketInfo","secondaryContentSecond","ticketInfo1","Radiusdot","connectionIcon","TicketListItemCustom","_ticket$whatsapp2","acceptTicketWithouSelectQueueOpen","setAcceptTicketWithouSelectQueueOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleOpenAcceptTicketWithouSelectQueue","useCallback","truncate","str","len","isNil","handleCloseTransferTicketModal","tagName","toLowerCase","GroupIcon","ListItemSecondaryAction","Done","secondaryContentSecond1","handleOpenTransferModal","SwapHoriz","handleCloseTicket","HighlightOff","sendFarewellMessage","amountUsedBotQueues","handleCloseIgnoreTicket","Replay","TicketsSkeleton","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","ticketsCount","ticketSortAsc","b","ticketSortDesc","sortDir","unshift","sort","TicketsListCustom","updateCount","shouldUpdateTicket","indexOf","onCompanyTicketTicketsList","onCompanyAppMessageTicketsList","onCompanyContactTicketsList","onConnectTicketsList","square","TicketsListSkeleton","menuListItem","TicketsQueueSelect","userQueues","PaperProps","MenuListProps","Checkbox","TagsFilter","onFiltered","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","userList","getOptionSelected","getUserProps","StatusFilter","WhatsappsFilter","initialWhatsapps","loadWhatsapps","whatsappList","getWhatsappProps","QueueSelectedContext","QueueSelectedProvider","selectedQueuesMessage","setSelectedQueuesMessage","ticketsWrapper","tabsHeader","settingsIcon","tabPanelItem","tabsBadge","ticketOptionsBox","optionsBackground","serachInputWrapper","searchIcon","searchInput","show","hide","closeAllFab","speedDial","snackbar","yesButton","noButton","filterIcon","buttonOpen","TicketsManagerTabs","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","setSortTickets","searchInputRef","setSearchOnMessages","openCount","setOpenCount","pendingCount","setPendingCount","groupingCount","setGroupingCount","selectedTags","setSelectedTags","setForceSearch","selectedStatus","setSelectedStatus","setFilter","snackbarOpen","setSnackbarOpen","hoveredButton","setHoveredButton","isHoveredAll","setIsHoveredAll","isHoveredNew","setIsHoveredNew","isHoveredResolve","setIsHoveredResolve","isHoveredOpen","setIsHoveredOpen","isHoveredClosed","setIsHoveredClosed","isHoveredSort","setIsHoveredSort","isFilterActive","setIsFilterActive","searchTimeout","applyPanelStyle","handleSnackbarClose","handleFilter","setOpen","hidden","setHidden","handleCloseOrOpenTicket","SearchIcon","InputBase","searchedTerm","FilterAlt","FilterAltOff","ToggleButton","VisibilityIcon","VisibilityOffIcon","Snackbar","ContentProps","AddIcon","handleSnackbarOpen","PlaylistAddCheckOutlined","MoveToInboxIcon","CheckBoxIcon","TextRotationDown","TextRotateUp","handleChangeTabOpen","MessageSharpIcon","ClockIcon","Group","TicketsList","val","FormatMask","setPhoneFormatMask","phoneToFormat","phoneNumberFormatted","match","removeMask","maskPhonePattern","phoneNumber","formatSerializedId","serializedId","_formatMask$setPhoneF","formatMask","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","large","showRotate","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","editItem","DeleteIcon","ConfirmationModal","onConfirm","ContactNotesEditModal","editedNote","setEditedNote","handleSave","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","editingNote","setEditingNote","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","renderNoteList","handleEdit","setErrors","TagsKanbanContainer","setSelected","renderSelectedValue","selectedTag","flexShrink","borderRight","inputBackground","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","blockingContact","setBlockingContact","openForm","setOpenForm","hideNum","setHideNum","setAcceptAudio","BackdropProps","ModalProps","CloseIcon","handleContactToggleAcceptAudio","CardHeader","titleTypographyProps","subheaderTypographyProps","CreateIcon","subheader","slice","Link","handleBlockContact","handleUnBlockContact","contactTags","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","ContactSendModal","handleSendVcard","Modal","setAppElement","customStyles","overlay","ModalCamera","onRequestClose","onCapture","capturedImage","setCapturedImage","Camera","onTakePhoto","dataUri","idealFacingMode","FACING_MODES","ENVIRONMENT","isImageMirror","fetch","res","blob","ForwardMessageContext","ForwardMessageProvider","showSelectMessageCheckbox","setShowSelectMessageCheckbox","selectedMessages","setSelectedMessages","forwardMessageModalOpen","setForwardMessageModalOpen","AudioModal","audioRef","audioRate","setAudioRate","parseFloat","showButtonRate","setShowButtonRate","isIOS","navigator","userAgent","MSStream","playbackRate","onplaying","onpause","onended","controls","getAudioSource","sourceUrl","toggleRate","newRate","pdfjs","GlobalWorkerOptions","workerSrc","messageInputWrapperPrivate","buttonEnable","buttonDisable","MessageUploadMedias","onSend","onCancelSelection","currentIndex","setCurrentIndex","captions","setCaptions","numPages","setNumPages","componentMounted","setComponentMounted","isTyping","setIsTyping","firstTyping","setFirstTyping","onDocumentLoadSuccess","handlePrev","handleNext","handleSend","selectedMedias","caption","renderFileContent","currentFile","Document","onLoadSuccess","Page","prevCaptions","updatedCaptions","onBlur","handleTextFieldBlur","onKeyDown","shiftKey","SkipPrevious","Cancel","Send","SkipNext","EditMessageContext","EditMessageProvider","editingMessage","setEditingMessage","InputComponent","other","OutlinedDiv","_excluded2","inputComponent","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","ticketUserId","intervalo","valorIntervalo","enviarQuantasVezes","tipoDias","setSchedule","currentContact","setCurrentContact","setContacts","setIntervalo","setTipoDias","attachment","setAttachment","attachmentFile","confirmationOpen","setConfirmationOpen","messageInputRef","selectedWhatsapps","setSelectedWhatsapps","mappedWhatsapps","c","customList","ticketUser","capitalize","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","FormControlLabel","control","DeleteOutline","click","Mp3Recorder","MicRecorder","bitRate","mainWrapper","dropInfo","dropInfoOut","gridFiles","newMessageBox","messageInputWrapper","messageInputPrivate","sendMessageIcons","ForwardMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","invertedFabMenu","invertedFabMenuMP","invertedFabMenuCont","invertedFabMenuMeet","invertedFabMenuDoc","invertedFabMenuCamera","pink","flexContainer","flexItem","MessageInput","ticketStatus","droppedFiles","ticketChannel","mediasUpload","setMediasUpload","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","onDragEnter","setOnDragEnter","appointmentModalOpen","setAppointmentModalOpen","signMessagePar","setSignMessagePar","setSignMessage","setPrivateMessage","privateMessageInputVisible","setPrivateMessageInputVisible","senVcardModalOpen","setSenVcardModalOpen","showModalMedias","setShowModalMedias","listQuickMessages","isMobile","placeholderText","setPlaceHolderText","maxLength","from","signMessageStorage","handleSendLinkVideo","link","handleChangeInput","handlePrivateMessage","handleQuickAnswersClick","handleUploadQuickMessageMedia","handleAddEmoji","emoji","native","modalCameraOpen","setModalCameraOpen","handleCapture","imageData","handleUploadCamera","handleChangeMedias","handleChangeSign","getStatusSingMessageLocalstogare","handleOpenModalForward","handleInputPaste","clipboardData","handleInputDrop","dataTransfer","handleUploadMedia","userName","sendMessage","quotedMsg","isPrivate","handleMenuItemClick","handleStartRecording","mediaDevices","getUserMedia","audio","m","truncatedMessage","firstWord","charAt","filteredOptions","disableOption","filename","extension","handleUploadAudio","stop","getMp3","handleCloseModalMedias","handleCancelAudio","handleOpenMenuClick","handleSendContactModalOpen","handleCameraModalOpen","handleCancelSelection","renderReplyingMessage","_message$contact","Clear","onDrop","CameraModal","vcard","vCard","handleSendContatcMessage","Hidden","only","Mood","ClickAwayListener","onClickAway","Picker","perLine","showPreview","showSkinTones","onSelect","Fab","keepMounted","PermMedia","CameraAlt","Person","Duo","Create","Comment","aria-controls","aria-haspopup","MoreVert","input","onPaste","messageQuickAnswersWrapperItem","Timer","Reply","CheckCircleOutline","Mic","ticketHeader","TicketHeaderSkeleton","TicketHeader","handleBack","ArrowBackIos","TicketInfo","setAmount","ShowTicketLogModal","activeStep","setActiveStep","logs","setLogs","typeDescriptions","fetchLogs","Stepper","orientation","_log$user","_log$queue","_log$queue2","_log$user2","Step","StepLabel","VcardPreview","numbers","profilePicUrl","getData","obj","contactObj","LocationPreview","image","handleLocation","dangerouslySetInnerHTML","__html","ForwardMessageModal","optionsContacts","setOptionsContacts","sending","setSending","messageSending","setMessageSending","sleep","ms","optionL","labelPlacement","responseList","messageId","contactL","handleForwardMessage","MessageOptionsMenu","editingContext","ticketOpen","setTicketOpen","AcceptTicketWithoutQueue","ForwardModal","hanldeReplyMessage","handleSetShowSelectCheckbox","YouTubePreview","videoUrl","videoId","setVideoId","ampersandPosition","YouTube","opts","SelectMessageCheckbox","isChecked","setIsChecked","handleSelectMessage","messagesListWrapper","currentTick","currentTicktText","backgroundImage","whatsBackground","whatsBackgroundDark","dragElement","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","messageRightPrivate","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","ackPlayedIcon","downloadMedia","light","messageCenter","deletedMessage","newMessages","messageIndex","messageToUpdate","MessagesList","loadingMore","setLoadingMore","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","dragActive","setDragActive","lgpdDeleteMessage","setLGPDDeleteMessage","settinglgpdDeleteMessage","settingEnableLGPD","entries","scrollToBottom","connectEventMessagesList","onAppMessageMessagesList","_data$message","_data$message$ticket","_data$message$ticket2","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","_obj$","_message$ticket","_message$ticket2","array","ind","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderTicketsSeparator","_messagesList","lastTicket","_message$ticket3","_message$ticket4","_message$ticket4$queu","_message$ticket5","_message$ticket5$queu","renderMessageDivider","path","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","_message$quotedMsg5","handleDrag","stopPropagation","isYouTubeLink","xmlRegex","onDragLeave","onDragOver","prevPageNumber","renderMessages","_message$queue2","_message$queue","_message$contact2","_message$contact3","xmlString","isDeleted","ExpandMore","xmlns","viewBox","d","onDoubleClick","isForwarded","basename","isEdited","ack","AccessTime","DoneAll","renderMessageAck","mainWrapperShift","easeOut","TicketMessagesDialog","setTicket","exportedToPDF","setExportedToPDF","handleExportToPDF","messagesListElement","headerElement","pdfOPtions","quality","html2canvas","scale","jsPDF","unit","headerClone","cloneNode","messagesListClone","containerElement","appendChild","html2pdf","set","handleExportAndClose","actionButtons","bottomButtonVisibilityIcon","botoes","SessionSchema","ratingId","TicketActionButtonsCustom","setIsMounted","formRef","scheduleModalOpen","setScheduleModalOpen","setContactId","showTicketLogOpen","setShowTicketLogOpen","openTicketMessageDialog","setOpenTicketMessageDialog","setEnableIntegration","useIntegration","setLogTicket","resetForm","_setting","HighlightOffIcon","UndoIcon","SwapHorizOutlined","handleContactToggleDisableBot","paddingHorizontal","innerRef","handleCloseTicketWithoutFarewellMsg","Ticket","dragDropFiles","setDragDropFiles","fetchTicket","onConnectTicket","onCompanyTicket","onCompanyContactTicket","_data$contact","handleDrawerOpen","TicketActionButtons","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","dragger","userSelect","TicketsCustom","ticketsManagerWidth","defaultTicketsManagerWidth","setTicketsManagerWidth","ticketsManagerWidthRef","handleMouseMove","newWidth","clientX","offsetLeft","handleMouseUp","removeEventListener","TicketsManager","addEventListener","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","withWidth","isWidthUp","Tickets","companyName","SignUp","setPlans","qs","planId","planList","listPublic","CssBaseline","LockOutlinedIcon","handleSignUp","mt","backdropFilter","powered","logoImg","iconButton","Login","allowSignup","setAllowSignup","catch","Helmet","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","render","arrayHelpers","FastField","abel","field","NumberFormat","customInput","_ref4","_ref5","_ref6","gap","tokenRefresh","memo","autoToken","setAutoToken","inputFileRef","attachmentName","setAttachmentName","isDefault","provider","enableImportMessage","greetingMediaAttachment","setWhatsApp","setEnableImportMessage","setImportOldMessagesGroups","setClosedTicketsPostImported","setImportOldMessages","setImportRecentMessages","copied","setCopied","schedulesEnabled","setSchedulesEnabled","NPSEnabled","setNPSEnabled","selectedPrompt","setSelectedPrompt","setPrompts","webhooks","setWebhooks","flowIdNotPhrase","setFlowIdNotPhrase","flowIdWelcome","setFlowIdWelcome","selectedIntegration","setSelectedIntegration","setIntegrations","generateRandomCode","settingSchedules","scheduleType","settingNPS","handleEnableImportMessage","flowDefault","flow","selectedFlowIdNotPhrase","selectedFlowIdWelcome","promptId","whatsQueueIds","queueIntegrations","flows","handleChangeIntegration","handleChangeFlowIdNotPhrase","handleChangeFlowIdWelcome","handleChangePrompt","charset","i","randomIndex","handleRefreshToken","handleCopyToken","clipboard","writeText","handleSaveSchedules","handleFileUpload","handleDeleFile","whatsappData","dir","handleSaveWhatsApp","_values$collectiveVac","_values$collectiveVac2","endIcon","Autorenew","FileCopy","selectedIds","webhook","setQrCode","onWhatsappData","QRCode","pxToRem","tooltipPopper","CircularProgressWithLabel","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","responseFacebook","accessToken","facebookUserId","facebookUserToken","responseInstagram","addInstagram","go","handleCloseWhatsAppModal","handleCloseQrModal","handleOpenConfirmationModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","statusImportMessages","isNaN","ultimoStatus","renderImportButton","QrcodeModal","WhatsAppModal","openInNewTab","PopupState","popupId","popupState","_planConfig$plan","_process$env$REACT_AP","_process$env$REACT_AP2","bindTrigger","bindMenu","FacebookLogin","appId","autoLoad","fields","scope","REACT_APP_REQUIRE_BUSINESS_MANAGEMENT","renderProps","_planConfig$plan2","_planConfig$plan3","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","useCompanies","updateSchedules","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","initialValue","modalUser","setModalUser","firstUser","setFirstUser","setRecord","listPlans","handleCloseModalUsers","handleSubmit","setValues","incrementDueDate","CompaniesManagerGrid","rowStyle","EditIcon","renderPlan","minimumFractionDigits","renderPlanValue","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","paymentMethod","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","isPublic","PlansManagerGrid","renderWhatsapp","renderFacebook","renderInstagram","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","_data$amount","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","loadHelps","helpList","Options","oldSettings","scheduleTypeChanged","setUserRating","setScheduleType","setChatBotType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","setUserCreation","loadingUserCreation","setLoadingUserCreation","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","UserRandom","setUserRandom","loadingUserRandom","setLoadingUserRandom","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","AcceptCallWhatsapp","setAcceptCallWhatsapp","loadingAcceptCallWhatsapp","setLoadingAcceptCallWhatsapp","setSendSignMessage","loadingSendSignMessage","setLoadingSendSignMessage","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","setSendQueuePosition","loadingSendQueuePosition","setLoadingSendQueuePosition","setSendFarewellWaitingTicket","loadingSendFarewellWaitingTicket","setLoadingSendFarewellWaitingTicket","setAcceptAudioMessageContact","loadingAcceptAudioMessageContact","setLoadingAcceptAudioMessageContact","setEnableLGPD","loadingEnableLGPD","setLoadingEnableLGPD","setLGPDMessage","loadinglgpdMessage","setLoadingLGPDMessage","lgpdLink","setLGPDLink","loadingLGPDLink","setLoadingLGPDLink","loadingLGPDDeleteMessage","setLoadingLGPDDeleteMessage","lgpdConsent","setLGPDConsent","loadingLGPDConsent","setLoadingLGPDConsent","lgpdHideNumber","setLGPDHideNumber","loadingLGPDHideNumber","setLoadingLGPDHideNumber","setRequiredTag","loadingRequiredTag","setLoadingRequiredTag","setCloseTicketOnTransfer","loadingCloseTicketOnTransfer","setLoadingCloseTicketOnTransfer","directTicketsToWallets","setDirectTicketsToWallets","loadingDirectTicketsToWallets","setLoadingDirectTicketsToWallets","setTransferMessage","loadingTransferMessage","setLoadingTransferMessage","setGreetingAcceptedMessage","loadingGreetingAcceptedMessage","setLoadingGreetingAcceptedMessage","setAcceptCallWhatsappMessage","loadingAcceptCallWhatsappMessage","setLoadingAcceptCallWhatsappMessage","setSendQueuePositionMessage","loadingSendQueuePositionMessage","setLoadingSendQueuePositionMessage","loadingShowNotificationPending","setLoadingShowNotificationPending","updateUserCreation","userPar","handleChangeUserCreation","FormHelperText","column","handleChangeUserRating","handleScheduleType","handleSendGreetingAccepted","handleUserRandom","handleSettingsTransfTicket","handleChatBotType","handleAcceptCallWhatsapp","handleSendSignMessage","handleSendGreetingMessageOneQueues","handleSendQueuePosition","handleSendFarewellWaitingTicket","handleAcceptAudioMessageContact","handleEnableLGPD","handleRequiredTag","handleCloseTicketOnTransfer","handleShowNotificationPending","handleLGPDMessage","handleLGPDLink","handleLGPDDeleteMessage","handleLGPDConsent","handleLGPDHideNumber","handletransferMessage","handleGreetingAcceptedMessage","handleAcceptCallWhatsappMessage","handlesendQueuePositionMessage","OnlyForSuperUser","ColorPicker","ColorBoxModal","currentColor","selectedColor","setSelectedColor","ColorBox","disableAlpha","hslGradient","handleOk","colorAdorment","appLogoLightPreviewDiv","appLogoDarkPreviewDiv","appLogoFaviconPreviewDiv","appLogoLightPreviewImg","appLogoDarkPreviewImg","appLogoFaviconPreviewImg","Whitelabel","settingsLoaded","setSettingsLoaded","currentUser","setCurrentUser","primaryColorLightModalOpen","setPrimaryColorLightModalOpen","primaryColorDarkModalOpen","setPrimaryColorDarkModalOpen","logoLightInput","logoDarkInput","logoFaviconInput","appNameInput","setAppName","updateSettingsLoaded","newSettings","handleSaveSetting","_settings$find","_settings$find2","_settings$find3","_settings$find4","_settings$find5","_settings$find6","primaryColorLight","primaryColorDark","appLogoLight","appLogoDark","uploadLogo","onUploadProgress","loaded","startAdornment","InputAdornment","Colorize","hex","defaultLogoLight","Delete","defaultLogoDark","SettingsCustom","setCompany","setSettings","setOldSettings","getAllSettings","getAllSettingsOld","settingList","settingListOld","findData","isSuper","InputField","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","formField","firstName","address1","city","zipcode","country","ul","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","usersPlans","setUsersPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","price","buttonText","buttonVariant","customValuePlans","setCustomValuePlans","tier","StarIcon","line","MinimizeIcon","handleChangeMin","handleChangeAdd","handleChangeConnectionsMin","handleChangeConnectionsAdd","CardActions","PaymentDetails","formValues","newPlan","address2","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","onCompanyPayment","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","invoiceId","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","formInitialValues","newValues","_submitForm","setTouched","PaymentForm","_renderStepContent","invoice","onPayClick","detail","currency","handlePayClick","linkInvoice","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","SubscriptionModal","userAvatar","avatarDiv","loadingContainer","loadingText","Users","deletingUser","setDeletingUser","onCompanyUser","handleDeleteUser","handleCloseUserModal","prevPage","AccountCircle","renderProfileImage","handleEditUser","colSpan","btns","ContactImportWpModal","userProfile","contactsToImport","setContactsToImport","statusMessage","setStatusMessage","handleClosed","handleOnExportContacts","model","allDatas","contactTag","_element$tags","tagsContact","join","contactWithTags","exportData","json_to_sheet","handleimportContact","contactIndex","Contacts","importContactModalOpen","setImportContactModalOpen","deletingContact","setDeletingContact","ImportContacts","setImportContacts","unBlockingContact","setUnBlockingContact","confirmOpen","setConfirmOpen","setExportContact","confirmChatsOpen","setConfirmChatsOpen","contactTicket","setContactTicket","fileUploadRef","onContactEvent","handleDeleteContact","handleImportExcel","handleimportChats","ArrowDropDown","ContactPhone","Backup","handleOpenContactModal","_formatSerializedId","_contact$number","_contact$whatsapp","CancelIcon","hadleEditContact","BlockIcon","getWindowDimensions","innerWidth","innerHeight","xlsTable","importOptions","buttonImport","select","backButtonContainer","ContactImport","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","setRows","setColumns","contactFieldsAvailable","setContactFieldsAvailable","columnValue","setColumnValue","selectedFields","setSelectedFields","openingFile","setOpeningFile","selection","setSelection","invalidFile","setInvalidFile","setError","countCreated","setCountCreated","countIgnored","setCountIgnored","uploading","setUploading","imported","setImported","selectedRows","setSelectedRows","validateContact","setValidateContact","contactFields","handleSelectChange","columnKey","oldValue","prevSelectedFields","newSelectedFields","prevColumnValue","newColumnValue","prevSelection","newSelection","renderXls","stickyHeader","newSelectedRows","contactField","renderSelectbox","rowIndex","prevSelectedRows","columnIndex","getRootProps","getInputProps","useDropzone","acceptedFiles","Sheets","SheetNames","utils","sheet_to_json","defval","range","decode_range","encode_col","WorksheetToDatagrid","readAsArrayBuffer","maxFiles","FormGroup","contactData","selectedField","prevCount","alert","processImport","upload","scrollbarStylesSoftBig","ContactImportPage","cardHeaderPending","card","changeWarap","yellow","DashboardManage","setUpdate","ticketNot","setTicketNot","onAppMessage","_err$response2","Moments","reduce","userTickets","_group$user","_group$userTickets","_ticket$contact$name","_ticket$contact3","_ticket$lastMessage","VisibilityOutlined","MomentsPending","pendingTickets","ReportProblem","_ticket$contact4","_ticket$lastMessage2","_ticket$queue3","_ticket$queue4","ChatMoments","MomentsUser","ToolTip","QueueSchema","of","textField1","customHeight","VerticalLinearStepper","optQueueId","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","setFile","selectedQueueOption","setSelectedQueueOption","userOptions","setUserOptions","handleSaveBot","chatBotId","fetchList","_steps$options$active","handleCloseConfirmationModal","handleDeleteQueue","validateOnChange","nonLinear","_steps$options$index","_touched$options","_touched$options$inde","_errors$options","_errors$options$index","_touched$options2","_touched$options2$ind","_errors$options2","_errors$options2$inde","_touched$options3","_touched$options3$ind","_errors$options3","_errors$options3$inde","_touched$options4","_touched$options4$ind","_errors$options4","_errors$options4$inde","_touched$options5","_touched$options5$ind","_errors$options5","_errors$options5$inde","_touched$options6","_touched$options6$ind","_errors$options6","_errors$options6$inde","_touched$options7","_touched$options7$ind","_errors$options7","_errors$options7$inde","_touched$options8","_touched$options8$ind","_errors$options8","_errors$options8$inde","SaveIcon","StepContent","HelpOutlineOutlinedIcon","helpertext","optIntegrationId","optFileId","f","chatbots","QueueModal","onEdit","tempoRoteador","ativarRoteador","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","initialStateSchedule","_queue$chatbots$activ","optionsId","handleSaveQueue","onFocus","selectField","_queue$chatbots$index","_touched$chatbots","_touched$chatbots$ind","_errors$chatbots","_errors$chatbots$inde","_touched$chatbots2","_touched$chatbots2$in","_errors$chatbots2","_errors$chatbots2$ind","_queue$chatbots$index2","_touched$chatbots3","_touched$chatbots3$in","_errors$chatbots3","_errors$chatbots3$ind","_touched$chatbots4","_touched$chatbots4$in","_errors$chatbots4","_errors$chatbots4$ind","_touched$chatbots5","_touched$chatbots5$in","_errors$chatbots5","_errors$chatbots5$ind","_touched$chatbots6","_touched$chatbots6$in","_errors$chatbots6","_errors$chatbots6$ind","_touched$chatbots7","_touched$chatbots7$in","_errors$chatbots7","_errors$chatbots7$ind","_touched$chatbots8","_touched$chatbots8$in","_errors$chatbots8","_errors$chatbots8$ind","OptionsChatBot","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","onQueueEvent","handleEditQueue","handleCloseQueueModal","handleOpenQueueModal","TagSchema","TagModal","tagId","lanes","setLanes","selectedLane","setSelectedLane","selectedRollbackLane","setSelectedRollbackLane","setTag","fetchTags","tagData","handleSaveTag","lane","shadows","closeButton","ContactTagListModal","setTagList","onCompanyTags","_data$tag","_data$tag$contacts","_data$tag2","_data$tag2$contacts","closeAfterTransition","BackdropComponent","Fade","handleRemoveContactTag","tagIndex","Tags","selectedTagContacts","setSelectedTagContacts","selectedTagName","setSelectedTagName","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchMoreTags","handleDeleteTag","handleCloseTagModal","newSearchParam","handleOpenTagModal","_tag$contacts","_tag$contacts2","handleShowContacts","MoreHoriz","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","medias","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","helpPaper","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","openVideoModal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","onContactListEvent","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","findContactList","onCompanyContactLists","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","CompanySchema","CompanyModal","showPassword","setShowPassword","fetchCompany","companyData","handleSaveCompany","VisibilityOff","Visibility","newCompanies","companyIndex","Companies","selectedCompany","setSelectedCompany","deletingCompany","setDeletingCompany","companyModalOpen","setCompanyModalOpen","fetchCompanies","handleDeleteCompany","handleCloseCompanyModal","_company$plan","folderSize","numberFileFolder","updatedAtFolder","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","handleSaveQuickeMessage","AttachFileIcon","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","onQuickMessageEvent","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Route","Component","Redirect","RouterRoute","eventTitleStyle","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","previous","next","yesterday","tomorrow","agenda","noEventsInRange","showMore","newSchedules","scheduleIndex","calendarToolbar","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","onCompanySchedule","handleDeleteSchedule","handleCloseScheduleModal","Calendar","formats","agendaDateFormat","weekdayFormat","events","_schedule$contact","handleEditSchedule","end","startAccessor","endAccessor","CampaignSchema","CampaignModal","campaignId","tagListId","setCampaign","setContactLists","tagLists","setTagLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","formattedTagLists","prevCampaignData","moreThenAnHour","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","onCompanyCampaign","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","sabado","domingo","startHour","endHour","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","setSabado","setDomingo","setStartHour","setEndHour","settingsList","fromEntries","handleOnChangeSettings","changedProp","removeVariable","newList","CardCounter","CampaignReport","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","onCampaignEvent","LinearProgress","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","chatList","listItemActive","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","ownerId","messageList","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","onChatUser","changedChats","onChat","filteredChats","onCurrentChat","deleteChat","loadMoreMessages","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","onPromptEvent","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","filteredWhatsapps","companyInfos","loadingComp","setLoadingComp","setCompanies","WhatsAppModalAdmin","AllConnections","loadingWhatsapp","setLoadingWhatsapp","setWhats","filterConnections","setFilterConnections","companyWhatsApps","setCompanyWhatsApps","loadCompanies","handleOpenWhatsAppModal","whatsappsFilter","comp","WhatsAppModalCompany","QueueSelectCustom","mainPaperTable","mainPaperFilter","mainHeaderBlock","filterItem","Reports","pageSize","setPageSize","setQueueIds","userIds","setUserIds","setOnlyRated","totalTickets","setTotalTickets","page","mainHeaderFilter","closedAt","dataFechamento","toLocaleDateString","horaFechamento","toLocaleTimeString","dataCriacao","horaCriacao","Conexo","whatsappName","Contato","Usurio","Fila","queueName","Status","ltimaMensagem","DataAbertura","HoraAbertura","DataFechamento","HoraFechamento","TempoDeAtendimento","History","Forward","Pagination","useNodeStorage","node","setNodesStorage","setConnectsStorage","connects","setAct","act","isConnectable","storageItems","Handle","onConnect","ArrowForwardIos","pointerEvents","ContentCopy","Message","FlowBuilderAddTextModal","onUpdate","activeModal","setActiveModal","setLabels","btn","textDig","setTextDig","FlowBuilderIntervalModal","timerSec","setTimerSec","sec","RocketLaunch","ImportExport","condition","DynamicFeed","arrayOption","Image","CallSplit","Videocam","selectFieldStyles","FlowBuilderConditionModal","rule","setRule","valueCondition","setValueCondition","FlowBuilderMenuModal","setArrayOption","old","AddCircle","newArr","removeOption","FlowBuilderAddImgModal","preview","setPreview","oldImage","setOldImage","setMedias","idx","Compressor","FlowBuilderTicketModal","setQueueSelected","FlowBuilderAddAudioModal","MicNone","FlowBuilderRandomizerModal","valueLabelDisplay","handleValue","marks","FlowBuilderAddVideoModal","FlowBuilderSingleBlockModal","setElements","elementsSeq","setElementsSeq","elementsSeqEdit","setElementsSeqEdit","elementsEdit","setElementsEdit","numberMessages","setNumberMessages","numberMessagesLast","setNumberMessagesLast","numberInterval","setNumberInterval","numberIntervalLast","setNumberIntervalLast","numberAudio","setNumberAudio","numberAudioLast","setNumberAudioLast","numberVideo","setNumberVideo","numberVideoLast","setNumberVideoLast","numberImg","setNumberImg","numberImgLast","setNumberImgLast","previewImg","setPreviewImg","previewAudios","setPreviewAudios","previewVideos","setPreviewVideos","handleElements","newNameFiles","elementsSequence","newArrMessage","newArrInterval","newArrImg","newArrAudio","newArrVideo","querySelector","onlyImg","onlyImgNameOriginal","itemSelectedEdit","indexElem","onlyAudio","onlyAudioNameOriginal","onlyVideo","onlyVideoNameOriginal","deleteElementsTypeOne","oldMedia","mediaItem","handleChangeMediasImg","imgBlob","handleChangeAudios","audioBlob","innerHTML","handleChangeVideos","videoBlob","divConteudo","imgLayout","valueDefault","audioLayout","valueRecordDefault","defaultChecked","videoLayout","messageLayout","intervalLayout","seq","elementsEditLoc","sequence","itemNode","inode","numberLoc","elm","arrNumberMax","apply","verifyButtonsUpload","scrollBehavior","oldEleme","mountData","handleSaveNode","LibraryBooks","itemLoc","ConfirmationNumber","speeddial","geraStringAleatoria","tamanho","stringAleatoria","caracteres","nodeTypes","messageNode","startNode","conditionNode","menuNode","intervalNode","img","imgNode","audioNode","randomizer","randomizerNode","videoNode","singleBlock","singleBlockNode","ticketNode","edgeTypes","buttonedge","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","arrowHeadType","markerEndId","edgePath","getBezierPath","markerEnd","getMarkerEnd","edgeCenterX","edgeCenterY","getEdgeCenter","foreignObjectSize","requiredExtensions","initialNodes","initialEdges","FlowBuilderConfig","dataNode","setDataNode","modalAddText","setModalAddText","modalAddInterval","setModalAddInterval","modalAddCondition","setModalAddCondition","modalAddMenu","setModalAddMenu","modalAddImg","setModalAddImg","modalAddAudio","setModalAddAudio","modalAddRandomizer","setModalAddRandomizer","modalAddVideo","setModalAddVideo","modalAddSingleBlock","setModalAddSingleBlock","modalAddTicket","setModalAddTicket","addNode","posY","nodes","posX","setNodes","setEdges","source","nodeDuplicate","maioresX","maiorX","finalY","nodeNew","onNodesChange","useNodesState","edges","onEdgesChange","useEdgesState","eds","addEdge","updateNode","dataAlter","SpeedDial","ariaLabel","SpeedDialIcon","SpeedDialAction","tooltipTitle","tooltipOpen","tooltipPlacement","clickActions","idFlow","saveFlow","ReactFlow","deleteKeyCode","onNodeDoubleClick","doubleClick","onNodeClick","clickNode","onEdgeClick","clickEdge","fitView","connectionLineStyle","stroke","defaultEdgeOptions","Controls","MiniMap","Background","WebhookModal","FlowBuilderModal","flowId","nameWebhook","FlowBuilder","selectedWebhookName","setSelectedWebhookName","confirmDuplicateOpen","setConfirmDuplicateOpen","reloadData","setReloadData","webhookId","handleDeleteWebhook","handleDuplicateFlow","DevicesFold","aria-expanded","FlowDefault","CampaignModalPhrase","FlowCampaignId","dataItem","setDataItem","phrase","dataItemError","setDataItemError","flowSelected","setFlowSelected","flowsData","setFlowsData","flowsDataComplete","setFlowsDataComplete","whatsAppNames","setWhatsAppNames","setWhatsApps","whatsAppSelected","setWhatsAppSelected","setActive","openModal","getFlows","nameFlow","itemFlows","detailsPhrase","clearData","applicationSaveAndEdit","disablePortal","CampaignsPhrase","campaignflows","setCampaignFlows","ModalOpenPhrase","setModalOpenPhrase","campaignflowSelected","setCampaignFlowSelected","getCampaigns","onSaveModal","TextFields","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","handleTestSession","newIntegrations","integrationIndex","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","typebot","flowbuilder","handleEditIntegration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","fileList","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","onFileEvent","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","inputContainer","listContainer","ToDoList","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","handleAddTask","newTasks","handleEditTask","handleDeleteTask","kanbanContainer","cardButton","common","white","dateInput","Kanban","startDate","setStartDate","endDate","setEndDate","jsonString","UserQueue","fetchedTags","lista","popularCards","filteredTickets","handleCardClick","_ticket$user2","handleAddConnectionClick","mx","handleSearchClick","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","newTags","onTagsEvent","handleReturnToKanban","_tag$ticketTags","ticketTags","Routes","BrowserRouter","exact","Signup","Financeiro","TicketResponsiveContainer","QuickMessages","Annoucements","Chat","Files","TagsKanban","ToastContainer","queryClient","QueryClient","App","setLocale","appColorLocalStorage","appNameLocalStorage","prefersDarkMode","preferredTheme","setMode","prevMode","newMode","createTheme","scrollbarStylesSoft","textPrimary","borderPrimary","fontColor","messageIcons","i18nlocale","ptBR","documentElement","setProperty","fetchVersionData","ThemeProvider","QueryClientProvider","client","ReactDOM","finishProgress","swUrl","serviceWorker","registration","module","exports"],"mappings":"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","file":"static/js/main.b2878cbc.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n\t\n});\n\nexport default api;\n","import React from \"react\";\n\nconst ColorModeContext = React.createContext({\n    toggleColorMode: () => { },\n    setPrimaryColorLight: (_) => { },\n    setPrimaryColorDark: (_) => { },\n    setAppLogoLight: (_) => { },\n    setAppLogoDark: (_) => { },\n    setAppLogoFavicon: (_) => { },\n});\n\nexport default ColorModeContext;","import React, { createContext, useContext, useState } from \"react\";\n\nconst ActiveMenuContext = createContext();\n\nexport const useActiveMenu = () => useContext(ActiveMenuContext);\n\nexport const ActiveMenuProvider = ({ children }) => {\n  const [activeMenu, setActiveMenu] = useState(\"\");\n\n  return (\n    <ActiveMenuContext.Provider value={{ activeMenu, setActiveMenu }}>\n      {children}\n    </ActiveMenuContext.Provider>\n  );\n};","function getConfig(name, defaultValue = null) {\n    // If inside a docker container, use window.ENV\n    if (window.ENV !== undefined) {\n        return window.ENV[name] || defaultValue;\n    }\n\n    return process.env[name] || defaultValue;\n}\n\nexport function getBackendUrl() {\n    return getConfig('REACT_APP_BACKEND_URL');\n}\n\nexport function getHoursCloseTicketsAuto() {\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\n}\n\nexport function getFrontendPort() {\n    return getConfig('SERVER_PORT');\n}\n\nexport function getPrimaryColor() {\n    return getConfig(\"REACT_APP_PRIMARY_COLOR\");\n}\n\nexport function getPrimaryDark() {\n    return getConfig(\"REACT_APP_PRIMARY_DARK\");\n}\n\nexport function getNumberSupport() {\n    return getConfig(\"REACT_APP_NUMBER_SUPPORT\");\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usurio criado com sucesso! Faa seu login!!!.\",\n          fail: \"Erro ao criar usurio. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          company: \"Nome da Organizao\",\n          phone: \"Whatsapp (DDD + NMERO)\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"J tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n          button: \"Acessar\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"No tem um conta? Cadastre-se!\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        dueDate: {\n          expiration: \"Sua assinatura expira em\",\n          days: \"dias!\",\n          day: \"dia!\",\n          expirationToday: \"Sua assinatura expira hoje!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        tabs: {\n          indicators: \"Indicadores\",\n          assessments: \"NPS\",\n          attendants: \"Atendentes\",\n        },\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n        cards: {\n          inAttendance: \"Em Atendimento\",\n          waiting: \"Aguardando\",\n          activeAttendants: \"Atendentes Ativos\",\n          finalized: \"Finalizados\",\n          newContacts: \"Novos Contatos\",\n          totalReceivedMessages: \"Mensagens Recebidas\",\n          totalSentMessages: \"Mensagens Enviadas\",\n          averageServiceTime: \"T.M. de Atendimento\",\n          averageWaitingTime: \"T.M. de Espera\",\n          status: \"Status (Atual)\",\n          activeTickets: \"Tickets Ativos\",\n          passiveTickets: \"Tickets Passivos\",\n          groups: \"Grupos\",\n        },\n        users: {\n\n\n          name: \"Nome\",\n          numberAppointments: \"Quantidade de Atendimentos\",\n          statusNow: \"Atual\",\n          totalCallsUser: \"Total de atendimentos por usuario\",\n          totalAttendances: \"Total de atendimentos\",\n        },\n        date: {\n          initialDate: \"Data Inicial\",\n          finalDate: \"Data Final\",\n        },\n        licence: {\n          available: \"Disponvel at\",\n        },\n        assessments: {\n          totalCalls: \"Total de Atendimentos\",\n          callsWaitRating: \"Atendimentos aguardando avaliao\",\n          callsWithoutRating: \"Atendimentos sem avaliao\",\n          ratedCalls: \"Atendimentos avaliados\",\n          evaluationIndex: \"ndice de avaliao\",\n          score: \"Pontuao\",\n          prosecutors: \"Promotores\",\n          neutral: \"Neutros\",\n          detractors: \"Detratores\",\n        },\n      },\n      reports: {\n        title: \"Relatrio de Pesquisas Realizadas\",\n        operator: \"Operador\",\n        period: \"Perodo\",\n        until: \"At\",\n        date: \"Data\",\n        reportTitle: \"Relatrios\",\n        calls: \"Atendimentos\",\n        search: \"Pesquisas\",\n        durationCalls: \"Duraco dos atendimentos\",\n        grupoSessions: \"Atendimentos em grupos\",\n        groupTicketsReports: {\n          timezone: \"America/Sao_Paulo\",\n          msgToast: \"Gerando relatrio compactado, por favor aguarde.\",\n          errorToast: \"Erro ao gerar o relatrio\",\n          back: \"Voltar\",\n          groupServiceReport: \"Relatrio de Atendimento em Grupos\",\n          loading: \"Carregando...\",\n          contact: \"Contato\",\n          dateOpen: \"Data abertura\",\n          dateLastUpdated: \"Data ltima Atualizao\",\n          agent: \"Quem atendeu\",\n          agentClosed: \"Quem fechou\",\n          waitingAssistance: \"Aguardando atendimento\",\n          process: \"Em atendimento\",\n        },\n        researchReports: {\n          response: \"resposta\",\n          active: \"(Ativa)\",\n          inactive: \"(Inativa)\",\n          quantity: \"Quantidade\",\n          percentage: \"porcentagem\",\n          title: \"Relatrio de Pesquisas Realizadas\",\n          activeSearch: \"Pesquisa ativa\",\n          inactiveSearch: \"Pesquisa inativa\",\n        },\n        ticketDurationDetail: {\n          msgToast: \"Gerando relatrio compactado, por favor aguarde.\",\n          title: \"Relatrio de Durao do Atendimento\",\n          startService: \"Incio do atendimento\",\n          lastUpdated: \"ltima atualizao\",\n          lastAgent: \"ltimo atendente\",\n          durationFinished: \"Durao aps finalizado\",\n        },\n        ticketDuration: {\n          title: \"Relatrio de Durao dos Atendimento\",\n          contact: \"Contato\",\n          open: \"Abertos\",\n          pending: \"Pendentes\",\n          finished: \"Finalizados\",\n          durationFinished: \"Durao dos finalizados\",\n          durationAfterFinished: \"Durao aps finalizado\",\n          actions: \"Aes\",\n        },\n        ticketReports: {\n          msgToast: \"Gerando relatrio compactado, por favor aguarde.\",\n          title: \"Relatrio de Atendimento\",\n        },\n        pdf: {\n          title: \"Relao de Atendimentos Realizados\",\n          exportTitle: \"Relao de Atendimentos em Grupos Realizados\",\n        },\n      },\n      todo: {\n        newTask: \"Nova Tarefa\",\n        add: \"Adicionar\",\n        task: \"Tarefas\",\n      },\n      contactImportWpModal: {\n        title: \"Exportar Contatos para o Excel\",\n        buttons: {\n          downloadModel: \"Download modelo do excel para importao\",\n          closed: \"Fechar\",\n          import: \"Selecione o arquivo do excel para importar Contatos\",\n        },\n      },\n      connections: {\n        title: \"Conexes\",\n        waitConnection: \"Aguarde... Suas conexes sero reiniciadas!\",\n        newConnection: \"Nova Conexo\",\n        restartConnections: \"Reiniciar Conexes\",\n        callSupport: \"Chamar Suporte\",\n        newConnection: \"Nova Conexo\",\n        toasts: {\n          deleted: \"Conexo excluda com sucesso!\",\n          closedimported:\n            \"Estamos fechando os tickets importados, por favor aguarde uns instantes\",\n        },\n        confirmationModal: {\n          closedImportedTitle: \"Fechar tickets importados\",\n          closedImportedMessage:\n            \"Se voc confirmar todos os tickets importados sero fechados\",\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Voc precisar ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar Conexo\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          closedImported: \"Fechar todos os tickets Importados\",\n          preparing: \"Preparando mensagens para importao\",\n          importing: \"Importando Mensagens do WhatsApp\",\n          newQr: \"Novo QR CODE\",\n          processed: \"Processado\",\n          in: \"de\",\n          connecting: \"Conectando\",\n        },\n        typography: {\n          processed: \"Processado\",\n          in: \"de\",\n          date: \"Data da mensagem\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sesso do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no boto 'QR CODE' e leia o QR Code com o seu celular para iniciar a sesso\",\n          },\n          connected: {\n            title: \"Conexo estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexo com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e o WhatsApp esteja aberto, ou clique no boto 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"ltima atualizao\",\n          default: \"Padro\",\n          actions: \"Aes\",\n          session: \"Sesso\",\n          number: \"Nmero do Whatsapp\",\n        },\n      },\n      showTicketOpenModal: {\n        title: {\n          header: \"Atendimento Existente\",\n        },\n        form: {\n          message: \"Este contato j est em atendimento:\",\n          user: \"Atendente\",\n          queue: \"Fila\",\n          messageWait:\n            \"Este contato j est aguardando atendimento. Veja na aba Aguardando!\",\n        },\n      },\n      showTicketLogModal: {\n        title: {\n          header: \"Logs\",\n        },\n        options: {\n          create: \"Ticket criado.\",\n          chatBot: \"ChatBot iniciado.\",\n          queue: \" - Fila definida.\",\n          open: \" iniciou o atendimento.\",\n          access: \"acessou o ticket.\",\n          transfered: \"transferiu o ticket.\",\n          receivedTransfer: \"recebeu o ticket transferido.\",\n          pending: \"devolveu a fila.\",\n          closed: \"fechou o ticket\",\n          reopen: \"reabriu o ticket\",\n          redirect: \"- redirecionado\"\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar Conexo\",\n          edit: \"Editar Conexo\",\n        },\n        tabs: {\n          general: \"Geral\",\n          messages: \"Mensagens\",\n          assessments: \"NPS\",\n          integrations: \"Integraes\",\n          schedules: \"Horrio de expediente\",\n        },\n        form: {\n          importOldMessagesEnable: \"Importar mensagens do aparelho\",\n          importOldMessages: \"Data de inicio da importao\",\n          importRecentMessages: \"Data de termino da importao\",\n          importOldMessagesGroups: \"Importar mensagens de grupo\",\n          closedTicketsPostImported: \"Encerrar tickets aps importao\",\n          name: \"Nome\",\n          queueRedirection: \"Redirecionamento de Fila\",\n          queueRedirectionDesc:\n            \"Selecione uma fila para os contatos que no possuem fila serem redirecionados\",\n          default: \"Padro\",\n          group: \"Permitir grupos\",\n          timeSendQueue: \"Tempo em minutos para redirecionar para fila\",\n          importAlert:\n            \"ATENO: Ao salvar, sua conexo ser encerrada, ser necessrio ler novamente o QR Code para importar as mensagens\",\n          groupAsTicket: \"Tratar grupos como ticket\",\n          timeCreateNewTicket: \"Criar novo ticket em x minutos\",\n          maxUseBotQueues: \"Enviar bot x vezes\",\n          timeUseBotQueues: \"Enviar bot em x minutos\",\n          expiresTicket: \"Encerrar chats abertos aps x minutos\",\n          expiresTicketNPS:\n            \"Encerrar chats aguardando avaliao aps x minutos\",\n          maxUseBotQueuesNPS:\n            \"Quantidade mxima de vezes que a avaliaao vai ser enviada\",\n          closeLastMessageOptions1: \"Do atendente/Cliente\",\n          closeLastMessageOptions2: \"Do atendente\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          greetingMessage: \"Mensagem de saudao\",\n          complationMessage: \"Mensagem de concluso\",\n          lgpdLinkPrivacy: \"Link para poltica de privacidade\",\n          lgpdMessage: \"Mensagem de saudaao LGPD\",\n          lgpdDeletedMessages: \"Ofuscar mensagem apagada pelo contato\",\n          lgpdSendMessage: \"Sempre solicitar confirmao do contato\",\n          ratingMessage: \"Mensagem de avaliaao - Escala deve ser de 0 a 10\",\n          token: \"Token para integrao externa\",\n          sendIdQueue: \"Fila\",\n          inactiveMessage: \"Mensagem de inatividade\",\n          timeInactiveMessage:\n            \"Tempo em minutos para envio do aviso de inatividade\",\n          whenExpiresTicket:\n            \"Encerrar chats abertos quando ltima mensagem for\",\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\n          prompt: \"Prompt\",\n          collectiveVacationEnd: \"Data final\",\n          collectiveVacationStart: \"Data inicial\",\n          collectiveVacationMessage: \"Mensagem de frias coletivas\",\n          queueIdImportMessages: \"Fila para importar as mensagens\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        menuItem: {\n          enabled: \"Habilitado\",\n          disabled: \"Desabilitado\",\n          minutes: \"minutos\",\n        },\n        success: \"Conexo salvo com sucesso.\",\n        errorSendQueue:\n          \"Foi informado tempo para redirecionar fila, porm no foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos\",\n        errorExpiresNPS:\n          \" obrigado informar um tempo para avaliao quando se utiliza o NPS.\",\n        errorRatingMessage:\n          \" obrigado informar uma mensagem de avaliao quando se utiliza o NPS.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sesso\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excludo com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          exportContact: \"Exportar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados sero perdidos.\",\n          blockContact: \"Tem certeza que deseja bloquear este contato?\",\n          unblockContact: \"Tem certeza que deseja desbloquear este contato?\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n          importChat: \"Importar Conversas\",\n          wantImport: \"Deseja importar todas as conversas do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n          export: \"Exportar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexo\",\n          email: \"Email\",\n          actions: \"Aes\",\n          lastMessage: \"ltima Mensagem\",\n        },\n        menu: {\n          importYourPhone: \"Importar do aparelho padro\",\n          importToExcel: \"Importar / Exportar do Excel\",\n        },\n      },\n      forwardMessage: {\n        text: \"Encaminhada\",\n      },\n      forwardMessageModal: {\n        title: \"Encaminhar mensagem\",\n        buttons: {\n          ok: \"Encaminhar\",\n        },\n      },\n      promptModal: {\n        form: {\n          name: \"Nome\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Mximo de Tokens na resposta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Mximo de mensagens no Histrico\",\n          voiceKey: \"Chave da API de Voz\",\n          voiceRegion: \"Regio de Voz\",\n        },\n        success: \"Prompt salvo com sucesso!\",\n        title: {\n          add: \"Adicionar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nome\",\n          queue: \"Setor/Fila\",\n          max_tokens: \"Mximo Tokens Resposta\",\n          actions: \"Aes\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida!\",\n        },\n        buttons: {\n          add: \"Adicionar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informaes adicionais\",\n          name: \"Nome\",\n          number: \"Nmero do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n          chatBotContact: \"Desabilitar chatbot\",\n          termsLGDP: \"Termos LGPD aceito em:\",\n          whatsapp: \"Conexo Origem: \"\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informao\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      flowbuilderModal: {\n        flowNotIdPhrase: \"Fluxo padro\",\n      },\n      queueModal: {\n        title: {\n          queueData: \"Dados da fila\",\n          text: \"Horrios de atendimento\",\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n          confirmationDelete:\n            \"Tem certeza? Todas as opes de integraes sero deletadas.\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          orderQueue: \"Ordem da fila (Bot)\",\n          rotate: \"Rodzio\",\n          timeRotate: \"Tempo de Rodzio\",\n          greetingMessage: \"Mensagem de saudao\",\n          complationMessage: \"Mensagem de concluso\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          token: \"Token\",\n          integrationId: \"Integrao\",\n          fileListId: \"Lista de arquivos\",\n          closeTicket: \"Fechar ticket\",\n          queueType: \"Tipo de menu\",\n          message: \"Mensagem de retorno\",\n          queue: \"Fila para transferncia\",\n          integration: \"Integrao\",\n          file: \"Lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        bot: {\n          title: \"Opes\",\n          toolTipTitle: \"Adicione opes para construir um chatbot\",\n          toolTip:\n            \"Se houver apenas uma opo, ela ser escolhida automaticamente, fazendo com que o bot responda com a mensagem da opo e siga adiante\",\n          selectOption: \"Selecione uma opo\",\n          text: \"Texto\",\n          attendent: \"Atendente\",\n          queue: \"Fila\",\n          integration: \"Integrao\",\n          file: \"Arquivo\",\n          toolTipMessageTitle:\n            \"A mensagem  obrigatria para seguir ao prximo nvel\",\n          toolTipMessageContent:\n            \"A mensagem  obrigatria para seguir ao prximo nvel\",\n          selectUser: \"Selecione um Usurio\",\n          selectQueue: \"Selecione uma Fila\",\n          selectIntegration: \"Selecione uma Integrao\",\n          addOptions: \"Adicionar opes\",\n        },\n        serviceHours: {\n          dayWeek: \"Dia da semana\",\n          startTimeA: \"Hora Inicial - Turno A\",\n          endTimeA: \"Hora Final - Turno A\",\n          startTimeB: \"Hora Inicial - Turno B\",\n          endTimeB: \"Hora Final - Turno B\",\n          monday: \"Segunda-feira\",\n          tuesday: \"Tera-feira\",\n          wednesday: \"Quarta-feira\",\n          thursday: \"Quinta-feira\",\n          friday: \"Sexta-feira\",\n          saturday: \"Sbado\",\n          sunday: \"Domingo\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Adicionar projeto\",\n          edit: \"Editar projeto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\n          typebotUnknownMessage: \"Mensagem de opo invlida\",\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          test: \"Testar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integrao testada com sucesso!\",\n          addSuccess: \"Integrao adicionada com sucesso.\",\n          editSuccess: \"Integrao editada com sucesso.\",\n        },\n      },\n      userModal: {\n        warning:\n          \"Para fazer a importao das mensagens  necessrio ler o qrCode novamente !!!\",\n        title: {\n          add: \"Adicionar usurio\",\n          edit: \"Editar usurio\",\n          updateImage: \"Atualizar imagem\",\n          removeImage: \"Excluir imagem\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          farewellMessage: \"Mensagem de despedida\",\n          profile: \"Perfil\",\n          startWork: \"Inicio de trabalho\",\n          endWork: \"Fim de trabalho\",\n          whatsapp: \"Conexo Padro\",\n          allTicketEnable: \"Habilitado\",\n          allTicketDisable: \"Desabilitado\",\n          allTicket: \"Visualizar chamados sem fila\",\n          allowGroup: \"Permitir Grupos\",\n          defaultMenuOpen: \"Aberto\",\n          defaultMenuClosed: \"Fechado\",\n          defaultMenu: \"Menu padro\",\n          defaultTheme: \"Tema Padro\",\n          defaultThemeDark: \"Escuro\",\n          defaultThemeLight: \"Claro\",\n          allHistoric: \"Ver conversas de outras filas\",\n          allHistoricEnabled: \"Habilitado\",\n          allHistoricDisabled: \"Desabilitado\",\n          allUserChat: \"Ver conversas de outros usurios\",\n          userClosePendingTicket: \"Permitir fechar tickets pendentes\",\n          showDashboard: \"Ver Dashboard\",\n          allowRealTime: \"Ver Painel de Atendimentos\",\n          allowConnections: \"Permitir aes nas conexes\",\n        },\n        tabs: {\n          general: \"Geral\",\n          permissions: \"Permisses\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          addImage: \"Adicionar Imagem\",\n          editImage: \"Editar Imagem\",\n        },\n        success: \"Usurio salvo com sucesso.\",\n      },\n      companyModal: {\n        title: {\n          add: \"Adicionar empresa\",\n          edit: \"Editar empresa\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          passwordDefault: \"Senha\",\n          numberAttendants: \"Usurios\",\n          numberConections: \"Conexes\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Empresa salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          assinar: \"Enviar Assinatura\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          addSchedule: \"Adicionar agendamento\"\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n          addKanban: \"Nova Lane\",\n          editKanban: \"Editar Lane\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          timeLane: \"Tempo em horas para redirecionar para lane\",\n          nextLaneId: \"Lane\",\n          greetingMessageLane: \"Mensagem de saudao da lane\",\n          rollbackLaneId: \"Voltar para Lane aps retomar atendimento\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salva com sucesso.\",\n        successKanban: \"Lane salva com sucesso.\",\n      },\n      fileModal: {\n        title: {\n          add: \"Adicionar lista de arquivos\",\n          edit: \"Editar lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Adicionar arquivo\",\n        },\n        form: {\n          name: \"Nome da lista de arquivos\",\n          message: \"Detalhes da lista\",\n          fileOptions: \"Lista de arquivos\",\n          extraName: \"Mensagem para enviar com arquivo\",\n          extraValue: \"Valor da opo\",\n        },\n        success: \"Lista de arquivos salva com sucesso!\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para comear a conversar.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop:\n            \" ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO \",\n          titleFileList: \"Lista de arquivo(s)\",\n        },\n      },\n      chatInternal: {\n        new: \"Nova\",\n        modal: {\n          conversation: \"Conversa\",\n          title: \"Ttulo\",\n          filterUsers: \"Filtro por Usurios\",\n          cancel: \"Fechar\",\n          save: \"Salvar\",\n        },\n        modalDelete: {\n          title: \"Excluir Conversa\",\n          message: \"Esta ao no pode ser revertida, confirmar?\",\n        },\n      },\n      ticketsManager: {\n        questionCloseTicket: \"VOC DESEJA FECHAR TODOS OS TICKETS?\",\n        yes: \"SIM\",\n        not: \"NO\",\n        buttons: {\n          newTicket: \"Novo\",\n          resolveAll: \"Resolver Todos\",\n          close: \"Fechar\",\n          new: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        inbox: {\n          closedAllTickets: \"Fechar todos os tickets?\",\n          closedAll: \"Fechar Todos\",\n          newTicket: \"Novo Ticket\",\n          yes: \"SIM\",\n          no: \"NO\",\n          open: \"Abertos\",\n          resolverd: \"Resolvidos\",\n        },\n        toasts: {\n          deleted: \"O atendimento que voc estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n          filterConections: \"Filtro por Conexo\",\n          filterConectionsOptions: {\n            open: \"Aberto\",\n            closed: \"Fechado\",\n            pending: \"Pendente\",\n          },\n          filterUsers: \"Filtro por Usuarios\",\n          filterContacts: \"Filtro por Contatos\",\n          ticketsPerPage: \"Tickets por pgina\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n          returnQueue: \"Devolver a Fila\",\n          scredule: \"Agendamento\",\n          deleteTicket: \"Deletar Ticket\",\n        },\n        closedTicket: {\n          closedMessage: \"Fechar Ticket Com Mensagem de Despedida\",\n          closedNotMessage: \"Fechar Ticket Sem Mensagem de Despedida\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usurios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        fieldWhatsapp: \"Selecione um whatsapp\",\n        noOptions: \"Nenhum usurio encontrado com esse nome\",\n        msgTransfer: \"Observaes - mensagem interna, no vai para o cliente\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      chatInternal: {\n        new: \"Nova\",\n        modal: {\n          conversation: \"Conversa\",\n          title: \"Ttulo\",\n          filterUsers: \"Filtro por Usurios\",\n          cancel: \"Fechar\",\n          save: \"Salvar\",\n        },\n        modalDelete: {\n          title: \"Excluir Conversa\",\n          message: \"Esta ao no pode ser revertida, confirmar?\",\n        },\n      },\n      ticketsList: {\n        called: \"Chamado\",\n        today: \"Hoje\",\n        missedCall: \"Chamada de voz/vdeo perdida s\",\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        groupingHeader: \"Grupos\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        noQueue: \"Sem Fila\",\n        buttons: {\n          accept: \"Aceitar\",\n          cancel: \"Cancelar\",\n          start: \"iniciar\",\n          closed: \"Fechar\",\n          reopen: \"Reabrir\",\n          transfer: \"Transferir\",\n          ignore: \"Ignorar\",\n          exportAsPDF: \"Exportar para PDF\",\n          kanbanActions: \"Opes de Kanban\"\n        },\n        acceptModal: {\n          title: \"Aceitar Chat\",\n          queue: \"Selecionar setor\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      SendContactModal: {\n        title: \"Enviar contato\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Enviar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexes\",\n          chatsTempoReal: \"Painel\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas rpidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administrao\",\n          companies: \"Empresas\",\n          users: \"Usurios\",\n          settings: \"Configuraes\",\n          files: \"Lista de arquivos\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n          queueIntegration: \"Integraes\",\n          version: \"Verso\",\n          kanban: \"Kanban\",\n          prompts: \"Talk.Ai\",\n          allConnections: \"Gerenciar conexes\",\n          reports: \"Relatrios\",\n          management: \"Gerncia\"\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n            message: \"Ol\",\n            messageEnd: \"seja bem-vindo a\",\n            active: \"Ativo at\",\n            goodMorning: \"Oi,\",\n            myName: \"meu nome \",\n            continuity: \"e darei continuidade em seu atendimento.\",\n            virtualAssistant: \"Assistente Virtual\",\n            token:\n              \"Token invlido, por favor entre em contato com o administrador da plataforma.\",\n          },\n          message: {\n            location: \"Localizao\",\n            contact: \"Contato\",\n          },\n          notRegister: \"Nenhum registro\",\n          refresh: \"Atualizar\",\n        },\n      },\n      languages: {\n        undefined: \"Idioma\",\n        \"pt-BR\": \"Portugus\",\n        es: \"Espaol\",\n        en: \"English\",\n        tr: \"Trke\",\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Nmero\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n          userId: \"ID do usurio/atendente\",\n          queueId: \"ID da Fila\",\n        },\n        mediaMessage: {\n          number: \"Nmero\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n        API: {\n          title: \"Documentao para envio de mensagens\",\n          methods: {\n            title: \"Mtodos de Envo\",\n            messagesText: \"Mensagens de Texto\",\n            messagesMidia: \"Mensagens de Media\",\n          },\n          instructions: {\n            title: \"Instrues\",\n            comments: \"Observaes Importantes\",\n            comments1:\n              \"Antes de enviar mensagens,  necessrio o cadastro do token vinculado  conexo que enviar as mensagens. <br />Para realizar o cadastro acesse o menu 'Conexes', clique no boto editar da conexo e insira o token no devido campo.\",\n            comments2:\n              \"O nmero para envio no deve ter mascara ou caracteres especiais e deve ser composto por:\",\n            codeCountry: \"Cdigo do Pas\",\n            code: \"DDD\",\n            number: \"Nmero\",\n          },\n          text: {\n            title: \"1. Mensagens de Texto\",\n            instructions:\n              \"Seguem abaixo a lista de informaes necessrias para envio das mensagens de texto:\",\n          },\n          media: {\n            title: \"2. Mensagens de Media\",\n            instructions:\n              \"Seguem abaixo a lista de informaes necessrias para envio das mensagens de texto:\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificao.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rpidas\",\n        searchPlaceholder: \"Pesquisar...\",\n        noAttachment: \"Sem anexo\",\n        confirmationModal: {\n          deleteTitle: \"Excluso\",\n          deleteMessage: \"Esta ao  irreversvel! Deseja prosseguir?\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          attach: \"Anexar Arquivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atalho adicionado com sucesso!\",\n          deleted: \"Atalho removido com sucesso!\",\n        },\n        dialog: {\n          title: \"Mensagem Rpida\",\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n          save: \"Salvar\",\n          cancel: \"Cancelar\",\n          geral: \"Permitir editar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          visao: \"Permitir viso\",\n        },\n        table: {\n          shortcode: \"Atalho\",\n          message: \"Mensagem\",\n          actions: \"Aes\",\n          mediaName: \"Nome do Arquivo\",\n          status: \"Status\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Aes\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n\n      kanban: {\n        title: \"Kanban\",\n        searchPlaceholder: \"Pesquisa\",\n        subMenus: {\n          list: \"Painel\",\n          tags: \"Lanes\",\n        },\n      },\n\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        subMenus: {\n          list: \"Listagem\",\n          listContacts: \"Lista de contatos\",\n          settings: \"Configuraes\",\n        },\n        settings: {\n          randomInterval: \"Intervalo Randmico de Disparo\",\n          noBreak: \"Sem Intervalo\",\n          intervalGapAfter: \"Intervalo maior aps\",\n          undefined: \"No definido\",\n          messages: \"mensagens\",\n          laggerTriggerRange: \"Intervalo de disparo maior\",\n          addVar: \"Adicionar varivel\",\n          save: \"Salvar\",\n          close: \"Fechar\",\n          add: \"Adicionar\",\n          shortcut: \"Atalho\",\n          content: \"Contedo\",\n        },\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexo\",\n          contactList: \"Lista de Contatos\",\n          option: \"Nenhuma\",\n          disabled: \"Desabilitada\",\n          enabled: \"Habilitada\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluda\",\n          confirmation: \"Confirmao\",\n          actions: \"Aes\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualizao\",\n          help: \"Utilize variveis como {nome}, {numero}, {email} ou defina variveis personalizadas.\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmao 1\",\n            confirmationMessage2: \"Mensagem de Confirmao 2\",\n            confirmationMessage3: \"Mensagem de Confirmao 3\",\n            confirmationMessage4: \"Mensagem de Confirmao 4\",\n            confirmationMessage5: \"Mensagem de Confirmao 5\",\n            messagePlaceholder: \"Contedo da mensagem\",\n            whatsapp: \"Conexo\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmao\",\n            contactList: \"Lista de Contato\",\n            tagList: \"Tags\",\n            statusTicket: \"Status do Ticket\",\n            openTicketStatus: \"Aberto\",\n            pendingTicketStatus: \"Pendente\",\n            closedTicketStatus: \"Fechado\",\n            enabledOpenTicket: \"Habilitado\",\n            disabledOpenTicket: \"Desabilitado\",\n            openTicket: \"Abrir ticket\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operao realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excludo\",\n        },\n      },\n      campaignReport: {\n        title: \"Relatrio de\",\n        inactive: \"Inativa\",\n        scheduled: \"Programada\",\n        process: \"Em Andamento\",\n        cancelled: \"Cancelada\",\n        finished: \"Finalizada\",\n        campaign: \"Campanha\",\n        validContacts: \"Contatos Vlidos\",\n        confirmationsRequested: \"Confirmaes Solicitadas\",\n        confirmations: \"Confirmaes\",\n        deliver: \"Entregues\",\n        connection: \"Conexo\",\n        contactLists: \"Lista de Contatos\",\n        schedule: \"Agendamento\",\n        conclusion: \"Concluso\",\n      },\n      announcements: {\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        active: \"Ativo\",\n        inactive: \"Inativo\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        dialog: {\n          edit: \"Edio de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualizao\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n            high: \"Alta\",\n            medium: \"Mdia\",\n            low: \"Baixa\",\n            active: \"Ativo\",\n            inactive: \"Inativo\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operao realizada com sucesso\",\n          deleted: \"Registro excludo\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configuraes de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudao\",\n          orderQueue: \"Ordenao da fila (bot)\",\n          actions: \"Aes\",\n          ID: \"ID\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        toasts: {\n          success: \"Fila salva com sucesso\",\n          deleted: \"Fila exclu[ida com sucesso\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! Os atendimentos dessa fila continuaro existindo, mas no tero mais nenhuma fila atribuda.\",\n        },\n      },\n      queue: {\n        queueData: \"Dados\",\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n        inputLabelRO: \"Filas somente leitura\",\n        withoutQueue: \"Sem fila\",\n      },\n      reports: {\n        title: \"Relatrios de Atendimentos\",\n        table: {\n          id: \"Ticket\",\n          user: \"Usurio\",\n          dateOpen: \"Data Abertura\",\n          dateClose: \"Data Fechamento\",\n          NPS: \"NPS\",\n          status: \"Status\",\n          whatsapp: \"Conexo\",\n          queue: \"Fila\",\n          actions: \"Aes\",\n          lastMessage: \"lt. Mensagem\",\n          contact: \"Cliente\",\n          supportTime: \"Tempo de Atendimento\",\n        },\n        buttons: {\n\n          filter: \"Aplicar Filtro\",\n          onlyRated: \"Apenas Avaliados\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n\n      },\n      queueIntegration: {\n        title: \"Integraes\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          lastUpdate: \"Ultima atualizao\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar Projeto\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! e ser removida das filas e conexes vinculadas\",\n        },\n      },\n      users: {\n        title: \"Usurios\",\n        table: {\n          status: \"Status\",\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          startWork: \"Inicio de trabalho\",\n          endWork: \"Fim de trabalho\",\n          actions: \"Aes\",\n          ID: \"ID\",\n        },\n        buttons: {\n          add: \"Adicionar usurio\",\n        },\n        toasts: {\n          deleted: \"Usurio excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usurio sero perdidos. Os atendimento abertos deste usurio sero movidos para a fila.\",\n        },\n      },\n      compaies: {\n        title: \"Empresas\",\n        table: {\n          ID: \"ID\",\n          status: \"Ativo\",\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          phone: \"Telefone\",\n          plan: \"Plano\",\n          active: \"Ativo\",\n          numberAttendants: \"Atendentes\",\n          numberConections: \"Conexes\",\n          value: \"Valor\",\n          namePlan: \"Nome Plano\",\n          numberQueues: \"Filas\",\n          useCampaigns: \"Campanhas\",\n          useExternalApi: \"Rest API\",\n          useFacebook: \"Facebook\",\n          useInstagram: \"Instagram\",\n          useWhatsapp: \"Whatsapp\",\n          useInternalChat: \"Chat Interno\",\n          useSchedules: \"Agendamento\",\n          createdAt: \"Criada Em\",\n          dueDate: \"Vencimento\",\n          lastLogin: \"Ult. Login\",\n          actions: \"Aes\",\n          money: \"R$\",\n          yes: \"Sim\",\n          no: \"No\",\n          document: \"CNPJ/CPF\",\n          recurrence: \"Recorrncia\",\n          monthly: \"Mensal\",\n          bimonthly: \"Bimestral\",\n          quarterly: \"Trimestral\",\n          semester: \"Semestral\",\n          yearly: \"Anual\",\n          clear: \"Limpar\",\n          delete: \"Excluir\",\n          user: \"Usurio\",\n          save: \"Salvar\",\n        },\n        buttons: {\n          add: \"Adicionar empresa\",\n        },\n        toasts: {\n          deleted: \"Empresa excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados da empresa sero perdidos. Os tickets abertos deste usurio sero movidos para a fila.\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nome\",\n          users: \"Usurios\",\n          connections: \"Conexes\",\n          campaigns: \"Campanhas\",\n          schedules: \"Agendamentos\",\n          enabled: \"Habilitadas\",\n          disabled: \"Desabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n          yes: \"Sim\",\n          no: \"No\",\n          money: \"R$\",\n          public: \"Pblico\"\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n        settings: {\n          codeVideo: \"Cdigo do Video\",\n          description: \"Descrio\",\n          clear: \"Limpar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n        },\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Voc tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excludo com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Voc tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          id: \"ID\",\n          name: \"Nome\",\n          kanban: \"Kanban\",\n          color: \"Cor\",\n          tickets: \"Registros Tags\",\n          contacts: \"Contatos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excludo com sucesso.\",\n        },\n      },\n\n      tagsKanban: {\n        title: \"Lanes\",\n        laneDefault: \"Em aberto\",\n        confirmationModal: {\n          deleteTitle: \"Voc tem certeza que quer excluir esta Lane?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Tickets\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Lane\",\n        },\n        toasts: {\n          deleted: \"Lane excluda com sucesso.\",\n        },\n      },\n\n      files: {\n        title: \"Lista de arquivos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ao\",\n        },\n        toasts: {\n          deleted: \"Lista excluda com sucesso!\",\n          deletedAll: \"Todas as listas foram excludas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\n        },\n      },\n      settings: {\n        success: \"Configuraes salvas com sucesso.\",\n        title: \"Configuraes\",\n        tabs: {\n          options: \"Opes\",\n          plans: \"Planos\",\n          helps: \"Ajuda\",\n        },\n        settings: {\n          userCreation: {\n            name: \"Criao de usurio\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          tabs: {\n            options: \"Opes\",\n            schedules: \"Horrios\",\n            plans: \"Planos\",\n            help: \"Ajuda\",\n          },\n          options: {\n            disabled: \"Desabilitado\",\n            enabled: \"Habilitado\",\n            updating: \"Atualizando...\",\n            creationCompanyUser: \"Criao de Company/Usurio\",\n            evaluations: \"Avaliaes\",\n            officeScheduling: \"Agendamento de Expediente\",\n            queueManagement: \"Gerenciamento por Fila\",\n            companyManagement: \"Gerenciamento por Empresa\",\n            connectionManagement: \"Gerenciamento por Conexo\",\n            sendGreetingAccepted: \"Enviar saudao ao aceitar o ticket\",\n            sendMsgTransfTicket:\n              \"Enviar mensagem transferncia de setor/atendente\",\n            checkMsgIsGroup: \"Ignorar Mensagens de Grupos\",\n            chatBotType: \"Tipo do Bot\",\n            userRandom: \"Escolher atendente aleatrio\",\n            buttons: \"Botes\",\n            acceptCallWhatsapp: \"Informar que no aceita ligao no whatsapp?\",\n            sendSignMessage: \"Permite atendente escolher ENVIAR Assinatura\",\n            sendGreetingMessageOneQueues:\n              \"Enviar saudao quando houver somente 1 fila\",\n            sendQueuePosition: \"Enviar mensagem com a posio da fila\",\n            sendFarewellWaitingTicket:\n              \"Enviar mensagem de despedida no Aguardando\",\n            acceptAudioMessageContact:\n              \"Aceita receber audio de todos contatos?\",\n            enableLGPD: \"Habilitar tratamento LGPD\",\n            requiredTag: \"Tag obrigatoria para fechar ticket\",\n            closeTicketOnTransfer: \"Fechar ticket ao transferir para outra fila\",\n            DirectTicketsToWallets: \"Mover automaticamente cliente para carteira\",\n            showNotificationPending: \"Mostrar notificao para tickets pendentes\"\n          },\n          customMessages: {\n            sendQueuePositionMessage: \"Mensagem de posio na fila\",\n            AcceptCallWhatsappMessage: \"Mensagem para informar que no aceita ligaes\",\n            greetingAcceptedMessage: \"Mensagem de Saudao ao aceitar ticket\",\n            transferMessage: \"Mensagem de transferncia - ${queue.name} = fila destino\",\n          },\n          LGPD: {\n            title: \"LGPD\",\n            welcome: \"Mensagem de boas vindas(LGPD)\",\n            linkLGPD: \"Link da poltica de privacidade\",\n            obfuscateMessageDelete: \"Ofuscar mensagem apagada\",\n            alwaysConsent: \"Sempre solicitar consentimento\",\n            obfuscatePhoneUser: \"Ofuscar nmero telefone para usurios\",\n            enabled: \"Habilitado\",\n            disabled: \"Desabilitado\",\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribudo :\",\n          dialogRatingTitle:\n            \"Deseja deixar uma avaliao de atendimento para o cliente?\",\n          dialogClosingTitle: \"Finalizando o atendimento com o cliente!\",\n          dialogRatingCancel: \"Resolver COM Mensagem de Despedida\",\n          dialogRatingSuccess: \"Resolver e Enviar Avaliao\",\n          dialogRatingWithoutFarewellMsg: \"Resolver SEM Mensagem de Despedida\",\n          ratingTitle: \"Escolha um menu de avaliao\",\n          notMessage: \"Nenhuma mensagem selecionada\",\n          amount: \"Valor de prospeco\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n            rating: \"Enviar Avaliao\",\n            enableIntegration: \"Habilitar integrao\",\n            disableIntegration: \"Desabilitar integrao\",\n            logTicket: \"Logs do Ticket\",\n            requiredTag: \"Voc deve atribuir uma tag antes de fechar o ticket.\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderPrivateMessage:\n          \"Digite uma mensagem ou aperte / para respostas rpidas\",\n        placeholderOpen:\n          \"Digite uma mensagem ou aperte / para respostas rpidas\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n        privateMessage: \"Mensagem Privada\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n          block: \"Bloquear\",\n          unblock: \"Desbloquear\",\n        },\n        extraInfo: \"Outras informaes\",\n      },\n      messageVariablesPicker: {\n        label: \"Variavis disponveis\",\n        vars: {\n          contactFirstName: \"Primeiro Nome\",\n          contactName: \"Nome\",\n          user: \"Atendente\",\n          greeting: \"Saudao\",\n          protocolNumber: \"Protocolo\",\n          date: \"Data\",\n          hour: \"Hora\",\n          ticket_id: \"N do Chamado\",\n          queue: \"Setor\",\n          connection: \"Conexo\",\n        },\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observaes do Contato\",\n        resolveWithNoFarewell: \"Finalizar sem despedida\",\n        acceptAudioMessage: \"Aceitar udios do contato?\",\n        appointmentsModal: {\n          title: \"Observaes do Ticket\",\n          textarea: \"Observao\",\n          placeholder: \"Insira aqui a informao que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          titleFrom: \"do contato \",\n          message:\n            \"Ateno! Todas as mensagens relacionadas ao ticket sero perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageInput: {\n        tooltip: {\n          signature: \"Habilitar/Desabilitar Assinatura\",\n          privateMessage: \"Habilitar/Desabilitar Mensagem Privada\",\n          meet: \"Enviar link para videoconferencia\",\n        },\n        type: {\n          imageVideo: \"Fotos e vdeos\",\n          cam: \"Cmera\",\n          contact: \"Contato\",\n          meet: \"Vdeo chamada\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        edit: \"Editar\",\n        forward: \"Encaminhar\",\n        toForward: \"Encaminhar\",\n        talkTo: \"Conversar Com\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      invoices: {\n        table: {\n          invoices: \"Faturas\",\n          details: \"Detalhes\",\n          users: \"Usurios\",\n          connections: \"Conexes\",\n          queue: \"Filas\",\n          value: \"Valor\",\n          expirationDate: \"Data Venc.\",\n          action: \"Ao\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padro.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padro encontrado. Verifique a pgina de conexes.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesso do WhatsApp no foi inicializada. Verifique a pgina de conexes.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No foi possvel verificar o contato do WhatsApp. Verifique a pgina de conexes\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no  um nmero de Whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No foi possvel baixar mdia do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticao. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_DELETE_WAPP_MSG: \"No foi possvel excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"J existe um tquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sesso expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criao do usurio foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Voc no tem permisso para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"J existe um contato com este nmero.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configurao encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usurio encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor j est em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudao  obrigatrio quando h mais de uma fila.\",\n        ERR_OUT_OF_HOURS: \"Fora do Horrio de Expediente!\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"El usuario ha sido creado satisfactoriamente! Ahora inicia sesin!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          company: \"Nombre de la Empresa\",\n          phone: \"Whatsapp (COD + NMERO)\",\n        },\n        buttons: {\n          submit: \"Regstrate\",\n          login: \"Ya tienes una cuenta? Inicia sesin!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesin\",\n        form: {\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          button: \"Ingresar\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"No tienes cuenta? Regstrate!\",\n        },\n      },\n      companies: {\n        title: \"Registrar Empresa\",\n        form: {\n          name: \"Nombre de la Empresa\",\n          plan: \"Plan\",\n          token: \"Token\",\n          submit: \"Registrar\",\n          success: \"Empresa creada con xito!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Inicio de sesin exitoso!\",\n        },\n        dueDate: {\n          expiration: \"Suscripcin caducar en\",\n          days: \"das!\",\n          day: \"da!\",\n          expirationToday: \"Su suscripcin termina hoy!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        tabs: {\n          indicators: \"Indicadores\",\n          assessments: \"Evaluaciones\",\n          attendants: \"Agentes\",\n        },\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        cards: {\n          inAttendance: \"Atencin actual\",\n          waiting: \"Esperando\",\n          activeAttendants: \"Agentes Activos\",\n          finalized: \"Finalizados\",\n          newContacts: \"Nuevos Contactos\",\n          totalReceivedMessages: \"Total de Mensajes Recibidas\",\n          totalSentMessages: \"Total de Mensajes Enviadas\",\n          averageServiceTime: \"T.P. de Atencin\",\n          averageWaitingTime: \"T.P. de Espera\",\n          status: \"Status (Actual)\",\n        },\n        users: {\n          name: \"Nombre\",\n          numberAppointments: \"Total de tickets\",\n          statusNow: \"Actual\",\n          totalCallsUser: \"Total de atencin por usuario\",\n          totalAttendances: \"Total de atenciones\",\n        },\n        date: {\n          initialDate: \"Fecha Inicial\",\n          finalDate: \"Fecha Final\",\n        },\n        licence: {\n          available: \"Disponble hasta\",\n        },\n        assessments: {\n          totalCalls: \"Total de Tickets\",\n          callsWaitRating: \"Tickets aguardando evaluacin\",\n          callsWithoutRating: \"Ticket sin evaluacin\",\n          ratedCalls: \"Tickets evaluados\",\n          evaluationIndex: \"ndice de evaluacin\",\n          score: \"Puntaje\",\n          prosecutors: \"Promotores\",\n          neutral: \"Neutrales\",\n          detractors: \"Dectratores\",\n        },\n      },\n      reports: {\n        title: \"Reporte de Pesquisas Realizadas\",\n        operator: \"Agente\",\n        period: \"Perodo\",\n        until: \"Hasta\",\n        date: \"Fecha\",\n        reportTitle: \"Relatorios\",\n        calls: \"Atenciones\",\n        search: \"Pesquisas\",\n        durationCalls: \"Duracin de la atencin\",\n        grupoSessions: \"Atencin en grupos grupos\",\n        groupTicketsReports: {\n          timezone: \"America/Monterrey\",\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\n          errorToast: \"Erro ao generar relatorio\",\n          back: \"Volver\",\n          groupServiceReport: \"Relatorio de Atencin en Grupos\",\n          loading: \"Cargando...\",\n          contact: \"Contacto\",\n          dateOpen: \"Fecha de Apertura\",\n          dateLastUpdated: \"Fecha Ultima Actualizacin\",\n          agent: \"Agente\",\n          agentClosed: \"Agente(cerr)\",\n          waitingAssistance: \"Esperando atencin\",\n          process: \"En proceso\",\n        },\n        researchReports: {\n          response: \"respuesta\",\n          active: \"(Activa)\",\n          inactive: \"(Inactiva)\",\n          quantity: \"Cantidade\",\n          percentage: \"porcentaje\",\n          title: \"Relatorio de Pesquisas Realizadas\",\n          activeSearch: \"Pesquisa activa\",\n          inactiveSearch: \"Pesquisa inactiva\",\n        },\n        ticketDurationDetail: {\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\n          title: \"Relatorio de Duracin de la Atencin\",\n          startService: \"Incio de la Atencin\",\n          lastUpdated: \"ltima actualizacin\",\n          lastAgent: \"ltimo agente\",\n          durationFinished: \"Duracin despus de finalizado\",\n        },\n        ticketDuration: {\n          title: \"Relatorio de Duracin de Atencin\",\n          contact: \"Contacto\",\n          open: \"Abiertos\",\n          pending: \"Pendientes\",\n          finished: \"Finalizados\",\n          durationFinished: \"Duracin de los finalizados\",\n          durationAfterFinished: \"Duracin despus de finalizado\",\n          actions: \"Acciones\",\n        },\n        ticketReports: {\n          msgToast: \"Generando relatorio compactado, por favor aguarde.\",\n          title: \"Relatrio de Atencin\",\n        },\n        pdf: {\n          title: \"Relacin de Atenciones Realizadas\",\n          exportTitle: \"Relacin de Atenciones en Grupos Realizadas\",\n        },\n      },\n      todo: {\n        newTask: \"Nueva Tarea\",\n        add: \"Agregar\",\n        task: \"Tareas\",\n      },\n      contactImportWpModal: {\n        title: \"Exportar Contactos para Excel\",\n        buttons: {\n          downloadModel: \"Download - modelo de excel para importacin\",\n          closed: \"Cerrar\",\n          import: \"Seleccione el archivo de excel para importar los Contactos\",\n        },\n      },\n      connections: {\n        title: \"Conexiones\",\n        waitConnection: \"Espere... Las conexiones sern reiniciadas!\",\n        newConnection: \"Nueva Conexin\",\n        restartConnections: \"Reiniciar Conexiones\",\n        callSupport: \"Soporte\",\n        newConnection: \"Nueva Conexin\",\n        toasts: {\n          deleted:\n            \"La conexin de WhatsApp ha sido borrada satisfactoriamente!\",\n          closedimported:\n            \"Estamos cerrando los tickets importados, por favor espere.\",\n        },\n        confirmationModal: {\n          closedImportedTitle: \"Cerrar tickets importados\",\n          closedImportedMessage:\n            \"Seguro? Todos los tickets importados seran cerrados.\",\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"Ests seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Ests seguro? Deber volver a leer el cdigo QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Intntalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          closedImported: \"Cerrar todos los tickets Importados\",\n          preparing: \"Preparando mensajes para importacin\",\n          importing: \"Importando Mensajes del WhatsApp\",\n          newQr: \"Nuevo QR CODE\",\n          processed: \"Processado\",\n          in: \"de\",\n          connecting: \"Conectando\",\n        },\n        typography: {\n          processed: \"Processado\",\n          in: \"de\",\n          date: \"Fecha del mensaje\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesin de WhatsApp\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y vuelva a intentarlo o solicite un nuevo cdigo QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del cdigo QR\",\n            content:\n              \"Haga clic en el botn 'CDIGO QR' y lea el Cdigo QR con su telfono celular para iniciar la sesin\",\n          },\n          connected: {\n            title: \"Conexin establecida\",\n          },\n          timeout: {\n            title: \"Se perdi la conexin con el telfono celular\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y que WhatsApp est abierto, o haga clic en el botn 'Desconectar' para obtener un nuevo cdigo QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"ltima Actualizacin\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesin\",\n          number: \"Nmero de Whatsapp\",\n        },\n      },\n      showTicketOpenModal: {\n        title: {\n          header: \"Servicio existente\",\n        },\n        form: {\n          message: \"Hay un ticket abierto para este contacto:\",\n          user: \"Agente\",\n          queue: \"Fila\",\n          messageWait: \"Este contacto ya est en espera.\",\n        },\n      },\n      showTicketLogModal: {\n        title: {\n          header: \"Historico\",\n        },\n        options: {\n          create: \"Ticket creado.\",\n          chatBot: \"ChatBot iniciado.\",\n          queue: \" - Fila definida.\",\n          open: \"iniciou la atencin.\",\n          access: \"acces el ticket.\",\n          transfered: \"transferi el ticket.\",\n          receivedTransfer: \"recibi el ticket transferido.\",\n          pending: \"regres a la fila.\",\n          closed: \"cerr el ticket\",\n          reopen: \"abri el ticket\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        tabs: {\n          general: \"Geral\",\n          messages: \"Mensajes\",\n          assessments: \"Evaluaciones\",\n          integrations: \"Integraciones\",\n          schedules: \"Horario de trabajo\",\n        },\n        form: {\n          importOldMessagesEnable: \"Importar mensajes del celular\",\n          importOldMessages: \"Fecha de inicio\",\n          importRecentMessages: \"Fecha Final\",\n          importOldMessagesGroups: \"Importar mensajes de grupo\",\n          closedTicketsPostImported: \"Cerrar tickets despus de la importacin\",\n          name: \"Nombre\",\n          queueRedirection: \"Redireccin de Fila\",\n          queueRedirectionDesc:\n            \"Seleccione una fila para los contactos que no tienen una fila para redirigir\",\n          default: \"Por Defecto\",\n          group: \"Permitir grupos\",\n          timeSendQueue: \"Tiempo en minutos para redireccionar a la fila\",\n          importAlert:\n            \"ATENCIN: Guardando, su conexin ser cerrada, usted tendr que volver a leer el QR Code para importar los mensajes\",\n          groupAsTicket: \"Grupos como Ticket\",\n          timeCreateNewTicket: \"Iniciar un nuevo ticket en *n* minutos\",\n          maxUseBotQueues:\n            \"Cantidad mxima de veces que el chatbot va a ser enviado\",\n          timeUseBotQueues: \"Tiempo en minutos para nuevo envo del chatbot\",\n          expiresTicket: \"Cerrar chats abiertos aps *n* horas\",\n          expiresTicketNPS:\n            \"Cerrar chats aguardando la evaluacion luego de x minutos\",\n          maxUseBotQueuesNPS:\n            \"Cantidad mxima de veces que la evaluacin ser enviada\",\n          closeLastMessageOptions1: \"Del Agente/Cliente\",\n          closeLastMessageOptions2: \"Del Agente\",\n          outOfHoursMessage: \"Mensaje fuera de horario de atencin\",\n          greetingMessage: \"Mensaje de saludo\",\n          complationMessage: \"Mensaje de conclusin\",\n          lgpdLinkPrivacy: \"Link para polticas de privacidad\",\n          lgpdMessage: \"Mensaje inicial de LPD\",\n          lgpdDeletedMessages: \"Ofuscar mensaje borrada por el contacto\",\n          lgpdSendMessage: \"Siempre solicitar confirmacin del contacto\",\n          ratingMessage: \"Mensaje de evaluacin - Rango de 0 a 10\",\n          token: \"Token para integracin externa\",\n          sendIdQueue: \"Fila\",\n          inactiveMessage: \"Mensaje de inactividad\",\n          timeInactiveMessage:\n            \"Tiempo em minutos para el envo del aviso de inactividad\",\n          whenExpiresTicket:\n            \"Cerrar chats abiertos cuando el ltimo mensaje sea\",\n          expiresInactiveMessage: \"Mensaje al cerrar por inactividade\",\n          prompt: \"Prompt\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        menuItem: {\n          enabled: \"Activado\",\n          disabled: \"Desactivado\",\n          minutes: \"minutos\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n        errorSendQueue:\n          \"Adems del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.\",\n        errorExpiresNPS:\n          \"Es necesario llenar el tiempo para la evaluacin para el NPS.\",\n      },\n      qrCode: {\n        message: \"Le el cdigo QR para empezar la sesin.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          exportContact: \"Exportar contactos\",\n          deleteMessage:\n            \"Ests seguro que deseas borrar este contacto? Todos los tickets relacionados se perdern.\",\n          blockContact: \"Ests seguro que quieres bloquear este contacto?\",\n          unblockContact:\n            \"Ests seguro que quieres desbloquear este contacto?\",\n          importMessage: \"Quieres importar todos los contactos del telfono?\",\n          importChat: \"Importar Conversaciones\",\n          wantImport:\n            \"Quieres importar todas las conversaciones del telfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n          export: \"Exportar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrnico\",\n          actions: \"Acciones\",\n          lastMessage: \"Ultimo Mensaje\",\n        },\n        menu: {\n          importYourPhone: \"Importar del celular por default\",\n          importToExcel: \"Importar / Exportar del Excel\",\n        },\n      },\n      forwardMessage: {\n        text: \"Reenviada\",\n      },\n      forwardMessageModal: {\n        title: \"Reenviar mensaje\",\n        buttons: {\n          ok: \"Reenviar\",\n        },\n      },\n      promptModal: {\n        form: {\n          name: \"Nombre\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Mximo de Tokens en la respuesta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Mximo de mensajes del Historico\",\n          voiceKey: \"Llave de la API de la Voz\",\n          voiceRegion: \"Regin de la Voz\",\n        },\n        success: \"Prompt guardado\",\n        title: {\n          add: \"Agregar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nombre\",\n          queue: \"Sector/Fila\",\n          max_tokens: \"Mximo Tokens Respuestas\",\n          actions: \"Acciones\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Ests seguro? Esta accin no se puede revertir!\",\n        },\n        buttons: {\n          add: \"Agregar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Informacin adicional\",\n          name: \"Nombre\",\n          number: \"Nmero de Whatsapp\",\n          email: \"Correo Electrnico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n          chatBotContact: \"Desactivar chatbot para este contacto\",\n          termsLGDP: \"Trminos P.P. aceptados en:\",\n          allTicket: \"Visualizar tickets sin fila\",\n          allowGroup: \"Permitir grupos\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar informacin\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      queueModal: {\n        title: {\n          queueData: \"Datos de la fila\",\n          text: \"Horarios de atencin\",\n          add: \"Agregar fila\",\n          edit: \"Editar fila\",\n          confirmationDelete:\n            \"Est seguro? Todas las opciones integradas tambin se eliminarn.\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          orderQueue: \"Orden de la fila (Bot)\",\n          rotate: \"Rotativo\",\n          timeRotate: \"Tiempo de Rotacin\",\n          greetingMessage: \"Mensaje de saludo\",\n          complationMessage: \"Mensaje de cierre\",\n          outOfHoursMessage: \"Mensaje fuera de horario de atencin\",\n          token: \"Token\",\n          integrationId: \"Integracin\",\n          fileListId: \"Listado de archivos\",\n          closeTicket: \"Cerrar ticket\",\n          queueType: \"Tipo de menu\",\n          message: \"Mensaje de respuesta\",\n          queue: \"Fila para transferencia\",\n          integration: \"Integracin\",\n          file: \"Listado de archivos\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        bot: {\n          title: \"Opciones\",\n          toolTipTitle: \"Agregue las opciones para construir un chatbot\",\n          toolTip:\n            \"Si solo hay una opcin, se elegir automticamente, lo que har que el bot responda con el mensaje de la opcin y avance.\",\n          selectOption: \"Seleccione una opcin\",\n          text: \"Texto\",\n          attendent: \"Agente\",\n          queue: \"Fila\",\n          integration: \"Integrancin\",\n          file: \"Archivo\",\n          toolTipMessageTitle:\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\n          toolTipMessageContent:\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\n          selectUser: \"Seleccione un Usuario\",\n          selectQueue: \"Seleccione una Fila\",\n          selectIntegration: \"Seleccione um Integracin\",\n          addOptions: \"Agregar opciones\",\n        },\n        serviceHours: {\n          dayWeek: \"Da\",\n          startTimeA: \"Hora de Inicio\",\n          endTimeA: \"Hora del trmino\",\n          startTimeB: \"Hora de Inicio\",\n          endTimeB: \"Hora del trmino\",\n          monday: \"Lunes\",\n          tuesday: \"Martes\",\n          wednesday: \"Mircoles\",\n          thursday: \"Jueves\",\n          friday: \"Viernes\",\n          saturday: \"Sabado\",\n          sunday: \"Domingo\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Agregar proyecto\",\n          edit: \"Editar proyecto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nombre\",\n          projectName: \"Nombre del Proyecto\",\n          language: \"Idioma\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tiempo en minutos para expirar una conversacin\",\n          typebotKeywordFinish: \"Palabra para finalizar la conversacin\",\n          typebotUnknownMessage: \"Mensaje de opcin invalida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n          test: \"Probar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integracin testada con xito!\",\n          addSuccess: \"Integracin agregada con xito!\",\n          editSuccess: \"Integracin editada con xito!\",\n        },\n      },\n      userModal: {\n        warning:\n          \"Para importar los mensajes por favor vuelva a leer el QRCode.\",\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n          updateImage: \"Actualizar Imagen\",\n          removeImage: \"Excluir Imagen\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          farewellMessage: \"Mensaje de despedida\",\n          profile: \"Perfil\",\n          startWork: \"Inicio del Horario\",\n          endWork: \"Final del Horario\",\n          whatsapp: \"Conexin Defautl\",\n          allTicketEnable: \"Activado\",\n          allTicketDisable: \"Desactivado\",\n          allTicket: \"Visualizar mensajes sin fila\",\n          allowGroup: \"Permitir Grupos\",\n          defaultMenuOpen: \"Abierto\",\n          defaultMenuClosed: \"Cerrado\",\n          defaultMenu: \"Menu Estndar\",\n          defaultTheme: \"Tema Estndar\",\n          defaultThemeDark: \"Oscuro\",\n          defaultThemeLight: \"Claro\",\n          allHistoric: \"Ver historicos\",\n          allHistoricEnabled: \"Activado\",\n          allHistoricDisabled: \"Desactivado\",\n          allUserChat: \"Ver conversacin de otros usuarios\",\n          userClosePendingTicket: \"Permitir cerrar tickets pendientes\",\n          showDashboard: \"Ver Dashboard\",\n        },\n        tabs: {\n          general: \"General\",\n          permissions: \"Permissos\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n          addImage: \"Agregar Imagen\",\n          editImage: \"Editar Imagen\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      companyModal: {\n        title: {\n          add: \"Agregar empresa\",\n          edit: \"Editar empresa\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo electrnico\",\n          passwordDefault: \"Contrasea\",\n          numberAttendants: \"Usuarios\",\n          numberConections: \"Conexiones\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"La Empresa fue guardada satisfactoriamente.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Nuevo Programa\",\n          edit: \"Editar Programa\",\n        },\n        form: {\n          body: \"Mensaje\",\n          contact: \"Contacto\",\n          sendAt: \"Fecha del Programa\",\n          sentAt: \"Fecha de Envo\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Programa guardado satisfactoriamente.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nueva Tag\",\n          edit: \"Editar Tag\",\n          addKanban: \"Nueva Lane\",\n          editKanban: \"Editar Lane\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag guardada satisfactoriamente.\",\n        successKanban: \"Lane guardada satisfactoriamente.\",\n      },\n      fileModal: {\n        title: {\n          add: \"Agregar men de evaluacin\",\n          edit: \"Editar men de evaluacin\",\n        },\n        buttons: {\n          okAdd: \"Guardar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Agregar archivo\",\n        },\n        form: {\n          name: \"Nombre\",\n          message: \"Mensaje de Evaluacin\",\n          options: \"Opciones de Evaluacin\",\n          extraName: \"Nombre de la opcin\",\n          extraValue: \"Valor de la opcin\",\n        },\n        success: \"Evaluacin guardada satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop:\n            \" ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO \",\n          titleFileList: \"Listado de archivo(s)\",\n        },\n      },\n      chatInternal: {\n        new: \"Nuevo\",\n        modal: {\n          conversation: \"Inicio\",\n          title: \"Ttulo\",\n          filterUsers: \"Filtro por Usuarios\",\n          cancel: \"Cerrar\",\n          save: \"Guardar\",\n        },\n        modalDelete: {\n          title: \"Excluir Chat\",\n          message: \"Esta accin no se puede revertir, confirmar?\",\n        },\n      },\n      ticketsManager: {\n        questionCloseTicket: \"Quieres cerrar todos los tickets?\",\n        yes: \"SI\",\n        not: \"NO\",\n        buttons: {\n          newTicket: \"Nuevo\",\n          resolvAll: \"Resolver Todos\",\n          close: \"Cerrar\",\n          new: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        inbox: {\n          closedAllTickets: \"Cerrar todos los tickets?\",\n          closedAll: \"Cerrar Todos\",\n          newTicket: \"Nuevo Ticket\",\n          yes: \"SI\",\n          no: \"NO\",\n          open: \"Abiertos\",\n          resolverd: \"Resueltos\",\n        },\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n          filterConections: \"Filtro por Conexin\",\n          filterConectionsOptions: {\n            open: \"Abierto\",\n            closed: \"Cerrado\",\n            pending: \"Pendiente\",\n          },\n          filterUsers: \"Filtro por usuarios\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n          returnQueue: \"Regresar a la Fila\",\n          scredule: \"Programar\",\n          deleteTicket: \"Borrar Ticket\",\n        },\n        closedTicket: {\n          closedMessage: \"Cerrar CON un mensaje de despedida\",\n          closedNotMessage: \"Cerrar SIN un mensaje de despedida\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Seleccione una fila\",\n        fieldWhatsapp: \"Seleccione un whatsapp\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        msgTransfer:\n          \"Observacin - los mensajes internos, no sern visualizados por el cliente.\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      chatInternal: {\n        new: \"Nuevo\",\n        modal: {\n          conversation: \"Conversacin\",\n          title: \"Ttulo\",\n          filterUsers: \"Filtro por Usuarios\",\n          cancel: \"Cerrar\",\n          save: \"Guardar\",\n        },\n        modalDelete: {\n          title: \"Excluir Conversacin\",\n          message: \"Esta accin no se puede revertir, confirmar?\",\n        },\n      },\n      ticketsList: {\n        called: \"Entradas\",\n        today: \"Hoy\",\n        missedCall: \"Llamada de voz/vdeo perdida a las\",\n        pendingHeader: \"Esperando\",\n        assignedHeader: \"Trabajando en\",\n        groupingHeader: \"Grupos\",\n        noTicketsTitle: \"Nada ac!\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o trmino de bsqueda\",\n        noQueue: \"Sin Fila\",\n        buttons: {\n          accept: \"Aceptar\",\n          cancel: \"Cancelar\",\n          start: \"Iniciar\",\n          closed: \"Cerrar\",\n          reopen: \"Reabrir\",\n          transfer: \"Transferir\",\n          ignore: \"Ignorar\",\n          exportAsPDF: \"Exportar para PDF\",\n        },\n        acceptModal: {\n          title: \"Aceptar Chat\",\n          queue: \"Seleccionar tag\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Agregar\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      SendContactModal: {\n        title: \"Enviar contacto\",\n        fieldLabel: \"Buscar contacto\",\n        add: \"Agregar\",\n        buttons: {\n          ok: \"Enviar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          chatsTempoReal: \"Panel de Asistencia\",\n          tickets: \"Inbox\",\n          quickMessages: \"Respuestas Rpidas\",\n          contacts: \"Contactos\",\n          queues: \"Filas\",\n          tags: \"Tags\",\n          administration: \"Administracin\",\n          companies: \"Empresas\",\n          users: \"Usuarios\",\n          settings: \"Configuracin\",\n          ratings: \"Regist. Evaluaciones\",\n          helps: \"Ayuda\",\n          messagesAPI: \"API\",\n          schedules: \"Programa\",\n          campaigns: \"Campaas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financiero\",\n          queueIntegration: \"Integraciones\",\n          version: \"Versin\",\n          kanban: \"Kanban\",\n          prompts: \"Talk.Ai\",\n          allConnections: \"Admin conexiones\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesin\",\n            message: \"Hola\",\n            messageEnd: \"bienvenido a\",\n            active: \"Activo hasta\",\n            goodMorning: \"Hola,\",\n            myName: \"mi nombre es\",\n            continuity: \"y te seguir apoyando.\",\n            virtualAssistant: \"Asistente Virtual\",\n            token:\n              \"Token invlido, favor comunicarse con el administrador de la plataforma.\",\n          },\n          message: {\n            location: \"Localizacin\",\n            contact: \"Contacto\",\n          },\n          notRegister: \"No hay registros\",\n          refresh: \"Atuaclizar\",\n        },\n      },\n      languages: {\n        undefined: \"Idioma\",\n        \"es-Mx\": \"Espaol\",\n        es: \"Espaol\",\n        en: \"English\",\n        tr: \"Trke\",\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Nmero\",\n          body: \"Mensaje\",\n          token: \"Token registrado\",\n          userId: \"ID usuario/agente\",\n          queueId: \"ID Fila\",\n        },\n        mediaMessage: {\n          number: \"Nmero\",\n          body: \"Nombre del archivo\",\n          media: \"Archivo\",\n          token: \"Token registrado\",\n        },\n        API: {\n          title: \"Documentacin para envo de mensajes\",\n          methods: {\n            title: \"Mtodos de Envo\",\n            messagesText: \"Mensajes de Texto\",\n            messagesMidia: \"Mensajes de Midia\",\n          },\n          instructions: {\n            title: \"Instrucciones\",\n            comments: \"Observaciones Importantes\",\n            comments1:\n              \"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexin que enviar los mensajes. <br />Para registrarse, acceda al men 'Conexiones', haga clic en el botn de edicin de la conexin e inserte el token en el campo correspondiente.\",\n            comments2:\n              \"El nmero de envo no debe tener mscara ni caracteres especiales y debe constar de:\",\n            codeCountry: \"Cdigo del Pas\",\n            code: \"Cdigo del Estado\",\n            number: \"Numero\",\n          },\n          text: {\n            title: \"1. Mensajes de Texto\",\n            instructions:\n              \"A continuacin se muestra la lista de informacin necesaria para enviar mensajes de texto:\",\n          },\n          media: {\n            title: \"2. Mensagens de Media\",\n            instructions:\n              \"A continuacin se muestra la lista de informacin necesaria para enviar mensajes con archivos:\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      quickMessages: {\n        title: \"Respuestas Rpidas\",\n        searchPlaceholder: \"Buscar...\",\n        noAttachment: \"No hay\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta accin no se puede revertir. Continuar?\",\n        },\n        buttons: {\n          add: \"Agregar\",\n          attach: \"Adjuntar Archivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atajo agregado satisfactoriamente.\",\n          deleted: \"Atajo excluido satisfactoriamente.\",\n        },\n        dialog: {\n          title: \"Mensaje Rpida\",\n          shortcode: \"Atajo\",\n          message: \"Respuesta\",\n          save: \"Guardar\",\n          cancel: \"Cancelar\",\n          geral: \"Global\",\n          add: \"Agregar\",\n          edit: \"Editar\",\n          visao: \"Permitir visin\",\n        },\n        table: {\n          shortcode: \"Atajo\",\n          message: \"Mensaje\",\n          actions: \"Acciones\",\n          mediaName: \"Nombre del Archivo\",\n          status: \"Status\",\n        },\n      },\n      contactLists: {\n        title: \"Listado de Contactos\",\n        table: {\n          name: \"Nombre\",\n          contacts: \"Contactos\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Nuevo Listado\",\n        },\n        dialog: {\n          name: \"Nombre\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Agregar\",\n          add: \"Agregar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n      contactListItems: {\n        title: \"Contactos\",\n        searchPlaceholder: \"Bsqueda\",\n        buttons: {\n          add: \"Nuevo\",\n          lists: \"Listados\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nombre\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"Correo electrnico\",\n          okEdit: \"Editar\",\n          okAdd: \"Agregar\",\n          add: \"Agregar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nombre\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"Correo electrnico\",\n          actions: \"Acciones\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n          importMessage: \"Quieres importar esta plantilla? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n      kanban: {\n        title: \"Kanban\",\n        searchPlaceholder: \"Bsqueda\",\n        subMenus: {\n          list: \"Admin\",\n          tags: \"Lanes\",\n        },\n      },\n      campaigns: {\n        title: \"Campaas\",\n        searchPlaceholder: \"Bsqueda\",\n        subMenus: {\n          list: \"Listados\",\n          listContacts: \"Listados de contatos\",\n          settings: \"Configuraciones\",\n        },\n        settings: {\n          randomInterval: \"Intervalo de disparo aleatorio\",\n          noBreak: \"Sin Intervalo\",\n          intervalGapAfter: \"Intervalo mayor despus de\",\n          undefined: \"No definido\",\n          messages: \"mensajes\",\n          laggerTriggerRange: \"Intervalo de envo ms grande\",\n          addVar: \"Agregar variable\",\n          save: \"Guardar\",\n          close: \"Cerrar\",\n          add: \"Agregar\",\n          shortcut: \"Atajo\",\n          content: \"Contenido\",\n        },\n        buttons: {\n          add: \"Nueva Campaa\",\n          contactLists: \"Listado de Contactos\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"Conexin\",\n          contactList: \"Listado de Contactos\",\n          option: \"Ninguna\",\n          disabled: \"Activada\",\n          enabled: \"Desactivada\",\n          status: \"Status\",\n          scheduledAt: \"Programa\",\n          completedAt: \"Finalizada\",\n          confirmation: \"Confirmacin\",\n          actions: \"Acciones\",\n        },\n        dialog: {\n          new: \"Nueva Campaa\",\n          update: \"Editar Campaa\",\n          readonly: \"Solo Visualizar\",\n          help: \"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.\",\n          form: {\n            name: \"Nombre\",\n            message1: \"Mensaje 1\",\n            message2: \"Mensaje 2\",\n            message3: \"Mensaje 3\",\n            message4: \"Mensaje 4\",\n            message5: \"Mensaje 5\",\n            confirmationMessage1: \"Mensaje de Confirmacin 1\",\n            confirmationMessage2: \"Mensaje de Confirmacin 2\",\n            confirmationMessage3: \"Mensaje de Confirmacin 3\",\n            confirmationMessage4: \"Mensaje de Confirmacin 4\",\n            confirmationMessage5: \"Mensaje de Confirmacin 5\",\n            messagePlaceholder: \"Contenido del Mensaje\",\n            whatsapp: \"Conexin\",\n            status: \"Status\",\n            scheduledAt: \"Programa\",\n            confirmation: \"Confirmacin\",\n            contactList: \"Listado de Contacto\",\n            tagList: \"Tags\",\n            statusTicket: \"Status del Ticket\",\n            openTicketStatus: \"Abierto\",\n            closedTicketStatus: \"Cerrado\",\n            enabledOpenTicket: \"Activado\",\n            disabledOpenTicket: \"Desactivado\",\n            openTicket: \"Abrir ticket\",\n          },\n          buttons: {\n            add: \"Agregar\",\n            edit: \"Actualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Envos\",\n            restart: \"Reiniciar Envos\",\n            close: \"Cerrar\",\n            attach: \"Anexar Archivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        toasts: {\n          success: \"Accin realizada satisfactoriamente\",\n          cancel: \"Campaa cancelada\",\n          restart: \"Campaa reiniciada\",\n          deleted: \"Registro excluido\",\n        },\n      },\n      campaignReport: {\n        title: \"Reporte de\",\n        inactive: \"Inactiva\",\n        scheduled: \"Programada\",\n        process: \"En Proceso\",\n        cancelled: \"Cancelada\",\n        finished: \"Finalizada\",\n        campaign: \"Campaa\",\n        validContacts: \"Contactos Vlidos\",\n        confirmationsRequested: \"Confirmaciones Solicitadas\",\n        confirmations: \"Confirmaciones\",\n        deliver: \"Entregadas\",\n        connection: \"Conexin\",\n        contactLists: \"Listado de Contactos\",\n        schedule: \"Programados\",\n        conclusion: \"Conclusin\",\n      },\n      announcements: {\n        title: \"Boletines\",\n        searchPlaceholder: \"Bsqueda\",\n        active: \"Activo\",\n        inactive: \"Inactivo\",\n        buttons: {\n          add: \"Nuevo Boletin\",\n          contactLists: \"Listados de Boletines\",\n        },\n        table: {\n          priority: \"Prioridad\",\n          title: \"Ttulo\",\n          text: \"Texto\",\n          mediaName: \"Archivo\",\n          status: \"Status\",\n          actions: \"Acciones\",\n        },\n        dialog: {\n          edit: \"Editar Boletin\",\n          add: \"Nuevo Boletin\",\n          update: \"Editar Boletin\",\n          readonly: \"Solo visualizar\",\n          form: {\n            priority: \"Prioridad\",\n            title: \"Ttulo\",\n            text: \"Texto\",\n            mediaPath: \"Archivo\",\n            status: \"Status\",\n            high: \"Alta\",\n            medium: \"Mediana\",\n            low: \"Baja\",\n            active: \"Activo\",\n            inactive: \"Inactivo\",\n          },\n          buttons: {\n            add: \"Agregar\",\n            edit: \"Actualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Cerrar\",\n            attach: \"Anexar Archivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        toasts: {\n          success: \"Accin realizada satisfactoriamente\",\n          deleted: \"Registro excluido\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configuraciones de Campaas\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          orderQueue: \"Orden de la fila (bot)\",\n          actions: \"Acciones\",\n          ID: \"ID\",\n        },\n        buttons: {\n          add: \"Agregar fila\",\n        },\n        toasts: {\n          success: \"Fila guardada\",\n          deleted: \"Fila excluida\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"Ests seguro? Esta accin no se puede revertir! Los tickets en esa fila seguirn existiendo, pero ya no tendrn ninguna fila asignada.\",\n        },\n      },\n      queue: {\n        queueData: \"Datos\",\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n        inputLabelRO: \"Filas solo para lectura\",\n      },\n      queueIntegration: {\n        title: \"Integraciones\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nombre\",\n          projectName: \"Nombre del Proyecto\",\n          language: \"Idioma\",\n          lastUpdate: \"Ultima actualizacin\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar Proyecto\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Ests seguro? Esta accin no se puede revertir! Se eliminarn las filas y conexiones enlazadas\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          status: \"Status\",\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          profile: \"Perfil\",\n          startWork: \"Inicio del trabajo\",\n          endWork: \"Final de trabajo\",\n          actions: \"Acciones\",\n          ID: \"ID\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la informacin del usuario se perder. Los tickets abiertos de los usuarios se movern a la fila.\",\n        },\n      },\n      compaies: {\n        title: \"Empresas\",\n        table: {\n          ID: \"ID\",\n          status: \"Activo\",\n          name: \"Nombre\",\n          email: \"Correo\",\n          password: \"Contrasea\",\n          phone: \"Telfono\",\n          plan: \"Plan\",\n          active: \"Activo\",\n          numberAttendants: \"Agentes\",\n          numberConections: \"Conexiones\",\n          value: \"Valor\",\n          namePlan: \"Nombre del Plan\",\n          numberQueues: \"Filas\",\n          useCampaigns: \"Campaas\",\n          useExternalApi: \"Rest API\",\n          useFacebook: \"Facebook\",\n          useInstagram: \"Instagram\",\n          useWhatsapp: \"Whatsapp\",\n          useInternalChat: \"Chat Interno\",\n          useSchedules: \"Programa\",\n          createdAt: \"F.Creacin\",\n          dueDate: \"Caducidad\",\n          lastLogin: \"Ult. Login\",\n          actions: \"Acciones\",\n          money: \"MXN\",\n          yes: \"Si\",\n          no: \"No\",\n          document: \"CURP/RFC\",\n          recurrence: \"Recurencia\",\n          monthly: \"Mensual\",\n          bimonthly: \"Bimestral\",\n          quarterly: \"Trimestral\",\n          semester: \"Semestral\",\n          yearly: \"Anual\",\n          clear: \"Limpiar\",\n          delete: \"Eliminar\",\n          user: \"Usuario\",\n          save: \"Guardar\",\n        },\n        buttons: {\n          add: \"Agregar empresa\",\n        },\n        toasts: {\n          deleted: \"Empresa excluida satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todas las informaciones de la empresa sern eliminadas. Los tickets abiertos de este usurio sern movidos a la fila.\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nombre\",\n          users: \"Usuarios\",\n          connections: \"Conexiones\",\n          campaigns: \"Campaas\",\n          schedules: \"Programas\",\n          enabled: \"Activada\",\n          disabled: \"Desactivada\",\n          clear: \"Limpiar\",\n          delete: \"Eliminar\",\n          save: \"Guardar\",\n          yes: \"Si\",\n          no: \"No\",\n          money: \"MXN\",\n        },\n      },\n      helps: {\n        title: \"Ayuda\",\n        settings: {\n          codeVideo: \"Cdigo del Video\",\n          description: \"Descripcin\",\n          clear: \"Limpiar\",\n          delete: \"Eliminar\",\n          save: \"Guardar\",\n        },\n      },\n      schedules: {\n        title: \"Programas\",\n        confirmationModal: {\n          deleteTitle: \"Seguro que quieres excluir este Programa?\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        table: {\n          contact: \"Contacto\",\n          body: \"Mensaje\",\n          sendAt: \"Fecha del Programa\",\n          sentAt: \"Fecha de Envo\",\n          status: \"Status\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Nuevo Programa\",\n        },\n        toasts: {\n          deleted: \"Programa eliminado satisfactoriamente.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Seguro que quieres excluir esta Tag?\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        table: {\n          name: \"Nombre\",\n          kanban: \"Kanban\",\n          color: \"Color\",\n          tickets: \"Registros Tags\",\n          contacts: \"Contactos\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Nueva Tag\",\n        },\n        toasts: {\n          deleted: \"Tag eliminada satisfactoriamente.\",\n        },\n      },\n      tagsKanban: {\n        title: \"Lanes\",\n        laneDefault: \"Abierto(s)\",\n        confirmationModal: {\n          deleteTitle: \"Seguro que quieres excluir esta Lane?\",\n          deleteMessage: \"Esta accin no se puede revertir.\",\n        },\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          tickets: \"Tickets\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Nueva Lane\",\n        },\n        toasts: {\n          deleted: \"Lane eliminada satisfactoriamente.\",\n        },\n      },\n      files: {\n        title: \"Listado de archivos\",\n        table: {\n          name: \"Nombre\",\n          contacts: \"Contactos\",\n          actions: \"Accin\",\n        },\n        toasts: {\n          deleted: \"Listado borrado satisfactoriamente!\",\n          deletedAll: \"Todos los listados fueron borrados satisfactoriamente!\",\n        },\n        buttons: {\n          add: \"Agregar\",\n          deleteAll: \"Borrar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteAllTitle: \"Borrar Todos\",\n          deleteMessage: \"Ests seguro de borrar este listado?\",\n          deleteAllMessage: \"Ests seguro de borrar todos los listado?\",\n        },\n      },\n      settings: {\n        success: \"Configuracin guardada satisfactoriamente.\",\n        title: \"Configuracin\",\n        tabs: {\n          options: \"Opciones\",\n          plans: \"Planes\",\n          helps: \"Ayuda\",\n        },\n        settings: {\n          userCreation: {\n            name: \"Creacin de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n          tabs: {\n            options: \"Opciones\",\n            schedules: \"Horarios\",\n            plans: \"Planes\",\n            help: \"Ayuda\",\n          },\n          options: {\n            disabled: \"Desactivadas\",\n            enabled: \"Activadas\",\n            updating: \"Actualizando...\",\n            creationCompanyUser: \"Creacin de Company/Usurio\",\n            evaluations: \"Evaluaciones\",\n            officeScheduling: \"Programar horarios\",\n            queueManagement: \"Gerenciar por Fila\",\n            companyManagement: \"Gerenciar por Empresa\",\n            connectionManagement: \"Gerenciar por Conexin\",\n            sendGreetingAccepted: \"Enviar saludos al aceptar ticket\",\n            sendMsgTransfTicket:\n              \"Enviar mensaje de transferencia (departamento/agente)\",\n            checkMsgIsGroup: \"Ignorar mensajes de Grupos\",\n            chatBotType: \"Tipo de Bot\",\n            userRandom: \"Escojer agente aleatorio\",\n            buttons: \"Botones\",\n            acceptCallWhatsapp: \"No aceptar llamada en el whatsapp\",\n            sendSignMessage: \"Permitir agente escoger ENVIAR Firma\",\n            sendGreetingMessageOneQueues:\n              \"Enviar saludos cuando hay solamente 1 fila\",\n            sendQueuePosition: \"Enviar mensaje con la posicin de la fila\",\n            sendFarewellWaitingTicket:\n              \"Enviar mensaje de despedida(estado Esperando)\",\n            acceptAudioMessageContact: \"Aceptar audios de todos\",\n            enableLGPD: \"Habilitar opcin P.P.\",\n            requiredTag: \"Tag obligatoria para cerrar ticket\",\n            closeTicketOnTransfer: \"Cerrar ticket al transferir para otra fila\",\n            DirectTicketsToWallets:\n              \"Mover automaticamente cliente para cartera\",\n          },\n          LGPD: {\n            title: \"Politica de Privacidad\",\n            welcome: \"Mensaje de bienvenida (PP)\",\n            linkLGPD: \"Link de la poltica de privacidad\",\n            obfuscateMessageDelete: \"Ofuscar mensaje borrada\",\n            alwaysConsent: \"Requerir siempre el consentimiento\",\n            obfuscatePhoneUser: \"Ofuscar nmero de telefono para usuarios\",\n            enabled: \"Activado\",\n            disabled: \"Desactivado\",\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          dialogRatingTitle:\n            \"Quieres dejar un mensaje de evaluacin para el cliente?\",\n          dialogClosingTitle: \"Finalizando la atencin al cliente!\",\n          dialogRatingCancel: \"Cerrar CON Mensaje de Despedida\",\n          dialogRatingSuccess: \"Cerrar y Enviar Evaluacin\",\n          dialogRatingWithoutFarewellMsg: \"Cerrar SIN Mensaje de Despedida\",\n          ratingTitle: \"Elegir men de evaluacin\",\n          notMessage: \"No hay mensaje seleccionado\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n            rating: \"Enviar Evaluacin\",\n            enableIntegration: \"Activar/Desactivar integracin\",\n            logTicket: \"Logs del Ticket\",\n            requiredTag:\n              \"Opps! Debes asignar una tag antes de cerrar el ticket.\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderPrivateMessage:\n          \"Entre como un mensaje o con / para respuestas rpidas\",\n        placeholderOpen:\n          \"Entre como un mensaje o con / para respuestas rpidas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n        privateMessage: \"Mensaje Privada\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n          block: \"Bloquear\",\n          unblock: \"Desbloquear\",\n        },\n        extraInfo: \"Otras informaciones\",\n      },\n      messageVariablesPicker: {\n        label: \"Variables disponibles\",\n        vars: {\n          contactFirstName: \"Primer Nombre\",\n          contactName: \"Nombre\",\n          user: \"Agente\",\n          greeting: \"Saludos\",\n          protocolNumber: \"Protocolo\",\n          date: \"Fecha\",\n          hour: \"Hora\",\n          ticket_id: \"N del Ticket\",\n          queue: \"Sector\",\n          connection: \"Conexin\",\n        },\n      },\n      ticketOptionsMenu: {\n        schedule: \"Programa\",\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observaciones del Contacto\",\n        resolveWithNoFarewell: \"Cerrar sin despedida\",\n        acceptAudioMessage: \"Aceptar audios del contacto?\",\n        appointmentsModal: {\n          title: \"Observaciones del Contacto\",\n          textarea: \"Observacin\",\n          placeholder: \"Agregue aqui la informacin\",\n        },\n        confirmationModal: {\n          title: \"Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"Atencin! Todos los mensajes Todos los mensajes relacionados con el ticket se perdern.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageInput: {\n        tooltip: {\n          signature: \"Activar/Desactivar firma\",\n          privateMessage: \"Activar/Desactivar mensaje privado\",\n          meet: \"Enviar link para videollamada\",\n        },\n        type: {\n          imageVideo: \"Fotos y videos\",\n          cam: \"Cmara\",\n          contact: \"Contacto\",\n          meet: \"Link Jitsi Meet\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        edit: \"Editar\",\n        forward: \"Enviar\",\n        toForward: \"Enviar\",\n        talkTo: \"Platicar Con\",\n        confirmationModal: {\n          title: \"Borrar mensaje?\",\n          message: \"Esta accin no puede ser revertida.\",\n        },\n      },\n      invoices: {\n        table: {\n          invoices: \"Facturas\",\n          details: \"Detalles\",\n          users: \"Usuarios\",\n          connections: \"Conexiones\",\n          queue: \"Filas\",\n          value: \"Valor\",\n          expirationDate: \"Fecha Venc.\",\n          action: \"Accin\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexin de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontr WhatsApp predeterminado. Verifique la pgina de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesin de WhatsApp no est inicializada. Verifique la pgina de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un nmero de whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticacin. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesin caducada. Inicie sesin.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creacin de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este nmero.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontr ninguna configuracin con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontr ningn contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontr ningn ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontr ningn usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontr WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya est en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay ms de una fila.\",\n        ERR_OUT_OF_HOURS: \"Fuera del horario de oficina!\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import io from \"socket.io-client\";\n\nclass SocketWorker {\n  constructor(companyId , userId) {\n    if (!SocketWorker.instance) {\n      this.companyId = companyId\n      this.userId = userId\n      this.socket = null;\n      this.configureSocket();\n      this.eventListeners = {}; // Armazena os ouvintes de eventos registrados\n      SocketWorker.instance = this;\n\n    } \n\n    return SocketWorker.instance;\n  }\n\n  configureSocket() {\n    this.socket = io(`${process.env.REACT_APP_BACKEND_URL}/${this?.companyId}` , {\n      autoConnect: true,\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionAttempts: Infinity,\n      query: { userId: this.userId }\n    });\n\n    this.socket.on(\"connect\", () => {\n      console.log(\"Conectado ao servidor Socket.IO\");\n    });\n\n    this.socket.on(\"disconnect\", () => {\n      console.log(\"Desconectado do servidor Socket.IO\");\n      this.reconnectAfterDelay();\n    });\n  }\n\n  // Adiciona um ouvinte de eventos\n  on(event, callback) {\n    this.connect();\n    this.socket.on(event, callback);\n\n    // Armazena o ouvinte no objeto de ouvintes\n    if (!this.eventListeners[event]) {\n      this.eventListeners[event] = [];\n    }\n    this.eventListeners[event].push(callback);\n  }\n\n  // Emite um evento\n  emit(event, data) {\n    this.connect();\n    this.socket.emit(event, data);\n  }\n\n  // Desconecta um ou mais ouvintes de eventos\n  off(event, callback) {\n    this.connect();\n    if (this.eventListeners[event]) {\n      // console.log(\"Desconectando do servidor Socket.IO:\", event, callback);\n      if (callback) {\n        // Desconecta um ouvinte especfico\n        this.socket.off(event, callback);\n        this.eventListeners[event] = this.eventListeners[event].filter(cb => cb !== callback);\n      } else {\n        // console.log(\"DELETOU EVENTOS DO SOCKET:\", this.eventListeners[event]);\n\n        // Desconecta todos os ouvintes do evento\n        this.eventListeners[event].forEach(cb => this.socket.off(event, cb));\n        delete this.eventListeners[event];\n      }\n      // console.log(\"EVENTOS DO SOCKET:\", this.eventListeners);\n    }\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null\n      this.instance = null\n      console.log(\"Socket desconectado manualmente\");\n    }\n  }\n\n  reconnectAfterDelay() {\n    setTimeout(() => {\n      if (!this.socket || !this.socket.connected) {\n        console.log(\"Tentando reconectar aps desconexo\");\n        this.connect();\n      }\n    }, 1000);\n  }\n\n  // Garante que o socket esteja conectado\n  connect() {\n    if (!this.socket) {\n      this.configureSocket();\n    }\n  }\n\n  forceReconnect() {\n\n  }\n}\n\n// const instance = (companyId, userId) => new SocketWorker(companyId,userId);\nconst instance = (companyId, userId) => new SocketWorker(companyId, userId);\n\nexport default instance;","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n// import { useDate } from \"../../hooks/useDate\";\nimport moment from \"moment\";\n\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n  const [socket, setSocket] = useState({})\n \n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (Object.keys(user).length && user.id > 0) {\n      // console.log(\"Entrou useWhatsapp com user\", Object.keys(user).length, Object.keys(socket).length ,user, socket)\n      let io;\n      if (!Object.keys(socket).length) {\n        io = socketConnection({ user });\n        setSocket(io)\n      } else {\n        io = socket\n      }\n      io.on(`company-${user.companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n\n      return () => {\n        // console.log(\"desconectou o company user \", user.id)\n        io.off(`company-${user.companyId}-user`);\n        // io.disconnect();\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }\n  }, [user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { company },\n      } = data;\n\n      if (has(company, \"companieSettings\") && isArray(company.companieSettings[0])) {\n        const setting = company.companieSettings[0].find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      if (has(company, \"companieSettings\") && isArray(company.companieSettings[0])) {\n        const setting = company.companieSettings[0].find(\n          (s) => s.key === \"sendSignMessage\"\n        );\n\n        const signEnable = setting.value === \"enable\";\n\n        if (setting && setting.value === \"enabled\") {\n          localStorage.setItem(\"sendSignMessage\", signEnable); //regra pra exibir campanhas\n        }\n      }\n      localStorage.setItem(\"profileImage\", data.user.profileImage); //regra pra exibir imagem contato\n\n      moment.locale('pt-br');\n      let dueDate;\n      if (data.user.company.id === 1) {\n        dueDate = '2999-12-31T00:00:00.000Z'\n      } else {\n        dueDate = data.user.company.dueDate;\n      }\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        // localStorage.setItem(\"public-token\", JSON.stringify(data.user.token));\n        // localStorage.setItem(\"companyId\", companyId);\n        // localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n\n        // // Atraso para garantir que o cache foi limpo\n        // setTimeout(() => {\n        //   window.location.reload(true); // Recarregar a pgina\n        // }, 1000);\n\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        // localStorage.setItem(\"companyId\", companyId);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setIsAuth(true);\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informaes! `);\n        history.push(\"/financeiro-aberto\");\n        setLoading(false);\n      }\n\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      // socket.disconnect();\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"cshow\");\n      // localStorage.removeItem(\"public-token\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      console.log(data)\n      return data;\n    } catch (_) {\n      return null;\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n    socket\n  };\n};\n\nexport default useAuth;\n","import openSocket from \"socket.io-client\";\nimport { isObject } from \"lodash\";\nimport SocketWorker from \"./SocketWorker\"\n\nexport function socketConnection(params) {\n  let userId = \"\";\n  let companyId = \"\";\n  if (isObject(params)){\n    companyId = params?.user?.companyId\n    userId = params?.user?.id\n  }\n \n  return SocketWorker(companyId,userId)\n}","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout, socket } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout, socket }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };","import { useState, useEffect, useReducer, useContext } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isNill } from \"lodash\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n//   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (_) {\n        setLoading(false);\n        // toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    if (user.companyId) {\n\n      const companyId = user.companyId;\n//    const socket = socketManager.GetSocket();\n\n      const onCompanyWhatsapp = (data) => {\n        if (data.action === \"update\") {\n          dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n        }\n        if (data.action === \"delete\") {\n          dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n        }\n      }\n\n      const onCompanyWhatsappSession = (data) => {\n        if (data.action === \"update\") {\n          dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n        }\n      }\n\n      socket.on(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\n      socket.on(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\n\n      return () => {\n        socket.off(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\n        socket.off(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\n      };\n    }\n  }, [socket]);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\",\n\t\t\t\"tickets-manager:closeAll\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        remove,\n        getPlanCompany\n    }\n}\n\nexport default usePlans;","import api from \"../../services/api\";\n\nconst useVersion = () => {\n\n    const getVersion = async () => {\n        const { data } = await api.request({\n            url: '/version',\n            method: 'GET',\n        });\n        return data;\n    }\n\n    return {\n        getVersion\n    }\n}\n\nexport default useVersion;\n\n\n\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport useHelps from \"../hooks/useHelps\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport List from \"@material-ui/core/List\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport ViewKanban from \"@mui/icons-material/ViewKanban\";\nimport Schedule from \"@material-ui/icons/Schedule\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from \"@material-ui/icons/LocalAtm\";\nimport BusinessIcon from \"@material-ui/icons/Business\";\nimport {\n  AllInclusive,\n  AttachFile,\n  Dashboard,\n  Description,\n  DeviceHubOutlined,\n  GridOn,\n  ListAlt,\n  PhonelinkSetup,\n} from \"@material-ui/icons\";\n\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { useActiveMenu } from \"../context/ActiveMenuContext\";\n\nimport { Can } from \"../components/Can\";\n\nimport { isArray } from \"lodash\";\nimport api from \"../services/api\";\nimport toastError from \"../errors/toastError\";\nimport usePlans from \"../hooks/usePlans\";\nimport useVersion from \"../hooks/useVersion\";\nimport { i18n } from \"../translate/i18n\";\nimport { Campaign, ShapeLine, Webhook } from \"@mui/icons-material\";\n\nconst useStyles = makeStyles((theme) => ({\n  listItem: {\n    height: \"44px\",\n    width: \"auto\",\n    \"&:hover $iconHoverActive\": {\n      backgroundColor: theme.palette.primary.main,\n      color: \"#fff\",\n    },\n  },\n\n  listItemText: {\n    fontSize: \"14px\",\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\n  },\n  avatarActive: {\n    backgroundColor: \"transparent\",\n  },\n  avatarHover: {\n    backgroundColor: \"transparent\",\n  },\n  iconHoverActive: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: \"50%\",\n    height: 36,\n    width: 36,\n    backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\n    // color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n    \"&:hover, &.active\": {\n      backgroundColor: theme.palette.primary.main,\n      color: \"#fff\",\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.4rem\",\n    },\n  },\n}));\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, tooltip, showBadge } = props;\n  const classes = useStyles();\n  const { activeMenu } = useActiveMenu();\n  const location = useLocation();\n  const isActive = activeMenu === to || location.pathname === to;\n\n  const renderLink = React.useMemo(\n    () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\n    [to]\n  );\n\n  const ConditionalTooltip = ({ children, tooltipEnabled }) =>\n    tooltipEnabled ? (\n      <Tooltip title={primary} placement=\"right\">\n        {children}\n      </Tooltip>\n    ) : (\n      children\n    );\n\n  return (\n    <ConditionalTooltip tooltipEnabled={!!tooltip}>\n      <li>\n        <ListItem button component={renderLink} className={classes.listItem}>\n          {icon ? (\n            <ListItemIcon>\n              {showBadge ? (\n                <Badge badgeContent=\"!\" color=\"error\" overlap=\"circular\" className={classes.badge}>\n                  <Avatar className={`${classes.iconHoverActive} ${isActive ? \"active\" : \"\"}`}>{icon}</Avatar>\n                </Badge>\n              ) : (\n                <Avatar className={`${classes.iconHoverActive} ${isActive ? \"active\" : \"\"}`}>{icon}</Avatar>\n              )}\n            </ListItemIcon>\n          ) : null}\n          <ListItemText primary={<Typography className={classes.listItemText}>{primary}</Typography>} />\n        </ListItem>\n      </li>\n    </ConditionalTooltip>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = ({ collapsed, drawerClose }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user, socket } = useContext(AuthContext);\n  const { setActiveMenu } = useActiveMenu();\n  const location = useLocation();\n\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [openFlowSubmenu, setOpenFlowSubmenu] = useState(false);\n  const [openDashboardSubmenu, setOpenDashboardSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [showKanban, setShowKanban] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false);\n\n  // novas features\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [version, setVersion] = useState(false);\n  const [managementHover, setManagementHover] = useState(false);\n  const [campaignHover, setCampaignHover] = useState(false);\n  const [flowHover, setFlowHover] = useState(false)\n  const { list } = useHelps();  // INSERIR\n  const [hasHelps, setHasHelps] = useState(false);\n\n\n  useEffect(() => {   // INSERIR ESSE EFFECT INTEIRO\n    async function checkHelps() {\n      const helps = await list();\n      setHasHelps(helps.length > 0);\n    }\n    checkHelps();\n  }, []);\n\n  const isManagementActive =\n    location.pathname === \"/\" || location.pathname.startsWith(\"/reports\") || location.pathname.startsWith(\"/moments\");\n\n  const isCampaignRouteActive =\n    location.pathname === \"/campaigns\" ||\n    location.pathname.startsWith(\"/contact-lists\") ||\n    location.pathname.startsWith(\"/campaigns-config\");\n\n  const isFlowbuilderRouteActive = \n    location.pathname.startsWith(\"/phrase-lists\")\n    location.pathname.startsWith(\"/flowbuilders\")\n\n  useEffect(() => {\n    if (location.pathname.startsWith(\"/tickets\")) {\n      setActiveMenu(\"/tickets\");\n    } else {\n      setActiveMenu(\"\");\n    }\n  }, [location, setActiveMenu]);\n\n  const { getPlanCompany } = usePlans();\n\n  const { getVersion } = useVersion();\n\n  useEffect(() => {\n    async function fetchVersion() {\n      const _version = await getVersion();\n      setVersion(_version.version);\n    }\n    fetchVersion();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowKanban(planConfigs.plan.useKanban);\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (user.id) {\n      const companyId = user.companyId;\n      //    const socket = socketManager.GetSocket();\n      // console.log('socket nListItems')\n      const onCompanyChatMainListItems = (data) => {\n        if (data.action === \"new-message\") {\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        }\n        if (data.action === \"update\") {\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        }\n      };\n\n      socket.on(`company-${companyId}-chat`, onCompanyChatMainListItems);\n      return () => {\n        socket.off(`company-${companyId}-chat`, onCompanyChatMainListItems);\n      };\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  // useEffect(() => {\n  //   if (localStorage.getItem(\"cshow\")) {\n  //     setShowCampaigns(true);\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={\n          (user.profile === \"user\" && user.showDashboard === \"enabled\") || user.allowRealTime === \"enabled\"\n            ? \"admin\"\n            : user.profile\n        }\n        perform={\"drawer-admin-items:view\"}\n        yes={() => (\n          <>\n            <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.management\") : \"\"} placement=\"right\">\n              <ListItem\n                dense\n                button\n                onClick={() => setOpenDashboardSubmenu((prev) => !prev)}\n                onMouseEnter={() => setManagementHover(true)}\n                onMouseLeave={() => setManagementHover(false)}\n              >\n                <ListItemIcon>\n                  <Avatar\n                    className={`${classes.iconHoverActive} ${isManagementActive || managementHover ? \"active\" : \"\"}`}\n                  >\n                    <Dashboard />\n                  </Avatar>\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Typography className={classes.listItemText}>\n                      {i18n.t(\"mainDrawer.listItems.management\")}\n                    </Typography>\n                  }\n                />\n                {openDashboardSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n              </ListItem>\n            </Tooltip>\n            <Collapse\n              in={openDashboardSubmenu}\n              timeout=\"auto\"\n              unmountOnExit\n              style={{\n                backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\n              }}\n            >\n              <Can\n                role={user.profile === \"user\" && user.showDashboard === \"enabled\" ? \"admin\" : user.profile}\n                perform={\"drawer-admin-items:view\"}\n                yes={() => (\n                  <>\n                    <ListItemLink\n                      small\n                      to=\"/\"\n                      primary=\"Dashboard\"\n                      icon={<DashboardOutlinedIcon />}\n                      tooltip={collapsed}\n                    />\n                    <ListItemLink\n                      small\n                      to=\"/reports\"\n                      primary={i18n.t(\"mainDrawer.listItems.reports\")}\n                      icon={<Description />}\n                      tooltip={collapsed}\n                    />\n                  </>\n                )}\n              />\n              <Can\n                role={user.profile === \"user\" && user.allowRealTime === \"enabled\" ? \"admin\" : user.profile}\n                perform={\"drawer-admin-items:view\"}\n                yes={() => (\n                  <ListItemLink\n                    to=\"/moments\"\n                    primary={i18n.t(\"mainDrawer.listItems.chatsTempoReal\")}\n                    icon={<GridOn />}\n                    tooltip={collapsed}\n                  />\n                )}\n              />\n            </Collapse>\n          </>\n        )}\n      />\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n        tooltip={collapsed}\n      />\n\n      <ListItemLink\n        to=\"/quick-messages\"\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n        icon={<FlashOnIcon />}\n        tooltip={collapsed}\n      />\n\n      {showKanban && (\n        <>\n          <ListItemLink\n            to=\"/kanban\"\n            primary={i18n.t(\"mainDrawer.listItems.kanban\")}\n            icon={<ViewKanban />}\n            tooltip={collapsed}\n          />\n        </>\n      )}\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n        tooltip={collapsed}\n      />\n\n      {showSchedules && (\n        <>\n          <ListItemLink\n            to=\"/schedules\"\n            primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n            icon={<Schedule />}\n            tooltip={collapsed}\n          />\n        </>\n      )}\n\n      <ListItemLink\n        to=\"/tags\"\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\n        icon={<LocalOfferIcon />}\n        tooltip={collapsed}\n      />\n\n      {showInternalChat && (\n        <>\n          <ListItemLink\n            to=\"/chats\"\n            primary={i18n.t(\"mainDrawer.listItems.chats\")}\n            icon={\n              <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n                <ForumIcon />\n              </Badge>\n            }\n            tooltip={collapsed}\n          />\n        </>\n      )}\n\n      {/* <ListItemLink\n        to=\"/todolist\"\n        primary={i18n.t(\"ToDoList\")}\n        icon={<EventAvailableIcon />}\n      /> */}\n      {hasHelps && (\n        <ListItemLink\n          to=\"/helps\"\n          primary={i18n.t(\"mainDrawer.listItems.helps\")}\n          icon={<HelpOutlineIcon />}\n          tooltip={collapsed}\n        />\n      )}\n      <Can\n        role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n        perform=\"dashboard:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>{i18n.t(\"mainDrawer.listItems.administration\")}</ListSubheader>\n            {showCampaigns && (\n              <Can\n                role={user.profile}\n                perform=\"dashboard:view\"\n                yes={() => (\n                  <>\n                    <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.campaigns\") : \"\"} placement=\"right\">\n                      <ListItem\n                        dense\n                        button\n                        onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                        onMouseEnter={() => setCampaignHover(true)}\n                        onMouseLeave={() => setCampaignHover(false)}\n                      >\n                        <ListItemIcon>\n                          <Avatar\n                            className={`${classes.iconHoverActive} ${isCampaignRouteActive || campaignHover ? \"active\" : \"\"\n                              }`}\n                          >\n                            <EventAvailableIcon />\n                          </Avatar>\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={\n                            <Typography className={classes.listItemText}>\n                              {i18n.t(\"mainDrawer.listItems.campaigns\")}\n                            </Typography>\n                          }\n                        />\n                        {openCampaignSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                      </ListItem>\n                    </Tooltip>\n                    <Collapse\n                      in={openCampaignSubmenu}\n                      timeout=\"auto\"\n                      unmountOnExit\n                      style={{\n                        backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\n                      }}\n                    >\n                      <List dense component=\"div\" disablePadding>\n                        <ListItemLink\n                          to=\"/campaigns\"\n                          primary={i18n.t(\"campaigns.subMenus.list\")}\n                          icon={<ListIcon />}\n                          tooltip={collapsed}\n                        />\n                        <ListItemLink\n                          to=\"/contact-lists\"\n                          primary={i18n.t(\"campaigns.subMenus.listContacts\")}\n                          icon={<PeopleIcon />}\n                          tooltip={collapsed}\n                        />\n                        <ListItemLink\n                          to=\"/campaigns-config\"\n                          primary={i18n.t(\"campaigns.subMenus.settings\")}\n                          icon={<SettingsOutlinedIcon />}\n                          tooltip={collapsed}\n                        />\n                      </List>\n                    </Collapse>\n                  </>\n                )}\n              />\n            )}\n\n            {/* FLOWBUILDER */}\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <>\n                  <Tooltip title={collapsed ? i18n.t(\"mainDrawer.listItems.campaigns\") : \"\"} placement=\"right\">\n                    <ListItem\n                      dense\n                      button\n                      onClick={() => setOpenFlowSubmenu((prev) => !prev)}\n                      onMouseEnter={() => setFlowHover(true)}\n                      onMouseLeave={() => setFlowHover(false)}\n                    >\n                      <ListItemIcon>\n                        <Avatar\n                          className={`${classes.iconHoverActive} ${isFlowbuilderRouteActive || flowHover ? \"active\" : \"\"\n                            }`}\n                        >\n                          <Webhook />\n                        </Avatar>\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography className={classes.listItemText}>\n                            {i18n.t(\"Flowbuilder\")}\n                          </Typography>\n                        }\n                      />\n                      {openFlowSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                    </ListItem>\n                  </Tooltip>\n\n                  <Collapse\n                    in={openFlowSubmenu}\n                    timeout=\"auto\"\n                    unmountOnExit\n                    style={{\n                      backgroundColor: theme.mode === \"light\" ? \"rgba(120,120,120,0.1)\" : \"rgba(120,120,120,0.5)\",\n                    }}\n                  >\n                    <List dense component=\"div\" disablePadding>\n                      <ListItemLink\n                        to=\"/phrase-lists\"\n                        primary={\"Fluxo de Campanha\"}\n                        icon={<EventAvailableIcon />}\n                        tooltip={collapsed}\n                      />\n\n                      <ListItemLink\n                        to=\"/flowbuilders\"\n                        primary={'Fluxo de conversa'}\n                        icon={<ShapeLine />}\n                      />\n                    </List>\n                  </Collapse>\n                </>\n              )}\n            />\n\n\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n                tooltip={collapsed}\n              />\n            )}\n\n            {showExternalApi && (\n              <>\n                <Can\n                  role={user.profile}\n                  perform=\"dashboard:view\"\n                  yes={() => (\n                    <ListItemLink\n                      to=\"/messages-api\"\n                      primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                      icon={<CodeRoundedIcon />}\n                      tooltip={collapsed}\n                    />\n                  )}\n                />\n              </>\n            )}\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <ListItemLink\n                  to=\"/users\"\n                  primary={i18n.t(\"mainDrawer.listItems.users\")}\n                  icon={<PeopleAltOutlinedIcon />}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <ListItemLink\n                  to=\"/queues\"\n                  primary={i18n.t(\"mainDrawer.listItems.queues\")}\n                  icon={<AccountTreeOutlinedIcon />}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n\n            {showOpenAi && (\n              <Can\n                role={user.profile}\n                perform=\"dashboard:view\"\n                yes={() => (\n                  <ListItemLink\n                    to=\"/prompts\"\n                    primary={i18n.t(\"mainDrawer.listItems.prompts\")}\n                    icon={<AllInclusive />}\n                    tooltip={collapsed}\n                  />\n                )}\n              />\n            )}\n\n            {showIntegrations && (\n              <Can\n                role={user.profile}\n                perform=\"dashboard:view\"\n                yes={() => (\n                  <ListItemLink\n                    to=\"/queue-integration\"\n                    primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\n                    icon={<DeviceHubOutlined />}\n                    tooltip={collapsed}\n                  />\n                )}\n              />\n            )}\n            <Can\n              role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n              perform={\"drawer-admin-items:view\"}\n              yes={() => (\n                <ListItemLink\n                  to=\"/connections\"\n                  primary={i18n.t(\"mainDrawer.listItems.connections\")}\n                  icon={<SyncAltIcon />}\n                  showBadge={connectionWarning}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n            {user.super && (\n              <ListItemLink\n                to=\"/allConnections\"\n                primary={i18n.t(\"mainDrawer.listItems.allConnections\")}\n                icon={<PhonelinkSetup />}\n                tooltip={collapsed}\n              />\n            )}\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <ListItemLink\n                  to=\"/files\"\n                  primary={i18n.t(\"mainDrawer.listItems.files\")}\n                  icon={<AttachFile />}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <ListItemLink\n                  to=\"/financeiro\"\n                  primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n                  icon={<LocalAtmIcon />}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n            <Can\n              role={user.profile}\n              perform=\"dashboard:view\"\n              yes={() => (\n                <ListItemLink\n                  to=\"/settings\"\n                  primary={i18n.t(\"mainDrawer.listItems.settings\")}\n                  icon={<SettingsOutlinedIcon />}\n                  tooltip={collapsed}\n                />\n              )}\n            />\n            {/* {user.super && (\n              <ListSubheader inset>\n                {i18n.t(\"mainDrawer.listItems.administration\")}\n              </ListSubheader>\n            )} */}\n\n            {user.super && (\n              <ListItemLink\n                to=\"/companies\"\n                primary={i18n.t(\"mainDrawer.listItems.companies\")}\n                icon={<BusinessIcon />}\n                tooltip={collapsed}\n              />\n            )}\n\n          </>\n\n        )}\n      />\n      {!collapsed && (\n        <React.Fragment>\n          <Divider />\n          {/* \n              // IMAGEM NO MENU\n              <Hidden only={['sm', 'xs']}>\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \n              </Hidden> \n              */}\n          <Typography\n            style={{\n              fontSize: \"12px\",\n              padding: \"10px\",\n              textAlign: \"center\",\n              fontWeight: \"bold\",\n            }}\n          >\n            {`${version}`}\n          </Typography>\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tconst pixMarker = '###PIX_MARKER###';\n\n\tif (children && children.includes('***')) {\n\t\tchildren = children.replace(/\\*\\*\\*/g, pixMarker);\n\t}\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\n\tif (children && children.includes(pixMarker)) {\n\t\tchildren = children.replace(new RegExp(pixMarker, 'g'), '***');\n\t}\n\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","export default __webpack_public_path__ + \"static/media/instagram.79535458.png\";","export default __webpack_public_path__ + \"static/media/whatsapp.7f02d15e.png\";","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n\tconst [tabOpen, setTabOpen] = useState(\"open\");\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tif (currentTicket.id !== null) {\n\t\t\thistory.push(`/tickets/${currentTicket.uuid}`);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket, tabOpen, setTabOpen }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\nimport emojiRegex from \"emoji-regex\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport CheckIcon from \"@material-ui/icons/CheckCircle\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport ClearOutlinedIcon from \"@material-ui/icons/ClearOutlined\";\nimport api from \"../../services/api\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport facebookIcon from \"../../assets/facebook.png\";\nimport insatagramIcon from \"../../assets/instagram.png\";\nimport whatsappIcon from \"../../assets/whatsapp.png\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    ticket: {\n        position: \"relative\",\n    },\n\n    pendingTicket: {\n        cursor: \"unset\",\n    },\n\n    noTicketsDiv: {\n        display: \"flex\",\n        height: \"100px\",\n        margin: 40,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n\n    noTicketsText: {\n        textAlign: \"center\",\n        color: \"rgb(104, 121, 146)\",\n        fontSize: \"14px\",\n        lineHeight: \"1.4\",\n    },\n\n    noTicketsTitle: {\n        textAlign: \"center\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        margin: \"0px\",\n    },\n\n    contactNameWrapper: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n\n    lastMessageTime: {\n        position: \"absolute\",\n        marginRight: 5,\n        right: 20,\n        bottom: 30,\n    },\n\n    closedBadge: {\n        alignSelf: \"center\",\n        justifySelf: \"flex-end\",\n        marginRight: 32,\n        marginLeft: \"auto\",\n    },\n\n    contactLastMessage: {\n        paddingRight: 20,\n    },\n\n    newMessagesCount: {\n        alignSelf: \"center\",\n        marginRight: 8,\n        marginLeft: \"auto\",\n    },\n\n    bottomButton: {\n        top: \"12px\",\n    },\n\n    badgeStyle: {\n        color: \"white\",\n        backgroundColor: green[500],\n    },\n\n    acceptButton: {\n        position: \"absolute\",\n        left: \"50%\",\n    },\n\n    ticketQueueColor: {\n        flex: \"none\",\n        width: \"8px\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0%\",\n        left: \"0%\",\n    },\n\n    userTag: {\n        position: \"absolute\",\n        marginRight: 110,\n        right: 20,\n        bottom: 30,\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.primary.main,\n        border: \"1px solid #CCC\",\n        padding: 1,\n        paddingLeft: 5,\n        paddingRight: 5,\n        borderRadius: 10,\n        fontSize: \"0.9em\",\n    },\n    divTags: {\n        position: \"absolute\",\n        marginRight: 0,\n        left: 0,\n        bottom: 0,\n        flexWrap: \"wrap\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n    },\n    tags: {\n        color: \"#FFF\",\n        border: \"1px solid #CCC\",\n        padding: 0,\n        paddingLeft: 5,\n        paddingRight: 5,\n        borderRadius: 0,\n        fontSize: \"0.6em\",\n        textAlign: \"center\",\n    },\n    divUser: {\n        position: \"absolute\",\n        marginRight: 0,\n        left: 0,\n        top: 0,\n        flexWrap: \"wrap\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n    },\n    user: {\n        color: \"#eee\",\n        border: \"1px solid #CCC\",\n        padding: 0,\n        paddingLeft: 5,\n        paddingRight: 5,\n        borderRadius: 0,\n        fontSize: \"0.6em\",\n        textAlign: \"center\",\n    },\n\n    tagsWrapper: {\n        zIndex: 500,\n    },\n\n    badge: {\n        backgroundColor: \"#44b700\",\n        color: \"#44b700\",\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n        \"&::after\": {\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            width: \"100%\",\n            height: \"100%\",\n            borderRadius: \"50%\",\n            animation: \"$ripple 1.2s infinite ease-in-out\",\n            border: \"1px solid currentColor\",\n            content: '\"\"',\n        },\n    },\n    \"@keyframes ripple\": {\n        \"0%\": {\n            transform: \"scale(.8)\",\n            opacity: 1,\n        },\n        \"100%\": {\n            transform: \"scale(2.4)\",\n            opacity: 0,\n        },\n    },\n}));\n\nconst SmallAvatar = withStyles((theme) => ({\n    root: {\n        width: 22,\n        height: 22,\n        border: `2px solid ${theme.palette.background.paper}`,\n    },\n}))(Avatar);\n\nconst getAvatarChannel = (channel) => {\n    if (channel === \"facebook\") {\n        return facebookIcon;\n    }\n\n    if (channel === \"whatsapp\") {\n        return whatsappIcon;\n    }\n\n    if (channel === \"whatsappapi\") {\n        return whatsappIcon;\n    }\n\n    if (channel === \"instagram\") {\n        return insatagramIcon;\n    }\n};\n\nconst TicketListItem = ({ ticket }) => {\n    const classes = useStyles();\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n    const { ticketId } = useParams();\n    const isMounted = useRef(true);\n    const { user } = useContext(AuthContext);\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\n\n    useEffect(() => {\n        console.log(\"======== TicketListItemCustom ===========\")\n        console.log(ticket)\n        console.log(\"=========================================\")\n    }, [ticket])\n\n    \n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    function getRatingIcon(rate) {\n        let icon = \"\";\n        if (rate === 1) {\n            icon = \"\";\n        } else if (rate === 2) {\n            icon = \"\";\n        } else if (rate === 3) {\n            icon = \"\";\n        } else if (rate === 4) {\n            icon = \"\";\n        } else if (rate === 5) {\n            icon = \"\";\n        }\n\n        return icon;\n    }\n\n\n    const handleAcepptTicket = async (ticket) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\n    const handleAcepptTicketBot = async (ticket) => {\n        // alert(\"Bot\");\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\n    const handleReopenTicket = async (ticket) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\n    const handleViewTicket = async (ticket) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"pending\",\n            });\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\n    const handleSelectTicket = (ticket) => {\n        const code = uuidv4();\n        const { id, uuid } = ticket;\n        setTabOpen(ticket.status)\n        setCurrentTicket({ id, uuid, code });\n    };\n\n    const handleClosedTicket = async (ticket) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"closed\",\n            });\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n    };\n\n    const renderUserName = (name) => {\n        let str = name.replace(emojiRegex(), \"\").trim();\n\n        const firstName = str.split(\" \")[0];\n\n        return firstName;\n    };\n\n    return (\n        <React.Fragment key={ticket.id}>\n            <ListItem\n                dense\n                button\n                onClick={(e) => {\n                    handleSelectTicket(ticket)\n                }}\n                selected={ticketId && +ticketId === ticket.id}\n                className={clsx(classes.ticket, {\n                    [classes.pendingTicket]: ticket.status === \"pending\",\n                })}\n            >\n                <Tooltip\n                    arrow\n                    placement=\"right\"\n                    title={ticket.queue?.name || \"Sem departamento\"}\n                >\n                    <span\n                        style={{\n                            backgroundColor: ticket.queue?.color || \"#7C7C7C\",\n                        }}\n                        className={classes.ticketQueueColor}\n                    ></span>\n                </Tooltip>\n                <ListItemAvatar>\n                    <Badge\n                        overlap=\"circular\"\n                        anchorOrigin={{\n                            vertical: \"bottom\",\n                            horizontal: \"right\",\n                        }}\n                        badgeContent={\n                            <SmallAvatar\n                                alt={ticket?.channel}\n                                src={getAvatarChannel(ticket?.channel)}\n                            />\n                        }\n                    >\n                        <Avatar\n                            alt={ticket?.contact?.name}\n                            src={ticket?.contact?.urlPicture}\n                        />\n                    </Badge>\n                </ListItemAvatar>\n                <ListItemText\n                    disableTypography\n                    primary={\n                        <span className={classes.contactNameWrapper}>\n                            <Typography\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                                color=\"textPrimary\"\n                            >\n                                {ticket.contact.name}\n                            </Typography>\n\n                            {ticket.lastMessage && (\n                                <Typography\n                                    className={classes.lastMessageTime}\n                                    component=\"span\"\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                >\n                                    {isSameDay(\n                                        parseISO(ticket.updatedAt),\n                                        new Date()\n                                    ) ? (\n                                        <>\n                                            {format(\n                                                parseISO(ticket.updatedAt),\n                                                \"HH:mm\"\n                                            )}\n                                        </>\n                                    ) : (\n                                        <>\n                                            {format(\n                                                parseISO(ticket.updatedAt),\n                                                \"dd/MM/yyyy\"\n                                            )}\n                                        </>\n                                    )}\n                                </Typography>\n                            )}\n                            {ticket.whatsappId && (\n                                <div\n                                    className={classes.userTag}\n                                    title={i18n.t(\n                                        \"ticketsList.connectionTitle\"\n                                    )}\n                                >\n                                    {ticket.whatsapp?.name}\n                                </div>\n                            )}\n                        </span>\n                    }\n                    secondary={\n                        <span className={classes.contactNameWrapper}>\n                            {ticket.status === \"closed\"\n                                ? ticket?.userRating\n                                    ? getRatingIcon(ticket?.userRating?.rate)\n                                    : null\n                                : null}\n                            <Typography\n                                className={classes.contactLastMessage}\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                            >\n                                {ticket.lastMessage ? (\n                                    <MarkdownWrapper>\n                                        {ticket.lastMessage}\n                                    </MarkdownWrapper>\n                                ) : (\n                                    <br />\n                                )}\n                            </Typography>\n\n                            <Badge\n                                overlap=\"rectangular\"\n                                className={classes.newMessagesCount}\n                                badgeContent={ticket.unreadMessages}\n                                classes={{\n                                    badge: classes.badgeStyle,\n                                }}\n                            />\n                        </span>\n                    }\n                />\n                {ticket.status === \"pending\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        loading={loading.toString()}\n                        onClick={(e) =>\n                            ticket.isBot\n                                ? handleAcepptTicketBot(ticket)\n                                : handleAcepptTicket(ticket)\n                        }\n                    >\n                        <CheckIcon />\n                    </IconButton>\n                )}\n                {/* {ticket.status === \"pending\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        onClick={(e) => handleViewTicket(ticket)}\n                    >\n                        <VisibilityIcon />\n                    </IconButton>\n                )} */}\n                <div className={classes.divTags}>\n                    {ticket.isGroup && (\n                        <div className={classes.tagsWrapper}>\n                            <div\n                                key={ticket.id}\n                                className={classes.tags}\n                                // title={ticket.isGroup}\n                                style={{\n                                    backgroundColor: \"#7C7C7C\",\n                                }}\n                            >\n                                Grupo\n                            </div>\n                        </div>\n                    )}\n                    {ticket.user?.id &&\n                        user.profile.toUpperCase() === \"ADMIN\" && (\n                            <div className={classes.tagsWrapper}>\n                                <div\n                                    key={ticket.user.id}\n                                    className={classes.tags}\n                                    title={renderUserName(ticket.user.name)}\n                                    style={{\n                                        backgroundColor:\n                                            ticket.user.color === \"\" ||\n                                                !ticket.user.color\n                                                ? \"#7C7C7C\"\n                                                : ticket.user.color,\n                                    }}\n                                >\n                                    {renderUserName(ticket.user.name)}\n                                </div>\n                            </div>\n                        )}\n                    {ticket.tags?.length > 0 && (\n                        <>\n                            <div className={classes.tagsWrapper}>\n                                <div\n                                    key={ticket.tags[0].id}\n                                    className={classes.tags}\n                                    title={ticket.tags[0].name}\n                                    style={{\n                                        backgroundColor: ticket.tags[0].color,\n                                    }}\n                                >\n                                    {ticket.tags[0].name}\n                                </div>\n                            </div>\n                            {ticket.tags.length > 1 && (\n                                <div\n                                    key={ticket.tags[1].id}\n                                    className={classes.tags}\n                                    title={ticket.tags[1].name}\n                                    style={{\n                                        backgroundColor: ticket.tags[1].color,\n                                    }}\n                                >\n                                    +{ticket.tags.length - 1}\n                                </div>\n                            )}\n                        </>\n                    )}\n                </div>\n\n                {(ticket.status === \"pending\" && (user.showDashboard === \"enabled\" || user.profile === \"admin\")) && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        onClick={(e) => handleClosedTicket(ticket)}\n                    >\n                        <ClearOutlinedIcon />\n                    </IconButton>\n                )}\n                {ticket.status === \"open\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        onClick={(e) => handleViewTicket(ticket)}\n                    >\n                        <ReplayIcon />\n                    </IconButton>\n                )}\n                {ticket.status === \"open\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        onClick={(e) => handleClosedTicket(ticket)}\n                    >\n                        <ClearOutlinedIcon />\n                    </IconButton>\n                )}\n                {ticket.status === \"closed\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                        onClick={(e) => handleReopenTicket(ticket)}\n                    >\n                        <ReplayIcon />\n                    </IconButton>\n                )}\n                {ticket.status === \"closed\" && (\n                    <IconButton\n                        className={classes.bottomButton}\n                        color=\"primary\"\n                    ></IconButton>\n                )}\n            </ListItem>\n            <Divider variant=\"inset\" component=\"li\" />\n        </React.Fragment>\n    );\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport { format, sub } from 'date-fns'\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n  whatsappIds,\n  statusFilter,\n  forceSearch,\n  userFilter,\n  sortTickets,\n  searchOnMessages\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        if (userFilter === undefined || userFilter === null) {\n          try {            \n            const { data } = await api.get(\"/tickets\", {\n              params: {\n                searchParam,\n                pageNumber,\n                tags,\n                users,\n                status,\n                date,\n                updatedAt,\n                showAll,\n                queueIds,\n                withUnreadMessages,\n                whatsapps: whatsappIds,\n                statusFilter,\n                sortTickets,\n                searchOnMessages\n              },\n            });\n            \n            let tickets = [];\n            \n            tickets = data.tickets;\n          \n            setTickets(tickets);\n            setHasMore(data.hasMore);\n            setCount(data.count)\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        } else {\n          try {\n            // console.log(\"ENTROU AQUI DASH\")\n            // console.log(status,\n            //   showAll,\n            //   queueIds,\n            //   format(sub(new Date(), { days: 30 }), 'yyyy-MM-dd'),\n            //   format(new Date(), 'yyyy-MM-dd'),\n            //   userFilter)\n\n            const {data} = await api.get(\"/dashboard/moments\", {\n              params: {\n                status,\n                showAll,\n                queueIds,\n                dateStart: format(sub(new Date(), { days: 30 }), 'yyyy-MM-dd'),\n                dateEnd: format(new Date(), 'yyyy-MM-dd'),\n                userId: userFilter\n              }\n            })\n\n            // console.log(data)\n            let tickets = [];\n            tickets = data.filter(item => item.userId == userFilter);            \n\n            setTickets(tickets);\n            setHasMore(null);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        }\n      };\n    fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n    whatsappIds,\n    statusFilter,\n    forceSearch,\n    sortTickets,\n    searchOnMessages\n  ]);\n\n  return { tickets, loading, hasMore, count };\n};\n\nexport default useTickets;\n","/** \n * @TercioSantos-1 |\n * api/get/todas as configuraes de 1 empresa |\n * api/get/1 configurao especfica |\n * api/put/atualizao de 1 configurao |\n */\nimport api from \"../../services/api\";\n\nconst useCompanySettings = () => {\n\n    const getAll = async (companyId) => {\n        const { data } = await api.request({\n            url: `/companySettings/${companyId}`,\n            method: 'GET'\n        });\n\n        return data;\n    }\n\n   const get = async (params) => {\n        const { data } = await api.request({\n            url: '/companySettingOne',\n            method: 'GET',\n            params\n        });\n        return data;\n    } \n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companySettings',\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        getAll,\n        get,\n        update\n    }\n}\n\nexport default useCompanySettings;","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport Favicon from \"react-favicon\";\nimport { getBackendUrl } from \"../../config\";\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = (volume) => {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\n\tconst history = useHistory();\n\t// const socketManager = useContext(SocketContext);\n\tconst { user, socket } = useContext(AuthContext);\n\tconst { profile, queues } = user;\n\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\tconst queueIds = queues.map((q) => q.id);\n\tconst { get: getSetting } = useCompanySettings();\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\n\n\tconst [showTicketWithoutQueue, setShowTicketWithoutQueue] = useState(false);\n\tconst [showNotificationPending, setShowNotificationPending] = useState(false);\n\tconst [showGroupNotification, setShowGroupNotification] = useState(false);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({\n\t\twithUnreadMessages: \"true\"\n\t\t// showAll: showTicketWithoutQueue ? \"true\" : \"false\"\n\t});\n\n\tconst [play] = useSound(alertSound, volume);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tconst fetchSettings = async () => {\n\t\t\ttry {\n\t\t\t\tconst setting = await getSetting(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"column\": \"showNotificationPending\"\n\t\t\t\t\t}\n\t\t\t\t);\n\n\n\n\t\t\t\tif (setting.showNotificationPending === true) {\n\t\t\t\t\tsetShowNotificationPending(true);\n\t\t\t\t}\n\n\t\t\t\tif (user.allTicket === \"enable\") {\n\t\t\t\t\tsetShowTicketWithoutQueue(true);\n\t\t\t\t}\n\t\t\t\tif (user.allowGroup === true) {\n\t\t\t\t\tsetShowGroupNotification(true);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tfetchSettings();\n\t}, [setShowTicketWithoutQueue, setShowNotificationPending]);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tconst processNotifications = () => {\n\t\t\t// if (showTicketWithoutQueue) {\n\t\t\tsetNotifications(tickets);\n\t\t\t// } else {\n\t\t\t// \tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\n\n\t\t\t// \tsetNotifications(newNotifications);\n\t\t\t// }\n\t\t}\n\n\t\tprocessNotifications();\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst companyId = user.companyId;\n\t\t// const socket = socketManager.GetSocket();\n\t\tif (user.id) {\n\t\t\tconst queueIds = queues.map((q) => q.id);\n\n\t\t\tconst onConnectNotificationsPopover = () => {\n\t\t\t\tsocket.emit(\"joinNotification\");\n\t\t\t}\n\n\t\t\tconst onCompanyTicketNotificationsPopover = (data) => {\n\t\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prevState;\n\t\t\t\t\t});\n\n\t\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prevState;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onCompanyAppMessageNotificationsPopover = (data) => {\n\t\t\t\t// if (\n\t\t\t\t// \tdata.action === \"create\" && !data.message.fromMe &&\n\t\t\t\t// \t(\n\t\t\t\t// \t\tdata.ticket.status !== 'pending' &&\n\t\t\t\t// \t\tdata.ticket.status !== \"lgpd\" &&\n\t\t\t\t// \t\tdata.ticket.status !== \"nps\"\t\t\t\t\t\t\n\t\t\t\t// \t) &&\n\t\t\t\t// \t(!data.message.read || (data.ticket.status === \"pending\" && showTicketWithoutQueue && data.ticket.queueId === null) || (data.ticket.status === \"pending\" && !showTicketWithoutQueue && user?.queues?.some(queue => (queue.id === data.ticket.queueId)))) &&\n\t\t\t\t// \t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t\t// ) {\n\t\t\t\t// \n\t\t\t\t\n\t\t\t\tif (\n\t\t\t\t\tdata.action === \"create\" && !data.message.fromMe &&\n\t\t\t\t\t!data.message.read &&\n\t\t\t\t\t(data.ticket?.userId === user?.id || !data.ticket?.userId) &&\n\t\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) ||\n\t\t\t\t\t\t!data.ticket.queueId && showTicketWithoutQueue === true) &&\n\t\t\t\t\t(![\"pending\", \"lgpd\", \"nps\", \"group\"].includes(data.ticket?.status) ||\n\t\t\t\t\t\t(data.ticket?.status === \"pending\" && showNotificationPending === true) ||\n\t\t\t\t\t\t(data.ticket?.status === \"group\" && data.ticket?.whatsapp?.groupAsTicket === \"enabled\" && showGroupNotification === true))\n\t\t\t\t) {\n\t\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t\t});\n\n\t\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\t\t(data.ticket.isGroup && data.ticket?.whatsapp?.groupAsTicket === \"disabled\" && showGroupNotification === false);\n\n\n\t\t\t\t\tif (shouldNotNotificate === true) return;\n\n\t\t\t\t\thandleNotifications(data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsocket.on(\"connect\", onConnectNotificationsPopover);\n\t\t\tsocket.on(`company-${companyId}-ticket`, onCompanyTicketNotificationsPopover);\n\t\t\tsocket.on(`company-${companyId}-appMessage`, onCompanyAppMessageNotificationsPopover);\n\n\t\t\treturn () => {\n\t\t\t\tsocket.off(\"connect\", onConnectNotificationsPopover);\n\t\t\t\tsocket.off(`company-${companyId}-ticket`, onCompanyTicketNotificationsPopover);\n\t\t\t\tsocket.off(`company-${companyId}-appMessage`, onCompanyAppMessageNotificationsPopover);\n\t\t\t};\n\t\t}\n\t}, [user, profile, queues, showTicketWithoutQueue, socket, showNotificationPending, showGroupNotification]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.urlPicture,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\tsetTabOpen(ticket.status)\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\tconst browserNotification = () => {\n\t\tconst numbers = \"\";\n\t\tif (notifications.length > 0) {\n\t\t\tif (notifications.length < 21) {\n\t\t\t\tdocument.title = numbers.substring(notifications.length, notifications.length + 1) + \" - \" + (theme.appName || \"...\");\n\t\t\t} else {\n\t\t\t\tdocument.title = \"(\" + notifications.length + \")\" + (theme.appName || \"...\");\n\t\t\t}\n\t\t} else {\n\t\t\tdocument.title = theme.appName || \"...\";\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Favicon\n\t\t\t\t\tanimated={true}\n\t\t\t\t\turl={(theme?.appLogoFavicon) ? theme.appLogoFavicon : defaultLogoFavicon}\n\t\t\t\t\talertCount={notifications.length}\n\t\t\t\t\ticonSize={195}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{browserNotification()}\n\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\tstyle={{ color: \"white\" }}\n\t\t\t>\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={Number(volume)}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n})); \n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\t\t\t\t\t\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React, { useContext, useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport Box from '@material-ui/core/Box';\nimport { AuthContext } from '../../context/Auth/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n    margin: theme.spacing(2),\n    cursor: 'pointer',\n    borderRadius: '50%',\n    border: '2px solid #ccc',\n  },\n}));\n\nconst AvatarUploader = ({ setAvatar, avatar, companyId }) => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const user = useContext(AuthContext);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setAvatar(file);\n\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreviewImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n      {!previewImage && avatar ?\n        <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`}\n          style={{ width: 120, height: 120 }}\n        /></>\n        : !avatar && !previewImage ? <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`}\n          style={{ width: 120, height: 120 }}\n        /></> :\n          <Avatar\n            alt=\"Preview Avatar\"\n            src={previewImage ? previewImage : user.avatar}\n            style={{ width: 120, height: 120 }}\n          />\n      }\n\n\n      <input\n        accept=\"image/*\"\n        type=\"file\"\n        id=\"avatar-upload\"\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n      <label htmlFor=\"avatar-upload\" style={{ marginTop: 10 }}>\n        <Button\n          variant=\"contained\"\n          component=\"span\"\n          startIcon={<CloudUploadIcon />}\n        >\n          Upload Avatar\n        </Button>\n      </label>\n      {/**   <p>{selectedFile ? `Selected: ${selectedFile.name}` : 'No file selected'}</p>*/}\n    </Box>\n  );\n};\n\nexport default AvatarUploader;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport whatsappIcon from '../../assets/nopicture.png'\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nimport { Can } from \"../Can\";\nimport { Avatar, Grid, Input, Paper, Tab, Tabs } from \"@material-ui/core\";\nimport { getBackendUrl } from \"../../config\";\nimport TabPanel from \"../TabPanel\";\nimport AvatarUploader from \"../AvatarUpload\";\n\nconst backendUrl = getBackendUrl();\nconst path = require('path');\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t},\n\tavatar: {\n\t\twidth: theme.spacing(12),\n\t\theight: theme.spacing(12),\n\t\tmargin: theme.spacing(2),\n\t\tcursor: 'pointer',\n\t\tborderRadius: '50%',\n\t\tborder: '2px solid #ccc',\n\t},\n\tupdateDiv: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\tupdateInput: {\n\t\tdisplay: 'none',\n\t},\n\tupdateLabel: {\n\t\tpadding: theme.spacing(1),\n\t\tmargin: theme.spacing(1),\n\t\ttextTransform: 'uppercase',\n\t\ttextAlign: 'center',\n\t\tcursor: 'pointer',\n\t\tborder: '2px solid #ccc',\n\t\tborderRadius: '5px',\n\t\tminWidth: 160,\n\t\tfontWeight: 'bold',\n\t\tcolor: '#555',\n\t},\n\terrorUpdate: {\n\t\tborder: '2px solid red',\n\t},\n\terrorText: {\n\t\tcolor: 'red',\n\t\tfontSize: '0.8rem',\n\t\tfontWeight: 'bold',\n\t}\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n\tallHistoric: Yup.string().nullable(),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t\tstartWork: \"00:00\",\n\t\tendWork: \"23:59\",\n\t\tfarewellMessage: \"\",\n\t\tallTicket: \"disable\",\n\t\tallowGroup: false,\n\t\tdefaultTheme: \"light\",\n\t\tdefaultMenu: \"open\",\n\t\tallHistoric: \"disabled\",\n\t\tallUserChat: \"disabled\",\n\t\tuserClosePendingTicket: \"enabled\",\n\t\tshowDashboard: \"disabled\",\n\t\tallowRealTime: \"disabled\",\n\t\tallowConnections: \"disabled\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\t// const [allTicket, setAllTicket] = useState(\"disable\");\n\tconst { loading, whatsApps } = useWhatsApps();\n\tconst [profileUrl, setProfileUrl] = useState(null)\n\tconst [tab, setTab] = useState(\"general\");\n\tconst [avatar, setAvatar] = useState(null);\n\tconst startWorkRef = useRef();\n\tconst endWorkRef = useRef();\n\n\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\n\t\t\t\tconst { profileImage } = data;\n\t\t\t\tsetProfileUrl(`${backendUrl}/public/company${data.companyId}/user/${profileImage}`);\n\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleTabChange = (event, newValue) => {\n\t\tsetTab(newValue);\n\t};\n\n\tconst handleSaveUser = async (values) => {\n\n\t\tconst uploadAvatar = async (file) => {\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append('userId', file.id);\n\t\t\tformData.append('typeArch', \"user\");\n\t\t\tformData.append('profileImage', avatar);\n\n\t\t\tconst { data } = await api.post(`/users/${file.id}/media-upload`, formData);\n\n\t\t\tlocalStorage.setItem(\"profileImage\", data.user.profileImage);\n\n\t\t}\n\n\n\n\t\tconst userData = {\n\t\t\t...values,\n\t\t\twhatsappId,\n\t\t\tqueueIds: selectedQueueIds\n\t\t};\n\t\tconsole.log(\"userData\", userData)\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tconst { data } = await api.put(`/users/${userId}`, userData);\n\t\t\t\tconsole.log(\"avatar\", avatar, user?.profileImage, avatar?.name)\n\t\t\t\tif (avatar && (!user?.profileImage || !user?.profileImage !== avatar.name))// getBasename(avatar)))\n\t\t\t\t\tuploadAvatar(data)\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\n\t\t\t\tif (!user?.profileImage && avatar)\n\t\t\t\t\tuploadAvatar(user)\n\t\t\t}\n\t\t\tif (userId === loggedInUser.id) {\n\t\t\t\thandleClose();\n\t\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t\t\twindow.location.reload(\t);\n\t\t\t} else {\n\t\t\t\thandleClose();\n\t\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Paper className={classes.mainPaper} elevation={1}>\n\t\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\t\tvalue={tab}\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\t\tscrollButtons=\"on\"\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\t\t\tonChange={handleTabChange}\n\t\t\t\t\t\t\t\t\tclassName={classes.tab}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Tab label={i18n.t(\"userModal.tabs.general\")} value={\"general\"} />\n\t\t\t\t\t\t\t\t\t<Tab label={i18n.t(\"userModal.tabs.permissions\")} value={\"permissions\"} />\n\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\n\t\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t\t<TabPanel\n\t\t\t\t\t\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\t\t\t\t\t\tvalue={tab}\n\t\t\t\t\t\t\t\t\t\tname={\"general\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\tspacing={1}\n\t\t\t\t\t\t\t\t\t\t\talignContent=\"center\"\n\t\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t<FormControl className={classes.updateDiv}>\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarUploader\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAvatar={setAvatar}\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={user.profileImage}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcompanyId={user.companyId}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{user.profileImage &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.profileImage = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"profileImage\", null);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAvatar(null);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.title.removeImage\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={8} xl={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t//className={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.startWork\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tampm={\"false\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRef={startWorkRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"startWork\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && Boolean(errors.startWork)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && errors.startWork\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.endWork\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tampm={\"false\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputRef={endWorkRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"endWork\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && Boolean(errors.endWork)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && errors.endWork\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.farewellMessage\")}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\t\terror={touched.farewellMessage && Boolean(errors.farewellMessage)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.farewellMessage && errors.farewellMessage}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.defaultTheme\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.defaultTheme\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"defaultTheme\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"defaultTheme\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"light\">{i18n.t(\"userModal.form.defaultThemeLight\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"dark\">{i18n.t(\"userModal.form.defaultThemeDark\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.defaultMenu\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.defaultMenu\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"defaultMenu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"defaultMenu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"userModal.form.defaultMenuOpen\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"userModal.form.defaultMenuClosed\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t\t<TabPanel\n\t\t\t\t\t\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\t\t\t\t\t\tvalue={tab}\n\t\t\t\t\t\t\t\t\t\tname={\"permissions\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enable\">{i18n.t(\"userModal.form.allTicketEnable\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disable\">{i18n.t(\"userModal.form.allTicketDisable\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowGroup\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowGroup\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={true}>{i18n.t(\"userModal.form.allTicketEnable\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={false}>{i18n.t(\"userModal.form.allTicketDisable\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allHistoric\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allHistoric\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allHistoric\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allHistoric\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allUserChat\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allUserChat\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allUserChat\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allUserChat\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.userClosePendingTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.userClosePendingTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"userClosePendingTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"userClosePendingTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowConnections\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowConnections\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowConnections\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowConnections\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.showDashboard\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.showDashboard\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"showDashboard\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"showDashboard\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allowRealTime\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.allowRealTime\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allowRealTime\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"allowRealTime\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"disabled\">{i18n.t(\"userModal.form.allHistoricDisabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allHistoricEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div >\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  // const getMediaPath = (filename) => {\n  //   return path.join(`${process.env.REACT_APP_BACKEND_URL}`,\"public\", \"announcements\",`${filename}`);\n  // };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"95%\",\n              height: 300,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"cover\",\n              backgroundPosition: \"center\",\n            }}\n          >\n            <img\n              alt={`announcement image`}\n              src={announcement.mediaPath}\n              style={{\n                width: \"95%\",\n                height: \"100%\",\n              }}\n            />\n          </div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\" style={{ whiteSpace: \"pre-line\" }}>\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n//   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (user.companyId) {\n      const companyId = user.companyId;\n//    const socket = socketManager.GetSocket();\n\n      const onCompanyAnnouncement = (data) => {\n        if (data.action === \"update\" || data.action === \"create\") {\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n          setInvisible(false);\n        }\n        if (data.action === \"delete\") {\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n        }\n      };\n      socket.on(`company-announcement`, onCompanyAnnouncement);\n\n      return () => {\n        socket.off(`company-announcement`, onCompanyAnnouncement);\n      };\n    }\n  }, [user]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <AnnouncementIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"primary\" : \"secondary\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        src={item.mediaPath}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}","export default __webpack_public_path__ + \"static/media/logo.428fb7cc.png\";","export default __webpack_public_path__ + \"static/media/logo-black.428fb7cc.png\";","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  function returnDays(date) {\n    let data1 = new Date()\n    let data2 = new Date(date)\n    let result = data2.getTime() - data1.getTime();\n    let days = Math.ceil(result / (1000 * 60 * 60 * 24));\n\n    if (days === -0) {\n      days = 0\n    }\n    return days;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n    returnDays\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n//   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (user.companyId) {\n\n      const companyId = user.companyId;\n//    const socket = socketManager.GetSocket();\n\n      const onCompanyChatPopover = (data) => {\n        if (data.action === \"new-message\") {\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\n          if (data.newMessage.senderId !== user.id) {\n\n            soundAlertRef.current();\n          }\n        }\n        if (data.action === \"update\") {\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        }\n      }\n\n      socket.on(`company-${companyId}-chat`, onCompanyChatPopover);\n\n      return () => {\n        socket.off(`company-${companyId}-chat`, onCompanyChatPopover);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import api, { openApi } from \"../../services/api\";\n\nconst useSettings = () => {\n  const getAll = async (params) => {\n    const { data } = await api.request({\n      url: \"/settings\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/settings/${data.key}`,\n      method: \"PUT\",\n      data,\n    });\n    console.log(responseData);\n    return responseData;\n  };\n\n  const get = async (param) => {\n    const { data } = await api.request({\n      url: `/setting/${param}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const getPublicSetting = async (key) => {\n    const params = {\n      token: \"wtV\"\n    }\n\n    const { data } = await openApi.request({\n        url: `/public-settings/${key}`,\n        method: 'GET',\n        params\n    });\n    return data;\n  };\n\n  return {\n    getAll,\n    update,\n    get,\n    getPublicSetting,\n  };\n};\n\nexport default useSettings;\n","import React, { useState, useEffect } from \"react\";\nimport api from \"../../services/api\";\nimport Button from \"@material-ui/core/Button\";\n\nconst packageVersion = require(\"../../../package.json\").version;\n\nconst VersionControl = () => {\n  const [storedVersion] = useState(window.localStorage.getItem(\"version\") || \"0.0.0\");\n\n  const handleUpdateVersion = async () => {\n    window.localStorage.setItem(\"version\", packageVersion);\n\n    // Mantive apenas para salvar no banco a versao atual\n    const { data } = await api.post(\"/version\", {\n      version: packageVersion,\n    });\n\n    // Limpar o cache do navegador\n    caches.keys().then(function (names) {\n      for (let name of names) caches.delete(name);\n    });\n\n    // Atraso para garantir que o cache foi limpo\n    setTimeout(() => {\n      window.location.reload(true); // Recarregar a pgina\n    }, 1000);\n  };\n\n  return (\n    <div>\n      {storedVersion !== packageVersion && (\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          style={{\n            backgroundColor: \"red\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            right: \"15px\",\n          }}\n          onClick={handleUpdateVersion}\n        >\n          Nova verso disponvel! Clique aqui para atualizar\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default VersionControl;\n","import React, { useState, useContext, useEffect, useMemo } from \"react\";\nimport clsx from \"clsx\";\n// import moment from \"moment\";\n\n// import { isNill } from \"lodash\";\n// import SoftPhone from \"react-softphone\";\n// import { WebSocketInterface } from \"jssip\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n  Avatar,\n  // FormControl,\n  Badge,\n  withStyles,\n  Chip,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n// import whatsappIcon from \"../assets/nopicture.png\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n// import DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/logo.png\";\nimport logoDark from \"../assets/logo-black.png\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\n// import UserLanguageSelector from \"../components/UserLanguageSelector\";\n\nimport ColorModeContext from \"./themeContext\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\nimport { getBackendUrl } from \"../config\";\nimport useSettings from \"../hooks/useSettings\";\nimport VersionControl from \"../components/VersionControl\";\n\n// import { SocketContext } from \"../context/Socket/SocketContext\";\n\nconst backendUrl = getBackendUrl();\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    \"& .MuiButton-outlinedPrimary\": {\n      color: theme.palette.primary,\n      border:\n        theme.mode === \"light\"\n          ? \"1px solid rgba(0 124 102)\"\n          : \"1px solid rgba(255, 255, 255, 0.5)\",\n    },\n    \"& .MuiTab-textColorPrimary.Mui-selected\": {\n      color: theme.palette.primary,\n    },\n  },\n  chip: {\n    background: \"red\",\n    color: \"white\",\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // backgroundColor: \"#FFF\",\n    backgroundSize: \"cover\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\",\n    },\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  // menuButton: {\n  //   marginRight: 36,\n  // },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    // overflowX: \"hidden\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    overflowX: \"hidden\",\n    overflowY: \"hidden\",\n  },\n\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    overflowY: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  // paper: {\n  //     padding: theme.spacing(2),\n  //     display: \"flex\",\n  //     overflow: \"auto\",\n  //     flexDirection: \"column\",\n  //   },\n  containerWithScroll: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    overflowY: \"scroll\", // Use \"auto\" para mostrar a barra de rolagem apenas quando necessrio\n    overflowX: \"hidden\", // Oculta a barra de rolagem horizontal\n    ...theme.scrollbarStyles,\n    borderRadius: \"8px\",\n    border: \"2px solid transparent\",\n    \"&::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n    \"-ms-overflow-style\": \"none\",\n    \"scrollbar-width\": \"none\",\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"100%\",\n    height: \"45px\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"100%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo,\n    content: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\"\n  },\n  hideLogo: {\n    display: \"none\",\n  },\n  avatar2: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n    cursor: \"pointer\",\n    borderRadius: \"50%\",\n    border: \"2px solid #ccc\",\n  },\n  updateDiv: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    backgroundColor: \"#44b700\",\n    color: \"#44b700\",\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    \"&::after\": {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      borderRadius: \"50%\",\n      animation: \"$ripple 1.2s infinite ease-in-out\",\n      border: \"1px solid currentColor\",\n      content: '\"\"',\n    },\n  },\n  \"@keyframes ripple\": {\n    \"0%\": {\n      transform: \"scale(.8)\",\n      opacity: 1,\n    },\n    \"100%\": {\n      transform: \"scale(2.4)\",\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst SmallAvatar = withStyles((theme) => ({\n  root: {\n    width: 22,\n    height: 22,\n    border: `2px solid ${theme.palette.background.paper}`,\n  },\n}))(Avatar);\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userToken, setUserToken] = useState(\"disabled\");\n  const [loadingUserToken, setLoadingUserToken] = useState(false);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n  const [profileUrl, setProfileUrl] = useState(null);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const mainListItems = useMemo(\n    () => <MainListItems drawerOpen={drawerOpen} collapsed={!drawerOpen} />,\n    [user, drawerOpen]\n  );\n\n  const settings = useSettings();\n\n  useEffect(() => {\n    const getSetting = async () => {\n      const response = await settings.get(\"wtV\");\n\n\n      if (response) {\n\n        setUserToken(\"disabled\");\n\n      } else {\n        setUserToken(\"disabled\");\n      }\n    };\n\n    getSetting();\n  });\n\n  \n\n  useEffect(() => {\n    // if (localStorage.getItem(\"public-token\") === null) {\n    //   handleLogout()\n    // }\n\n    if (document.body.offsetWidth > 600) {\n      if (user.defaultMenu === \"closed\") {\n        setDrawerOpen(false);\n      } else {\n        setDrawerOpen(true);\n      }\n    }\n    if (user.defaultTheme === \"dark\" && theme.mode === \"light\") {\n      colorMode.toggleColorMode();\n    }\n  }, [user.defaultMenu, document.body.offsetWidth]);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n\n    const companyId = user.companyId;\n    const userId = user.id;\n    if (companyId) {\n      //    const socket = socketManager.GetSocket();\n\n      const ImageUrl = user.profileImage;\n      if (ImageUrl !== undefined && ImageUrl !== null)\n        setProfileUrl(\n          `${backendUrl}/public/company${companyId}/user/${ImageUrl}`\n        );\n      else setProfileUrl(`${process.env.FRONTEND_URL}/nopicture.png`);\n\n      const onCompanyAuthLayout = (data) => {\n        if (data.user.id === +userId) {\n          toastError(\"Sua conta foi acessada em outro computador.\");\n          setTimeout(() => {\n            localStorage.clear();\n            window.location.reload();\n          }, 1000);\n        }\n      }\n\n      socket.on(`company-${companyId}-auth`, onCompanyAuthLayout);\n\n      socket.emit(\"userStatus\");\n      const interval = setInterval(() => {\n        socket.emit(\"userStatus\");\n      }, 1000 * 60 * 5);\n\n      return () => {\n        socket.off(`company-${companyId}-auth`, onCompanyAuthLayout);\n        clearInterval(interval);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [socket]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600 || user.defaultMenu === \"closed\") {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  };\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img className={drawerOpen ? classes.logo : classes.hideLogo}\n            style={{\n              display: \"block\",\n              margin: \"0 auto\",\n              height: \"50px\",\n              width: \"100%\",\n            }}\n            alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <List className={classes.containerWithScroll}>\n          {/* {mainListItems} */}\n          <MainListItems collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            style={{ color: \"white\" }}\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(drawerOpen && classes.menuButtonHidden)}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm &&\n              user?.profile === \"admin\" &&\n              user?.company?.dueDate ? (\n              <>\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\n                <b>{user?.company?.name}</b>! (\n                {i18n.t(\"mainDrawer.appBar.user.active\")}{\" \"}\n                {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\n                <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          {userToken === \"enabled\" && user?.companyId === 1 && (\n            <Chip\n              className={classes.chip}\n              label={i18n.t(\"mainDrawer.appBar.user.token\")}\n            />\n          )}\n          <VersionControl />\n\n          {/* DESABILITADO POIS TEM BUGS */}\n          {/* <UserLanguageSelector /> */}\n          {/* <SoftPhone\n            callVolume={33} //Set Default callVolume\n            ringVolume={44} //Set Default ringVolume\n            connectOnStart={false} //Auto connect to sip\n            notifications={false} //Show Browser Notification of an incoming call\n            config={config} //Voip config\n            setConnectOnStartToLocalStorage={setConnectOnStartToLocalStorage} // Callback function\n            setNotifications={setNotifications} // Callback function\n            setCallVolume={setCallVolume} // Callback function\n            setRingVolume={setRingVolume} // Callback function\n            timelocale={'UTC-3'} //Set time local for call history\n          /> */}\n          <IconButton edge=\"start\" onClick={colorMode.toggleColorMode}>\n            {theme.mode === \"dark\" ? (\n              <Brightness7Icon style={{ color: \"white\" }} />\n            ) : (\n              <Brightness4Icon style={{ color: \"white\" }} />\n            )}\n          </IconButton>\n\n          <NotificationsVolume setVolume={setVolume} volume={volume} />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {/* <DarkMode themeToggle={themeToggle} /> */}\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <StyledBadge\n              overlap=\"circular\"\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              variant=\"dot\"\n              onClick={handleMenu}\n            >\n              <Avatar\n                alt=\"Multi100\"\n                className={classes.avatar2}\n                src={profileUrl}\n              />\n            </StyledBadge>\n\n            <UserModal\n              open={userModalOpen}\n              onClose={() => setUserModalOpen(false)}\n              onImageUpdate={(newProfileUrl) => setProfileUrl(newProfileUrl)}\n              userId={user?.id}\n            />\n\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    on: {\n        color: green[600],\n        fontSize: '20px'\n    },\n    off: {\n        color: grey[600],\n        fontSize: '20px'\n    },\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n    const classes = useStyles();\n\n    function renderList() {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                {/* <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell> */}\n                <TableCell align=\"center\">{a.rating}</TableCell>\n                <TableCell align=\"center\">{a.countRating}</TableCell>\n                <TableCell align=\"center\">{a.tickets}</TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgWaitTime, 2)}</TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    {a.online ?\n                        <Tooltip title=\"Online\">\n                            <CheckCircleIcon className={classes.on} />\n                        </Tooltip>\n                        :\n                        <Tooltip title=\"Offline\">\n                            <ErrorIcon className={classes.off} />\n                        </Tooltip>\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n    function formatTime(minutes) {\n        return moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n    }\n\n    return (!loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>{i18n.t(\"dashboard.users.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.score\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.ratedCalls\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.totalCalls\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageWaitingTime\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageServiceTime\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.status\")}</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {renderList()}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const getReport = async (params) => {\n        const { data } = await api.request({\n            url: `/ticketreport/reports`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find,\n        getReport\n    }\n}\n\nexport default useDashboard;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchMessages = async () => {\n                try {\n                    const { data } = await api.get(\"/messages-allMe\", {\n                        params: {\n                            fromMe,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setCount(data.count[0].count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchMessages();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [dateStart, dateEnd]);\n\n    return { count };\n};\n\nexport default useMessages;\n","import React, { useEffect, useState, useContext } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport './button.css';\nimport { i18n } from '../../translate/i18n';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.padding,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(2),\n    }\n}));\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n    ChartDataLabels\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Tickets',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChatsUser = () => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [] });\n    const { user } = useContext(AuthContext);\n\n    const companyId = user.companyId;\n\n    useEffect(() => {\n        if (companyId) {\n            handleGetTicketsInformation();\n        }\n    }, [companyId]);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\n        datasets: [\n            {\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.quantidade\n                }),\n                backgroundColor: theme.palette.primary.main,\n            },\n\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao buscar informaes dos tickets');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                {i18n.t(\"dashboard.users.totalCallsUser\")}\n            </Typography>\n\n            <Grid container spacing={2}>\n                <Grid item>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                        <DatePicker\n                            value={initialDate}\n                            onChange={(newValue) => { setInitialDate(newValue) }}\n                            label={i18n.t(\"dashboard.date.initialDate\")}\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                <Grid item>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                        <DatePicker\n                            value={finalDate}\n                            onChange={(newValue) => { setFinalDate(newValue) }}\n                            label={i18n.t(\"dashboard.date.finalDate\")}\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                <Grid item>\n                    <Button style={{ backgroundColor: theme.palette.primary.main, top: '10px' }} onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\n                </Grid>\n            </Grid>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React from 'react';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Customized } from 'recharts';\n\n\nconst DonutChart = (props) => {\n  const {title, value, data , color} = props;\n  \n  const data1 = JSON.parse(`[${String(data).replace(/'/g, '\"')}]`);\n  \n  const COLORS = [color].length === 1 ? color : [JSON.stringify(color)];\n  \n  const renderCustomLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n    const RADIAN = Math.PI / 120;\n    const radius = -100 + innerRadius + (outerRadius - innerRadius);\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\n  \n    return (\n      <text x={x} y={y} fill=\"#000\" textAnchor='middle'  dominantBaseline=\"middle\" fontWeight=\"bold\">\n        <tspan fontWeight=\"bold\">{`${title}`}</tspan> \n        <tspan x={x +1} y={y} dy=\"1.2em\" fontWeight=\"bold\">{`${value}%`}</tspan>\n      </text>\n    );\n  };\n\n  return (\n    <div>\n       <ResponsiveContainer width={300} height={300}>\n        <PieChart>\n          <Pie\n            data={data1}\n            dataKey=\"value\"\n            nameKey=\"name\"\n            cx=\"50%\"\n            cy=\"50%\"\n            outerRadius={100}\n            innerRadius={50}\n            labelLine={false}\n            strokeWidth={0}\n            label={renderCustomLabel}\n          >\n            {data1.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n            ))}            \n          </Pie>          \n        </PieChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\nexport default DonutChart;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React from \"react\"; // { useContext }\n// import { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport {\n    Button,\n    // FormControl,\n    Grid,\n    // InputLabel,\n    // MenuItem,\n    Paper,\n    // Select,\n    TextField,\n} from \"@material-ui/core\";\n\nimport Title from \"./Title\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst Filters = ({\n    classes,\n    setDateStartTicket,\n    setDateEndTicket,\n    dateStartTicket,\n    dateEndTicket,\n    setQueueTicket,\n    queueTicket,\n    fetchData\n}) => {\n    // const { user } = useContext(AuthContext);\n\n    const [\n        queues,\n        // setQueues\n    ] = React.useState(queueTicket);\n    const [dateStart, setDateStart] = React.useState(dateStartTicket);\n    const [dateEnd, setDateEnd] = React.useState(dateEndTicket);\n    const [fetchDataFilter, setFetchDataFilter] = React.useState(false)\n\n    return (\n        <Grid item xs={12}>\n            <Paper className={classes.customFixedHeightPaperLg} elevation={6}>\n                <Title>Filtros</Title>\n                <Grid container spacing={3}>\n                    {/* <Grid item xs={12} sm={6} md={3}>\n                        <FormControl fullWidth>\n                            <InputLabel id=\"queue-label\">\n                                Departamentos\n                            </InputLabel>\n                            <Select\n                                labelId=\"queue-label\"\n                                id=\"queue-select\"\n                                defaultValue={queueTicket}\n                                label=\"Departamentos\"\n                                onChange={(e) => setQueues(e.target.value)}\n                            >\n                                <MenuItem value={false}>\n                                    Todos os Departamentos\n                                </MenuItem>\n                                {user.queues.map((queue) => (\n                                    <MenuItem key={queue.id} value={queue.id}>\n                                        {queue.name}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </Grid> */}\n\n                    <Grid item xs={12} sm={6} md={5}>\n                        <TextField\n                            fullWidth\n                            name=\"dateStart\"\n                            label={i18n.t(\"dashboard.date.initialDate\")}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            type=\"date\"\n                            defaultValue={dateStart}\n                            onChange={(e) => setDateStart(e.target.value)}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={5}>\n                        <TextField\n                            fullWidth\n                            name=\"dateEnd\"\n                            label={i18n.t(\"dashboard.date.finalDate\")}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            type=\"date\"\n                            defaultValue={dateEnd}\n                            onChange={(e) => setDateEnd(e.target.value)}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={2}>\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => {\n                                setQueueTicket(queues);\n                                setDateStartTicket(dateStart);\n                                setDateEndTicket(dateEnd);\n                                setFetchDataFilter(!fetchDataFilter)\n                                fetchData(!fetchDataFilter);\n                            }}\n                        >\n                            Filtrar\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </Grid>\n    );\n};\n\nexport default Filters;\n","import React, { useEffect, useState, useContext } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport './button.css';\nimport { i18n } from '../../translate/i18n';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  useTheme } from '@material-ui/core';\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Tickets',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChartsDate = () => {\n    const theme = useTheme();\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\n    const { user } = useContext(AuthContext);\n\n    const companyId = user.companyId;\n\n    useEffect(() => {\n        if (companyId) {\n            handleGetTicketsInformation();\n        }\n    }, [companyId]);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\n        datasets: [\n            {\n                // label: 'Dataset 1',\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.total\n                }),\n                backgroundColor: theme.palette.primary.main,\n            },\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao buscar informaes dos tickets');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                {i18n.t(\"dashboard.users.totalAttendances\")} ({ticketsData?.count})\n            </Typography>\n\n            <Grid container spacing={2}>\n                <Grid item>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                        <DatePicker\n                            value={initialDate}\n                            onChange={(newValue) => { setInitialDate(newValue) }}\n                            label={i18n.t(\"dashboard.date.initialDate\")}\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                <Grid item>\n                    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                        <DatePicker\n                            value={finalDate}\n                            onChange={(newValue) => { setFinalDate(newValue) }}\n                            label={i18n.t(\"dashboard.date.finalDate\")}\n                            renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                        />\n                    </LocalizationProvider>\n                </Grid>\n                <Grid item>\n                    <Button style={{ backgroundColor: theme.palette.primary.main, top: '10px' }} onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\n                </Grid>\n            </Grid>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React from 'react';\nimport { Container, Typography, Button, Box } from '@material-ui/core';\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    textAlign: 'center',\n    marginTop: theme.spacing(8),    \n    flex: 1,\n  },\n  title: {\n    marginBottom: theme.spacing(4),\n  },\n  button: {\n    marginTop: theme.spacing(2),\n    color: '#fff !important',\n    boxShadow: 'none',\n    borderRadius: 20\n  },\n  boxContainer: {\n    background: theme.palette.tabHeaderBackground, \n    borderRadius: 20,\n    display: 'flex',\n    padding: 20,\n    display: 'flex',\n    alignItems: 'center',\n    width: '80%',\n    justifyContent: 'center',\n    margin: 'auto',\n  }\n}));\n\nconst ForbiddenPage = () => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.container}>\n      <Box className={classes.boxContainer}>\n        <Box>\n          <Typography variant=\"h1\" className={classes.title} color=\"error\">\n            403\n          </Typography>\n          <Typography variant=\"h5\" color=\"textSecondary\">\n            Oops! Acesso Negado!\n          </Typography>\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            href=\"/tickets\"\n          >\n            Voltar\n          </Button>\n        </Box>\n      </Box>\n    </Container>\n  );\n};\n\nexport default ForbiddenPage;\n","import React, { useContext, useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\n// import {  Button, Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@mui/material\";\nimport { Groups, SaveAlt } from \"@mui/icons-material\";\n\nimport CallIcon from \"@material-ui/icons/Call\";\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from '@material-ui/icons/Send';\nimport MessageIcon from '@material-ui/icons/Message';\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport * as XLSX from 'xlsx';\n\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport TabPanel from \"../../components/TabPanel\"\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useContacts from \"../../hooks/useContacts\";\nimport useMessages from \"../../hooks/useMessages\";\nimport { ChatsUser } from \"./ChartsUser\";\nimport ChartDonut from \"./ChartDonut\";\n\nimport Filters from \"./Filters\";\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\nimport { ChartsDate } from \"./ChartsDate\";\nimport { Avatar, Button, Card, CardContent, Container, Stack, SvgIcon, Tab, Tabs } from \"@mui/material\";\nimport { i18n } from \"../../translate/i18n\";\nimport Grid2 from \"@mui/material/Unstable_Grid2/Grid2\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { ArrowDownward, ArrowUpward } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  overline: {\n    fontSize: '0.9rem',\n    fontWeight: 700,\n    color: \"grey\",\n    letterSpacing: '0.5px',\n    lineHeight: 2.5,\n    textTransform: 'uppercase',\n    fontFamily: \"'Plus Jakarta Sans', sans-serif'\",\n  },\n  h4: {\n    fontFamily: \"'Plus Jakarta Sans', sans-serif'\",\n    fontWeight: 500,\n    fontSize: '2rem',\n    lineHeight: 1,\n    color: \"grey\",\n  },\n  tab: {\n    minWidth: \"auto\",\n    width: \"auto\",\n    padding: theme.spacing(0.5, 1),\n    borderRadius: 8,\n    transition: \"0.3s\",\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    marginRight: theme.spacing(0.5),\n    marginLeft: theme.spacing(0.5),\n\n    [theme.breakpoints.down(\"lg\")]: {\n      fontSize: \"0.9rem\",\n      padding: theme.spacing(0.4, 0.8),\n      marginRight: theme.spacing(0.4),\n      marginLeft: theme.spacing(0.4),\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"0.8rem\",\n      padding: theme.spacing(0.3, 0.6),\n      marginRight: theme.spacing(0.3),\n      marginLeft: theme.spacing(0.3),\n    },\n    \"&:hover\": {\n      backgroundColor: \"rgba(6, 81, 131, 0.3)\",\n    },\n    \"&$selected\": {\n      color: \"#FFF\",\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  tabIndicator: {\n    borderWidth: \"2px\",\n    borderStyle: \"solid\",\n    height: 6,\n    bottom: 0,\n    color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n  },\n  container: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.padding,\n    maxWidth: \"1150px\",\n    minWidth: \"xs\",\n  },\n  nps: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.padding,\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  iframeDashboard: {\n    width: \"100%\",\n    height: \"calc(100vh - 64px)\",\n    border: \"none\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  customFixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 120,\n  },\n  customFixedHeightPaperLg: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },\n  fixedHeightPaper2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst Dashboard = () => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [filterType, setFilterType] = useState(1);\n  const [period, setPeriod] = useState(0);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n\n  //FILTROS NPS\n  const [tab, setTab] = useState(\"Indicadores\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [selectedQueues, setSelectedQueues] = useState([]);\n\n\n\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n  let nowIni = `${year}-${month < 10 ? `0${month}` : `${month}`}-01`;\n\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\n\n  const [showFilter, setShowFilter] = useState(false);\n  const [dateStartTicket, setDateStartTicket] = useState(nowIni);\n  const [dateEndTicket, setDateEndTicket] = useState(now);\n  const [queueTicket, setQueueTicket] = useState(false);\n  const [fetchDataFilter, setFetchDataFilter] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n\n  const exportarGridParaExcel = () => {\n    const ws = XLSX.utils.table_to_sheet(document.getElementById('grid-attendants'));\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendentes');\n    XLSX.writeFile(wb, 'relatorio-de-atendentes.xlsx');\n  };\n\n  var userQueueIds = [];\n\n  if (user.queues && user.queues.length > 0) {\n    userQueueIds = user.queues.map((q) => q.id);\n  }\n\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchDataFilter]);\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateStartTicket) && moment(dateStartTicket).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateStartTicket).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateEndTicket) && moment(dateEndTicket).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateEndTicket).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  const GetUsers = () => {\n    let count;\n    let userOnline = 0;\n    attendants.forEach(user => {\n      if (user.online === true) {\n        userOnline = userOnline + 1\n      }\n    })\n    count = userOnline === 0 ? 0 : userOnline;\n    return count;\n  };\n\n  const GetContacts = (all) => {\n    let props = {};\n    if (all) {\n      props = {};\n    } else {\n      props = {\n        dateStart: dateStartTicket,\n        dateEnd: dateEndTicket,\n      };\n    }\n    const { count } = useContacts(props);\n    return count;\n  };\n\n  const GetMessages = (all, fromMe) => {\n    let props = {};\n    if (all) {\n      if (fromMe) {\n        props = {\n          fromMe: true\n        };\n      } else {\n        props = {\n          fromMe: false\n        };\n      }\n    } else {\n      if (fromMe) {\n        props = {\n          fromMe: true,\n          dateStart: dateStartTicket,\n          dateEnd: dateEndTicket,\n        };\n      } else {\n        props = {\n          fromMe: false,\n          dateStart: dateStartTicket,\n          dateEnd: dateEndTicket,\n        };\n      }\n    }\n    const { count } = useMessages(props);\n    return count;\n  };\n\n  function toggleShowFilter() {\n    setShowFilter(!showFilter);\n  }\n\n  return (\n    <>\n      {\n        user.profile === \"user\" && user.showDashboard === \"disabled\" ?\n          <ForbiddenPage />\n          :\n          <>\n            <div>\n              <Container maxWidth=\"lg\" className={classes.container}>\n                <Grid2 container spacing={3} className={classes.container}>\n\n                  {/* FILTROS */}\n                  <Grid2 xs={12}>\n                    <Button\n                      onClick={toggleShowFilter}\n                      style={{ float: \"right\" }}\n                      color=\"primary\"\n                    >\n                      {!showFilter ? (\n                        <FilterListIcon />\n                      ) : (\n                        <ClearIcon />\n                      )}\n                    </Button>\n                  </Grid2>\n\n                  {showFilter && (\n                    <Filters\n                      classes={classes}\n                      setDateStartTicket={setDateStartTicket}\n                      setDateEndTicket={setDateEndTicket}\n                      dateStartTicket={dateStartTicket}\n                      dateEndTicket={dateEndTicket}\n                      setQueueTicket={setQueueTicket}\n                      queueTicket={queueTicket}\n                      fetchData={setFetchDataFilter}\n                    />\n                  )}\n\n                  <Grid2 container width=\"100%\" justifyContent=\"center\">\n                    <Tabs\n                      value={tab}\n                      onChange={handleChangeTab}\n                      variant=\"fullWidth\"\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      aria-label=\"icon label tabs example\"\n                      classes={{ indicator: classes.tabIndicator }}\n                      sx={{\n                        borderRadius: \"5px\",\n                        borderColor: \"#aaa\",\n                        borderWidth: \"1px\",\n                        borderStyle: \"solid\",\n                        fontFamily: '\"Plus Jakarta Sans\", sans-serif',\n                      }}\n                    >\n                      <Tab classes={{ root: classes.tab }}\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\n                        value=\"Indicadores\"\n                        label={i18n.t(\"dashboard.tabs.indicators\")}\n                      />\n                      <Tab classes={{ root: classes.tab }}\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\n                        value=\"NPS\"\n                        label={i18n.t(\"dashboard.tabs.assessments\")}\n                      />\n                      <Tab classes={{ root: classes.tab }}\n                        style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\" }}\n                        value=\"Atendentes\"\n                        label={i18n.t(\"dashboard.tabs.attendants\")}\n                      />\n                    </Tabs>\n                  </Grid2>\n                  <TabPanel\n                    className={classes.container}\n                    value={tab}\n                    name={\"Indicadores\"}\n                  >\n                    <Container maxWidth=\"xl\" >\n                      <Grid2\n                        container\n                        spacing={3}\n                      >\n                        {/* EM ATENDIMENTO */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.inAttendance\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\" className={classes.h4}>\n                                    {counters.supportHappening}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#0b708c',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <CallIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* AGUARDANDO */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.waiting\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {counters.supportPending}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#47606e',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <HourglassEmptyIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* FINALIZADOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.finalized\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {counters.supportFinished}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#5852ab',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <CheckCircleIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* GRUPOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.groups\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n\n                                    className={classes.h4}\n                                  >\n                                    {counters.supportGroups}\n                                  </Typography>\n                                </Stack>\n\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#01BBAC',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <Groups />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* ATENDENTES ATIVOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.activeAttendants\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {GetUsers()}/{attendants.length}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#805753',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <RecordVoiceOverIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* NOVOS CONTATOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.newContacts\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {counters.leads}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#8c6b19',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <GroupAddIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* MINHAS MENSAGEM RECEBIDAS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.totalReceivedMessages\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {GetMessages(false, false)}/{GetMessages(true, false)}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#333133',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <MessageIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* MINHAS MENSAGEM ENVIADAS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.totalSentMessages\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {GetMessages(false, true)}/{GetMessages(true, true)}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#558a59',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <SendIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* T.M. DE ATENDIMENTO */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.averageServiceTime\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {formatTime(counters.avgSupportTime)}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#F79009',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <AccessAlarmIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* T.M. DE ESPERA */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.averageWaitingTime\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {formatTime(counters.avgWaitTime)}\n                                  </Typography>\n                                </Stack>\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#8a2c40',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <TimerIcon />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* TICKETS ATIVOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.activeTickets\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n                                    className={classes.h4}\n                                  >\n                                    {counters.activeTickets}\n                                  </Typography>\n                                </Stack>\n\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#EE4512',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <ArrowUpward />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n\n                        {/* TICKETS PASSIVOS */}\n                        <Grid2 xs={12}\n                          sm={6}\n                          lg={4}\n                        >\n                          <Card sx={{\n                            height: \"100%\",\n                            backgroundColor:\n                              theme.mode === \"light\"\n                                ? \"transparent\"\n                                : \"rgba(170, 170, 170, 0.2)\",\n                          }}>\n                            <CardContent>\n                              <Stack\n                                alignItems=\"flex-start\"\n                                direction=\"row\"\n                                justifyContent=\"space-between\"\n                                spacing={3}\n                              >\n                                <Stack spacing={1}>\n                                  <Typography\n                                    color=\"primary\"\n                                    variant=\"overline\"\n                                    className={classes.overline}\n                                  >\n                                    {i18n.t(\"dashboard.cards.passiveTickets\")}\n                                  </Typography>\n                                  <Typography variant=\"h4\"\n\n                                    className={classes.h4}\n                                  >\n                                    {counters.passiveTickets}\n                                  </Typography>\n                                </Stack>\n\n\n                                <Avatar\n                                  sx={{\n                                    backgroundColor: '#28C037',\n                                    height: 60,\n                                    width: 60\n                                  }}\n                                >\n                                  <SvgIcon>\n                                    <ArrowDownward />\n                                  </SvgIcon>\n                                </Avatar>\n                              </Stack>\n                            </CardContent>\n                          </Card>\n                        </Grid2>\n                      </Grid2>\n                    </Container>\n                  </TabPanel>\n\n                  <TabPanel\n                    className={classes.container}\n                    value={tab}\n                    name={\"NPS\"}\n                  >\n                    <Grid2 className={classes.container}>\n                      <Grid2 container width=\"100%\" spacing={2}>\n\n                        <Grid2 xs={12} sm={6} md={3}>\n                          <Paper elevation={3} >\n                            <ChartDonut\n                              data={[`{'name': 'Promotores', 'value': ${counters.npsPromotersPerc | 100}}`,\n                              `{'name': 'Detratores', 'value': ${counters.npsDetractorsPerc | 0}}`,\n                              `{'name': 'Neutros', 'value': ${counters.npsPassivePerc | 0}}`\n                              ]}\n                              value={counters.npsScore | 0}\n                              title=\"Score\"\n                              color={(parseInt(counters.npsPromotersPerc | 0) + parseInt(counters.npsDetractorsPerc | 0) + parseInt(counters.npsPassivePerc | 0)) === 0 ? [\"#918F94\"] : [\"#2EA85A\", \"#F73A2C\", \"#F7EC2C\"]}\n                            />\n                          </Paper>\n                        </Grid2>\n\n                        <Grid2 xs={12} sm={6} md={3}>\n                          <Paper elevation={3}>\n                            <ChartDonut\n                              title={i18n.t(\"dashboard.assessments.prosecutors\")}\n                              value={counters.npsPromotersPerc | 0}\n                              data={[`{'name': 'Promotores', 'value': 100}`]}\n                              color={[\"#2EA85A\"]}\n                            />\n                          </Paper>\n                        </Grid2>\n\n                        <Grid2 xs={12} sm={6} md={3}>\n                          <Paper elevation={3} >\n                            <ChartDonut\n                              data={[`{'name': 'Neutros', 'value': 100}`]}\n                              title={i18n.t(\"dashboard.assessments.neutral\")}\n                              value={counters.npsPassivePerc | 0}\n                              color={[\"#F7EC2C\"]}\n                            />\n                          </Paper>\n                        </Grid2>\n\n                        <Grid2 xs={12} sm={6} md={3}>\n                          <Paper elevation={3}>\n                            <ChartDonut\n                              data={[`{'name': 'Detratores', 'value': 100}`]}\n                              title={i18n.t(\"dashboard.assessments.detractors\")}\n                              value={counters.npsDetractorsPerc | 0}\n                              color={[\"#F73A2C\"]}\n                            />\n                          </Paper>\n                        </Grid2>\n\n                        <Grid2 xs={12} sm={6} md={12}>\n                          <Paper elevation={3}>\n                            <Typography\n                              component=\"h3\"\n                              variant=\"h6\"\n                              paragraph\n                              style={{ marginLeft: \"10px\" }}\n                            >\n                              {i18n.t(\"dashboard.assessments.totalCalls\")}: {counters.tickets} <br></br>\n                              {i18n.t(\"dashboard.assessments.callsWaitRating\")}: {counters.waitRating} <br></br>\n                              {i18n.t(\"dashboard.assessments.callsWithoutRating\")}: {counters.withoutRating} <br></br>\n                              {i18n.t(\"dashboard.assessments.ratedCalls\")}: {counters.withRating} <br></br>\n                              {i18n.t(\"dashboard.assessments.evaluationIndex\")}: {Number(counters.percRating / 100).toLocaleString(undefined, { style: 'percent' })} <br></br>\n                            </Typography>\n                          </Paper>\n                        </Grid2>\n\n                      </Grid2>\n                    </Grid2>\n\n                  </TabPanel>\n\n                  <TabPanel\n                    className={classes.container}\n                    value={tab}\n                    name={\"Atendentes\"}\n                  >\n                    <Container width=\"100%\" className={classes.container}>\n\n                      <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\n                        <SaveAlt />\n                      </IconButton>\n\n                      <Grid2 container width=\"100%\">\n                        {/* CARD DE GRAFICO */}\n                        {/* <Grid2 item xs={12}>\n                  <Paper\n                    elevation={6}\n                    className={classes.fixedHeightPaper}\n                  >\n                    <Chart\n                      dateStartTicket={dateStartTicket}\n                      dateEndTicket={dateEndTicket}\n                      queueTicket={queueTicket}\n                    />\n                  </Paper>\n                </Grid2>  */}\n\n                        {/* INFO DOS USUARIOS */}\n                        <Grid2 xs={12} id=\"grid-attendants\">\n                          {attendants.length ? (\n                            <TableAttendantsStatus\n                              attendants={attendants}\n                              loading={loading}\n                            />\n                          ) : null}\n                        </Grid2>\n\n                        {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\n                        <Grid2 xs={12} id=\"grid-attendants\">\n                          <Paper className={classes.fixedHeightPaper2}>\n                            <ChatsUser />\n                          </Paper>\n                        </Grid2>\n\n                        {/* TOTAL DE ATENDIMENTOS */}\n                        <Grid2 xs={12} id=\"grid-attendants\">\n                          <Paper className={classes.fixedHeightPaper2}>\n                            <ChartsDate />\n                          </Paper>\n                        </Grid2>\n                      </Grid2>\n                    </Container>\n                  </TabPanel>\n                </Grid2>\n              </Container >\n            </div >\n          </>\n      }\n    </>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ contact }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(contact.tags)) {\n                    setSelecteds(contact.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [contact]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`, \n            {params: { kanban: 0}\n        });\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (item.length < 3) {\n                        toastError(\"Tag muito curta!\");\n                        return;\n                    }\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item, kanban: 0, color: getRandomHexColor() })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ contactId: contact.id, tags: optionsChanged });\n    }\n\n    function getRandomHexColor() {\n        // Gerar valores aleatrios para os componentes de cor\n        const red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n        const green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n        const blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n      \n        // Converter os componentes de cor em uma cor hexadecimal\n        const hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\n      \n        return hexColor;\n    }\n\n    return (\n        <Paper style={{ padding: 2 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                backgroundColor: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                padding: 1,\n                                fontWeight: 'bold',\n                                paddingLeft: 5,\n                                paddingRight: 5,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper\n                        style={{ width: 400, marginLeft: 6 }}\n                    >\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useRef } from \"react\";\nimport { parseISO, format } from \"date-fns\";\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { TagsContainer } from \"../TagsContainer\";\n// import AsyncSelect from \"../AsyncSelect\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(250, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t\tdisableBot: false,\n\t\tlgpdAcceptedAt: \"\"\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\tconst [disableBot, setDisableBot] = useState(false);\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t\tsetDisableBot(data.disableBot)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, { ...values, disableBot: disableBot });\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", { ...values, disableBot: disableBot });\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<TagsContainer contact={contact} className={classes.textField} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tchecked={disableBot}\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetDisableBot(!disableBot)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tname=\"disableBot\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.chatBotContact\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.termsLGDP\")} {contact?.lgpdAcceptedAt ? format(new Date(contact?.lgpdAcceptedAt), \"dd/MM/yyyy 's' HH:mm\") : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t{/* <Typography variant=\"subtitle1\" gutterBottom>{i18n.t(\"contactModal.form.customer_portfolio\")}</Typography> */}\n\t\t\t\t\t\t\t\t{/* <div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/users\" dictKey={\"users\"}\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.user} width=\"100%\" label={i18n.t(\"contactModal.form.attendant\")}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"userId\", value ? value.id : null)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/queue\" dictKey={null}\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.queue} width=\"100%\" label={i18n.t(\"contactModal.form.queue\")}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"queueId\", value ? value.id : null)} />\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\nimport { i18n } from '../../translate/i18n';\n\nconst ShowTicketOpen = ({ isOpen, handleClose, user, queue }) => {\n  return (\n    <Dialog open={isOpen} onClose={handleClose}>\n      <DialogTitle>{i18n.t(\"showTicketOpenModal.title.header\")}</DialogTitle>\n      <DialogContent>\n        {user !== undefined && queue !== undefined && (\n          <DialogContentText>\n            {i18n.t(\"showTicketOpenModal.form.message\")} <br></br>\n            { `${i18n.t(\"showTicketOpenModal.form.user\")}: ${user}`}<br></br>\n            {`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`}<br></br>\n          </DialogContentText>\n        )}\n        {!user && (\n          <DialogContentText>\n            {i18n.t(\"showTicketOpenModal.form.messageWait\")} <br></br>\n            {queue && (`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`)}<br></br>\n          </DialogContentText>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog >\n  );\n};\n\nexport default ShowTicketOpen;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n  const [channelFilter, setChannelFilter] = useState(null);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  const [openAlert, setOpenAlert] = useState(false);\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n  useEffect(() => {\n    if (initialContact?.id !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          // .get(`/whatsapp/filter`, { params: { companyId, session: 0, channel: channelFilter } })\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n\n          // .then(({ data }) => {\n          //   const mappedWhatsapps = data.map((whatsapp) => ({\n          //     ...whatsapp,\n          //     selected: false,\n          //   }));\n          //   setWhatsapps(mappedWhatsapps);\n          //   if (channelFilter && mappedWhatsapps.length && mappedWhatsapps?.length === 1 && (user.whatsappId === null || user?.whatsapp?.channel !== channelFilter)) {\n          //     setSelectedWhatsapp(mappedWhatsapps[0].id)\n          //   }\n          // });\n      };\n\n      if (whatsappId !== null && whatsappId !== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [selectedContact, channelFilter])\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const IconChannel = (channel) => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n      case \"instagram\":\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n      case \"whatsapp\":\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n      default:\n        return \"error\";\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setLoading(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    // if (selectedQueue === \"\" && user.profile !== 'admin') {\n    if (selectedQueue === \"\") {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        whatsappId,\n        userId: user.id,\n        status: \"open\",\n      });\n\n      onClose(ticket);\n    } catch (err) {\n\n      const ticket = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket?.user?.name);\n        setQueueTicketOpen(ticket?.queue?.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n        setLoading(false);\n        onClose(ticket);\n      }\n    }\n    setLoading(false);\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);\n  };\n\n  const handleAddNewContactTicket = contact => {\n    setSelectedContact(contact);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        {IconChannel(option.channel)}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => {                     \n              setChannelFilter(newValue ? newValue.channel : \"whatsapp\");\n              handleSelectOption(e, newValue)\n            }}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSaveTicket(selectedContact.id);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    }\n    return null;\n  }\n\n  return (\n    <>\n\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"newTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n            {/* FILA */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedQueue}\n                onChange={(e) => {\n                  setSelectedQueue(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedQueue === \"\") {\n                    return \"Selecione uma fila\"\n                  }\n                  const queue = user.queues.find(q => q.id === selectedQueue)\n                  return queue.name\n                }}\n              >\n                {user.queues?.length > 0 &&\n                  user.queues.map((queue, key) => (\n                    <MenuItem dense key={key} value={queue.id}>\n                      <ListItemText primary={queue.name} />\n                    </MenuItem>\n                  ))\n                }\n              </Select>\n            </Grid>\n            {/* CONEXAO */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexo\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp?.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {IconChannel(whatsapp.channel)}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSaveTicket(selectedContact.id)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"newTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n        {contactModalOpen && (\n          <ContactModal\n            open={contactModalOpen}\n            initialValues={newContact}\n            onClose={handleCloseContactModal}\n            onSave={handleAddNewContactTicket}\n          ></ContactModal>\n        )}\n        {openAlert && (\n          <ShowTicketOpen\n            isOpen={openAlert}\n            handleClose={handleCloseAlert}\n            user={userTicketOpen}\n            queue={queueTicketOpen}\n          />\n        )}\n      </Dialog >\n    </>\n  );\n};\nexport default NewTicketModal;","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: '2px' }}>\n           {tag.name.toUpperCase()}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React from \"react\";\n\nimport { grey } from \"@material-ui/core/colors\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\n\nconst ConnectionIcon = ({ connectionType }) => {\n\n    return (\n        <React.Fragment>\n            {connectionType === 'whatsapp' && <WhatsAppIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#25D366\" }} />}\n            {connectionType === 'instagram' && <InstagramIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#e1306c\" }} />}\n            {connectionType === 'facebook' && <FacebookIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#3b5998\" }} />}\n        </React.Fragment>\n    );\n};\n\nexport default ConnectionIcon;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    FormControl,\n    InputLabel,\n    makeStyles,\n    MenuItem,\n    Select\n } from \"@material-ui/core\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { Form, Formik } from \"formik\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\n// const filter = createFilterOptions({\n// \ttrim: true,\n// });\n\nconst useStyles = makeStyles((theme) => ({\n\tautoComplete: { \n\t\twidth: 300,\n\t\t// marginBottom: 20 \n\t},\n\tmaxWidth: {\n\t\twidth: \"100%\",\n\t},\n\tbuttonColorError: {\n\t\tcolor: theme.palette.error.main,\n\t\tborderColor: theme.palette.error.main,\n\t},\n}));\n\nconst AcceptTicketWithouSelectQueue = ({ modalOpen, onClose, ticketId, ticket }) => {\n\tconst history = useHistory();\n\tconst classes = useStyles();\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst [loading, setLoading] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\tconst [ openAlert, setOpenAlert ] = useState(false);\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\tconst { tabOpen, setTabOpen } = useContext(TicketsContext);\n\n\tconst {get:getSetting} = useCompanySettings();\n\nuseEffect(() => {\n\ttry {\n\tif (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n\t} catch (err) {\n\t\tsetLoading(false);\n\t\ttoastError(err);\n\t}\n},[selectedQueue])\n\nconst handleClose = () => {\n\tonClose();\n\tsetSelectedQueue(\"\");\n};\n\nconst handleCloseAlert = () => {\n\tsetOpenAlert(false);\n\tsetLoading(false)\n};\n\nconst handleSendMessage = async (id) => {\n\n\tlet isGreetingMessage = false;\n\n\ttry {\n\t\tconst  setting  = await getSetting({\n\t\t\t\"column\":\"sendGreetingAccepted\"\n\t\t});\n\t\tif (setting.sendGreetingAccepted === \"enabled\") isGreetingMessage = true;\n\t} catch (err) {\n\t\ttoastError(err);\n\t}\n\t\n\tlet settingMessage\n\ttry {\n\t\tsettingMessage = await getSetting({\n\t\t\t\"column\": \"greetingAcceptedMessage\"\n\t\t})\n\t} catch (err) {\n\t\ttoastError(err);\n\t}\n\t\n\t// console.log(ticket)\n\tif (isGreetingMessage && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\") {\n\t\tconst msg = `${settingMessage.greetingAcceptedMessage}`;\n\t\t// const msg = `{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\n\t\tconst message = {\n\t\t\tread: 1,\n\t\t\tfromMe: true,\n\t\t\tmediaUrl: \"\",\n\t\t\tbody: `${msg.trim()}`,\n\t\t};\n\t\ttry {\n\t\t\tawait api.post(`/messages/${id}`, message);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n};\n\nconst handleUpdateTicketStatus = async (queueId) => {\n\tsetLoading(true);\n\ttry {\n\t\tconst otherTicket = await api.put(`/tickets/${ticketId}`, {\n\t\t\tstatus: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\n\t\t\tuserId: user?.id || null,\n\t\t\tqueueId: queueId\n\t\t});\n\n\t\tif (otherTicket.data.id !== ticket.id) {\n\t\t\tif (otherTicket.data.userId !== user?.id) {\n\t\t\t\tsetOpenAlert(true)\n\t\t\t\tsetUserTicketOpen(otherTicket.data.user.name)\n\t\t\t\tsetQueueTicketOpen(otherTicket.data.queue.name)\n\t\t\t} else {\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetTabOpen(otherTicket.isGroup ? \"group\" : \"open\");\n\t\t\t\thistory.push(`/tickets/${otherTicket.data.uuid}`);\n\t\t\t}\n\t\t} else {\n\t\t\thandleSendMessage(ticket.id)\n\t\t\tsetLoading(false);\n\t\t\tsetTabOpen(ticket.isGroup ? \"group\" : \"open\");\n\t\t\thistory.push(`/tickets/${ticket.uuid}`);\n\t\t\thandleClose();\n\t\t}\n\t} catch (err) {\n\t\tsetLoading(false);\n\t\ttoastError(err);\n\t}\n};\n\nreturn (\n\t<>\n\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t{i18n.t(\"ticketsList.acceptModal.title\")}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t<InputLabel>{i18n.t(\"ticketsList.acceptModal.queue\")}</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\tclassName={classes.autoComplete}\n\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\tlabel={i18n.t(\"ticketsList.acceptModal.queue\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t{user.queues.map((queue) => (\n\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\tclassName={classes.buttonColorError}\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={(selectedQueue === \"\")}\n\t\t\t\t\tonClick={() => handleUpdateTicketStatus(selectedQueue)}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tloading={loading}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.start\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t</DialogActions>\n\t\t\t<ShowTicketOpen\n\t\t\t\tisOpen={openAlert}\n\t\t\t\thandleClose={handleCloseAlert}\n\t\t\t\tuser={userTicketOpen}\n\t\t\t\tqueue={queueTicketOpen}\n\t\t\t/>\n\t\t</Dialog>\n\t</>\n);\n};\n\nexport default AcceptTicketWithouSelectQueue;","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React from \"react\";\nimport { Tooltip, makeStyles } from \"@material-ui/core\";\nimport { green, grey } from '@material-ui/core/colors';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles(theme => ({\n    on: {\n        color: green[600],\n        fontSize: '20px'\n    },\n    off: {\n        color: grey[600],\n        fontSize: '20px'\n    }\n}));\n\nconst UserStatusIcon = ({ user }) => {\n    const classes = useStyles();\n    return user.online ?\n        <Tooltip title=\"Online\">\n            <CheckCircleIcon className={classes.on} />\n        </Tooltip>\n        :\n        <Tooltip title=\"Offline\">\n            <ErrorIcon className={classes.off} />\n        </Tooltip>\n}\n\nexport default UserStatusIcon;","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Grid, makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport UserStatusIcon from \"../UserModal/statusIcon\";\nimport { isNil } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid, ticket }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n  const [msgTransfer, setMsgTransfer] = useState('');\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      setSelectedQueue(\"\");\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleMsgTransferChange = (event) => {\n    setMsgTransfer(event.target.value);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    // e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n        data.userId = !selectedUser ? null : selectedUser.id;\n        data.status = !selectedUser ? \"pending\" : ticket.isGroup ? \"group\" : \"open\";\n        data.queueId = selectedQueue;\n        data.msgTransfer = msgTransfer ? msgTransfer : null;\n        data.isTransfered = true;\n\n      await api.put(`/tickets/${ticketid}`, data);\n      setLoading(false);\n      history.push(`/tickets/`);\n      handleClose();\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"md\" fullWidth scroll=\"paper\">\n      {/* <form onSubmit={handleSaveTicket}> */}\n      <DialogTitle id=\"form-dialog-title\">\n        {i18n.t(\"transferTicketModal.title\")}\n      </DialogTitle>\n      <DialogContent dividers>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6} xl={6}>\n            <Autocomplete\n              fullWidth\n              getOptionLabel={(option) => `${option.name}`}\n              onChange={(e, newValue) => {\n                setSelectedUser(newValue);\n                if (newValue != null && Array.isArray(newValue.queues)) {\n                  if (newValue.queues.length === 1) {\n                    setSelectedQueue(newValue.queues[0].id);\n                  }\n                  setQueues(newValue.queues);\n\n                } else {\n                  setQueues(allQueues);\n                  setSelectedQueue(\"\");\n                }\n              }}\n              options={options}\n              filterOptions={filterOptions}\n              freeSolo\n              autoHighlight\n              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n              loading={loading}\n              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                  variant=\"outlined\"\n                  autoFocus\n                  onChange={(e) => setSearchParam(e.target.value)}\n                  InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                      <React.Fragment>\n                        {loading ? (\n                          <CircularProgress color=\"inherit\" size={20} />\n                        ) : null}\n                        {params.InputProps.endAdornment}\n                      </React.Fragment>\n                    ),\n                  }}\n                />\n              )}\n            />\n          </Grid>\n          <Grid xs={12} sm={6} xl={6} item >\n            <FormControl variant=\"outlined\" fullWidth>\n              <InputLabel>\n                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n              </InputLabel>\n              <Select\n                value={selectedQueue}\n                onChange={(e) => setSelectedQueue(e.target.value)}\n                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n              >\n                {queues.map((queue) => (\n                  <MenuItem key={queue.id} value={queue.id}>\n                    {queue.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={12} xl={12} >\n            <TextField\n              label={i18n.t(\"transferTicketModal.msgTransfer\")}\n              value={msgTransfer}\n              onChange={handleMsgTransferChange}\n              variant=\"outlined\"\n              multiline\n              maxRows={5}\n              minRows={5}\n              fullWidth\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          color=\"secondary\"\n          disabled={loading}\n          variant=\"outlined\"\n        >\n          {i18n.t(\"transferTicketModal.buttons.cancel\")}\n        </Button>\n        <ButtonWithSpinner\n          variant=\"contained\"\n          type=\"submit\"\n          color=\"primary\"\n          loading={loading}\n          disabled={selectedQueue === \"\"}\n          onClick={() => handleSaveTicket(selectedQueue)}\n\n        >\n          {i18n.t(\"transferTicketModal.buttons.ok\")}\n        </ButtonWithSpinner>\n      </DialogActions>\n      {/* </form> */}\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React, { useState, useEffect, useRef, useContext, useCallback } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { green, grey } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { List, Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport GroupIcon from '@material-ui/icons/Group';\nimport ContactTag from \"../ContactTag\";\nimport ConnectionIcon from \"../ConnectionIcon\";\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\nimport { isNil } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport { Done, HighlightOff, Replay, SwapHoriz } from \"@material-ui/icons\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { Avatar, Badge, ListItemAvatar, ListItem, ListItemSecondaryAction, ListItemText, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    ticket: {\n        position: \"relative\"\n    },\n\n    pendingTicket: {\n        cursor: \"unset\",\n    },\n    queueTag: {\n        background: \"#FCFCFC\",\n        color: \"#000\",\n        marginRight: 1,\n        padding: 1,\n        fontWeight: 'bold',\n        // paddingLeft: 5,\n        // paddingRight: 5,\n        borderRadius: 3,\n        fontSize: \"0.5em\",\n        whiteSpace: \"nowrap\"\n    },\n    noTicketsDiv: {\n        display: \"flex\",\n        height: \"100px\",\n        margin: 40,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    newMessagesCount: {\n        justifySelf: \"flex-end\",\n        textAlign: \"right\",\n        position: \"relative\",\n        top: 0,\n        color: \"green\",\n        fontWeight: \"bold\",\n        marginRight: \"10px\",\n        borderRadius: 0,\n    },\n    noTicketsText: {\n        textAlign: \"center\",\n        color: \"rgb(104, 121, 146)\",\n        fontSize: \"14px\",\n        lineHeight: \"1.4\",\n    },\n    connectionTag: {\n        background: \"green\",\n        color: \"#FFF\",\n        marginRight: 1,\n        padding: 1,\n        fontWeight: 'bold',\n        // paddingLeft: 5,\n        // paddingRight: 5,\n        borderRadius: 3,\n        fontSize: \"0.6em\",\n        // whiteSpace: \"nowrap\"\n    },\n    noTicketsTitle: {\n        textAlign: \"center\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        margin: \"0px\",\n    },\n\n    contactNameWrapper: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginLeft: \"5px\",\n        fontWeight: \"bold\",\n        color: theme.mode === 'light' ? \"black\" : \"white\",\n    },\n\n    lastMessageTime: {\n        justifySelf: \"flex-end\",\n        textAlign: \"right\",\n        position: \"relative\",\n        top: -30,\n        marginRight: \"1px\",\n        color: theme.mode === 'light' ? \"black\" : grey[400],\n    },\n\n    lastMessageTimeUnread: {\n        justifySelf: \"flex-end\",\n        textAlign: \"right\",\n        position: \"relative\",\n        top: -30,\n        color: \"green\",\n        fontWeight: \"bold\",\n        marginRight: \"1px\",\n    },\n\n    closedBadge: {\n        alignSelf: \"center\",\n        justifySelf: \"flex-end\",\n        marginRight: 32,\n        marginLeft: \"auto\",\n    },\n\n    contactLastMessage: {\n        paddingRight: \"0%\",\n        marginLeft: \"5px\",\n        color: theme.mode === 'light' ? \"black\" : grey[400],\n    },\n\n    contactLastMessageUnread: {\n        paddingRight: 20,\n        fontWeight: \"bold\",\n        color: theme.mode === 'light' ? \"black\" : grey[400],\n        width: \"50%\"\n    },\n\n    badgeStyle: {\n        color: \"white\",\n        backgroundColor: green[500],\n    },\n\n    acceptButton: {\n        position: \"absolute\",\n        right: \"1px\",\n    },\n\n    ticketQueueColor: {\n        flex: \"none\",\n        // width: \"8px\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0%\",\n        left: \"0%\",\n    },\n\n    ticketInfo: {\n        position: \"relative\",\n        top: -13\n    },\n    secondaryContentSecond: {\n        display: 'flex',\n        // marginBottom: 2,\n        // marginLeft: \"5px\",\n        alignItems: \"flex-start\",\n        flexWrap: \"nowrap\",\n        flexDirection: \"row\",\n        alignContent: \"flex-start\",\n        // height: \"10px\"\n    },\n    ticketInfo1: {\n        position: \"relative\",\n        top: 13,\n        right: 0\n    },\n    Radiusdot: {\n        \"& .MuiBadge-badge\": {\n            borderRadius: 2,\n            position: \"inherit\",\n            height: 16,\n            margin: 2,\n            padding: 3\n        },\n        \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n            transform: \"scale(1) translate(0%, -40%)\",\n        },\n    },\n    connectionIcon: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nconst TicketListItemCustom = ({ setTabOpen, ticket }) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\n    const [openAlert, setOpenAlert] = useState(false);\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n    const { ticketId } = useParams();\n    const isMounted = useRef(true);\n    const { setCurrentTicket } = useContext(TicketsContext);\n    const { user } = useContext(AuthContext);\n\n    const { get: getSetting } = useCompanySettings();\n\n    useEffect(() => {\n        console.log(\"======== TicketListItemCustom ===========\")\n        console.log(ticket)\n        console.log(\"=========================================\")\n    }, [ticket])\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const handleOpenAcceptTicketWithouSelectQueue = useCallback(() => {\n        // console.log(ticket)\n        setAcceptTicketWithouSelectQueueOpen(true);\n    }, []);\n\n    const handleCloseTicket = async (id) => {\n        const setting = await getSetting(\n            {\n                \"column\": \"requiredTag\"\n            }\n        );\n\n        if (setting.requiredTag === \"enabled\") {\n            //verificar se tem uma tag   \n            try {\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\n                if (!contactTags.data.tags) {\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\n                } else {\n                    await api.put(`/tickets/${id}`, {\n                        status: \"closed\",\n                        userId: user?.id || null,\n                    });\n\n                    if (isMounted.current) {\n                        setLoading(false);\n                    }\n\n                    history.push(`/tickets/`);\n                }\n            } catch (err) {\n                setLoading(false);\n                toastError(err);\n            }\n        } else {\n            setLoading(true);\n            try {\n                await api.put(`/tickets/${id}`, {\n                    status: \"closed\",\n                    userId: user?.id || null,\n                });\n\n            } catch (err) {\n                setLoading(false);\n                toastError(err);\n            }\n            if (isMounted.current) {\n                setLoading(false);\n            }\n\n            history.push(`/tickets/`);\n        }\n\n    };\n\n    const handleCloseIgnoreTicket = async (id) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${id}`, {\n                status: \"closed\",\n                userId: user?.id || null,\n                sendFarewellMessage: false,\n                amountUsedBotQueues: 0\n            });\n\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n\n        history.push(`/tickets/`);\n    };\n\n    const truncate = (str, len) => {\n        if (!isNil(str)) {\n            if (str.length > len) {\n                return str.substring(0, len) + \"...\";\n            }\n            return str;\n        }\n    };\n\n    const handleCloseTransferTicketModal = useCallback(() => {\n        if (isMounted.current) {\n            setTransferTicketModalOpen(false);\n        }\n    }, []);\n\n    const handleOpenTransferModal = () => {\n        setLoading(true)\n        setTransferTicketModalOpen(true);\n        if (isMounted.current) {\n            setLoading(false);\n        }\n        handleSelectTicket(ticket);\n        // history.push('/tickets');\n        // setTimeout(() => {\n        history.push(`/tickets/${ticket.uuid}`);\n        // }, 0);\n    }\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            const otherTicket = await api.put(`/tickets/${id}`, ({\n                status: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\n                userId: user?.id,\n            }));\n\n            if (otherTicket.data.id !== ticket.id) {\n                if (otherTicket.data.userId !== user?.id) {\n                    setOpenAlert(true);\n                    setUserTicketOpen(otherTicket.data.user.name);\n                    setQueueTicketOpen(otherTicket.data.queue.name);\n                } else {\n                    setLoading(false);\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\");\n                    handleSelectTicket(otherTicket.data);\n                    // history.push('/tickets');\n                    // setTimeout(() => {\n                    history.push(`/tickets/${otherTicket.uuid}`);\n                    // }, 0);\n                }\n            } else {\n                let setting;\n\n                try {\n                    setting = await getSetting({\n                        \"column\": \"sendGreetingAccepted\"\n                    });\n                } catch (err) {\n                    toastError(err);\n                }\n\n                if (setting.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\")) {\n                    handleSendMessage(ticket.id);\n                }\n                if (isMounted.current) {\n                    setLoading(false);\n                }\n\n                setTabOpen(ticket.isGroup ? \"group\" : \"open\");\n                handleSelectTicket(ticket);\n                // history.push('/tickets');\n                // setTimeout(() => {\n                history.push(`/tickets/${ticket.uuid}`);\n                // }, 0);\n            }\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n\n    const handleSendMessage = async (id) => {\n\n        let setting;\n\n        try {\n            setting = await getSetting({\n                \"column\": \"greetingAcceptedMessage\"\n            })\n        } catch (err) {\n            toastError(err);\n        }\n\n        const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleCloseAlert = useCallback(() => {\n        setOpenAlert(false);\n        setLoading(false);\n    }, []);\n\n    const handleSelectTicket = (ticket) => {\n        const code = uuidv4();\n        const { id, uuid } = ticket;\n        setCurrentTicket({ id, uuid, code });\n    };\n\n    return (\n        <React.Fragment key={ticket.id}>\n            {openAlert && (\n                <ShowTicketOpen\n                    isOpen={openAlert}\n                    handleClose={handleCloseAlert}\n                    user={userTicketOpen}\n                    queue={queueTicketOpen}\n                />\n            )}\n            {acceptTicketWithouSelectQueueOpen && (\n                <AcceptTicketWithouSelectQueue\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\n                    ticketId={ticket.id}\n                    ticket={ticket}\n                />\n            )}\n            {transferTicketModalOpen && (\n                <TransferTicketModalCustom\n                    modalOpen={transferTicketModalOpen}\n                    onClose={handleCloseTransferTicketModal}\n                    ticketid={ticket.id}\n                    ticket={ticket}\n                />\n            )}\n            {/* <TicketMessagesDialog\n                open={openTicketMessageDialog}\n                handleClose={() => setOpenTicketMessageDialog(false)}\n                ticketId={ticket.id}\n            /> */}\n            <ListItem\n                button\n                dense\n                onClick={(e) => {\n                    console.log('e', e)\n                    const isCheckboxClicked = (e.target.tagName.toLowerCase() === 'input' && e.target.type === 'checkbox')\n                        || (e.target.tagName.toLowerCase() === 'svg' && e.target.type === undefined)\n                        || (e.target.tagName.toLowerCase() === 'path' && e.target.type === undefined);\n                    // Se o clique foi no Checkbox, no execute handleSelectTicket\n\n                    if (isCheckboxClicked) return;\n\n                    handleSelectTicket(ticket);\n                }}\n                selected={ticketId && ticketId === ticket.uuid}\n                className={clsx(classes.ticket, {\n                    [classes.pendingTicket]: ticket.status === \"pending\",\n                })}\n            >\n                <ListItemAvatar\n                    style={{ marginLeft: \"-15px\" }}\n                >\n                    <Avatar\n                        style={{\n                            width: \"50px\",\n                            height: \"50px\",\n                            borderRadius: \"50%\",\n                        }}\n                        src={`${ticket?.contact?.urlPicture}`}\n\n                    />\n                </ListItemAvatar>\n                <ListItemText\n                    disableTypography\n                    primary={\n                        <span className={classes.contactNameWrapper}>\n                            <Typography\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                            // color=\"textPrimary\"\n                            >\n                                {ticket.isGroup && ticket.channel === \"whatsapp\" && <GroupIcon fontSize=\"small\" style={{ color: grey[700], marginBottom: '-1px', marginLeft: '5px' }} />} &nbsp;\n                                {ticket.channel && <ConnectionIcon width=\"20\" height=\"20\" className={classes.connectionIcon} connectionType={ticket.channel} />} &nbsp;\n                                {truncate(ticket.contact?.name, 60)}\n                                {/* {profile === \"admin\"  && ( */}\n                                {/* <Tooltip title=\"Espiar Conversa\">\n                                        <VisibilityIcon\n                                            onClick={() => setOpenTicketMessageDialog(true)}\n                                            fontSize=\"small\"\n                                            style={{\n                                                color: blue[700],\n                                                cursor: \"pointer\",\n                                                marginLeft: 10,\n                                                verticalAlign: \"middle\"\n                                            }}\n                                        />\n                                    </Tooltip> */}\n                                {/* )} */}\n                            </Typography>\n                            {/* <ListItemSecondaryAction>\n                                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n                            </ListItemSecondaryAction> */}\n                        </span>\n                    }\n                    secondary={\n                        <span className={classes.contactNameWrapper}>\n\n                            <Typography\n                                className={Number(ticket.unreadMessages) > 0 ? classes.contactLastMessageUnread : classes.contactLastMessage}\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                            // color=\"textSecondary\"\n                            // style={console.log('ticket.lastMessage', ticket.lastMessage)}\n                            >\n                                {ticket.lastMessage ? (\n                                    <>\n                                        {ticket.lastMessage.includes('data:image/png;base64') ?\n                                            <MarkdownWrapper>Localizao</MarkdownWrapper> :\n                                            <> {ticket.lastMessage.includes('BEGIN:VCARD') ?\n                                                <MarkdownWrapper>Contato</MarkdownWrapper> :\n                                                <MarkdownWrapper>{truncate(ticket.lastMessage, 40)}</MarkdownWrapper>}\n                                            </>\n                                        }\n                                    </>\n                                ) : (\n                                    <br />\n                                )}\n                                <span className={classes.secondaryContentSecond} >\n                                    {ticket?.whatsapp ? <Badge className={classes.connectionTag} style={{ backgroundColor: ticket.channel === \"whatsapp\" ? \"#25D366\" : ticket.channel === \"facebook\" ? \"#4267B2\" : \"#E1306C\" }}>{ticket.whatsapp?.name.toUpperCase()}</Badge> : <br></br>}\n                                    {<Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queueId ? ticket.queue?.name.toUpperCase() : ticket.status === \"lgpd\" ? \"LGPD\" : \"SEM FILA\"}</Badge>}\n                                    {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\n                                </span>\n                                <span className={classes.secondaryContentSecond} >\n                                    {\n                                        ticket.tags?.map((tag) => {\n                                            return (\n                                                <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                                            );\n                                        })\n                                    }\n                                </span>\n                            </Typography>\n\n                            <Badge\n                                className={classes.newMessagesCount}\n                                badgeContent={ticket.unreadMessages}\n                                classes={{\n                                    badge: classes.badgeStyle,\n                                }}\n                            />\n                        </span>\n                    }\n\n                />\n                <ListItemSecondaryAction>\n                    {ticket.lastMessage && (\n                        <>\n\n                            <Typography\n                                className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\n                                component=\"span\"\n                                variant=\"body2\"\n                            // color=\"textSecondary\"\n                            >\n\n                                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                                ) : (\n                                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                                )}\n                            </Typography>\n\n                            <br />\n\n                        </>\n                    )}\n\n                </ListItemSecondaryAction>\n                <ListItemSecondaryAction>\n                    <span className={classes.secondaryContentSecond}>\n                        {(ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\n                                    <Done />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond} >\n                        {(ticket.status === \"pending\" && ticket.queueId !== null) && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleAcepptTicket(ticket.id)}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\n                                    <Done />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond1} >\n                        {(ticket.status === \"pending\" || ticket.status === \"open\" || ticket.status === \"group\") && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '26px', position: 'absolute', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={handleOpenTransferModal}\n                            >\n                                {/* {i18n.t(\"ticketsList.buttons.transfer\")} */}\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.transfer\")}`}>\n                                    <SwapHoriz />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond} >\n                        {(ticket.status === \"open\" || ticket.status === \"group\") && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleCloseTicket(ticket.id)}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.closed\")}`}>\n                                    <HighlightOff />\n                                    {/*  */}\n                                </Tooltip>\n                            </ButtonWithSpinner>\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond} >\n                        {((ticket.status === \"pending\" || ticket.status === \"lgpd\") && (user.userClosePendingTicket === \"enabled\" || user.profile === \"admin\")) && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleCloseIgnoreTicket(ticket.id)}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.ignore\")}`}>\n                                    <HighlightOff />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond} >\n                        {(ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\n                                    <Replay />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n\n                        )}\n                    </span>\n                    <span className={classes.secondaryContentSecond} >\n                        {(ticket.status === \"closed\" && ticket.queueId !== null) && (\n                            <ButtonWithSpinner\n                                //color=\"primary\"\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\n                                variant=\"contained\"\n                                className={classes.acceptButton}\n                                size=\"small\"\n                                loading={loading}\n                                onClick={e => handleAcepptTicket(ticket.id)}\n                            >\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\n                                    <Replay />\n                                </Tooltip>\n                            </ButtonWithSpinner>\n\n                        )}\n                    </span>\n                </ListItemSecondaryAction>\n            </ListItem>\n            {/* <Divider variant=\"inset\" component=\"li\" /> */}\n        </React.Fragment>\n    );\n};\n\nexport default TicketListItemCustom;","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext, useMemo } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    ticketsListWrapper: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n    },\n\n    ticketsList: {\n        flex: 1,\n        maxHeight: \"100%\",\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n        borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n    },\n\n    ticketsListHeader: {\n        color: \"rgb(67, 83, 105)\",\n        zIndex: 2,\n        backgroundColor: \"white\",\n        borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n\n    ticketsCount: {\n        fontWeight: \"normal\",\n        color: \"rgb(104, 121, 146)\",\n        marginLeft: \"8px\",\n        fontSize: \"14px\",\n    },\n\n    noTicketsText: {\n        textAlign: \"center\",\n        color: \"rgb(104, 121, 146)\",\n        fontSize: \"14px\",\n        lineHeight: \"1.4\",\n    },\n\n    noTicketsTitle: {\n        textAlign: \"center\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        margin: \"0px\",\n    },\n\n    noTicketsDiv: {\n        display: \"flex\",\n        // height: \"190px\",\n        margin: 40,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n}));\n\nconst ticketSortAsc = (a, b) => {\n    \n    if (a.updatedAt < b.updatedAt) {\n        return -1;\n    }\n    if (a.updatedAt > b.updatedAt) {\n        return 1;\n    }\n    return 0;\n}\n\nconst ticketSortDesc = (a, b) => {\n   \n    if (a.updatedAt > b.updatedAt) {\n        return -1;\n    }\n    if (a.updatedAt < b.updatedAt) {\n        return 1;\n    }\n    return 0;\n}\n\nconst reducer = (state, action) => {\n    //console.log(\"action\", action, state)\n    const sortDir = action.sortDir;\n    \n    if (action.type === \"LOAD_TICKETS\") {\n        const newTickets = action.payload;\n\n        newTickets.forEach((ticket) => {\n            const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n            if (ticketIndex !== -1) {\n                state[ticketIndex] = ticket;\n                if (ticket.unreadMessages > 0) {\n                    state.unshift(state.splice(ticketIndex, 1)[0]);\n                }\n            } else {\n                state.push(ticket);\n            }\n        });\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\n        }\n\n        return [...state];\n    }\n\n    if (action.type === \"RESET_UNREAD\") {\n        const ticketId = action.payload;\n\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\n        if (ticketIndex !== -1) {\n            state[ticketIndex].unreadMessages = 0;\n        }\n\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\n        }\n\n        return [...state];\n    }\n\n    if (action.type === \"UPDATE_TICKET\") {\n        const ticket = action.payload;\n\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n        if (ticketIndex !== -1) {\n            state[ticketIndex] = ticket;\n        } else {\n            state.unshift(ticket);\n        }\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\n        }\n\n        return [...state];\n    }\n\n    if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n        const ticket = action.payload;\n\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n        if (ticketIndex !== -1) {\n            state[ticketIndex] = ticket;\n            state.unshift(state.splice(ticketIndex, 1)[0]);\n        } else {\n            if (action.status === action.payload.status) {\n                state.unshift(ticket);\n            }\n        }\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\n        }\n\n        return [...state];\n    }\n\n    if (action.type === \"UPDATE_TICKET_CONTACT\") {\n        const contact = action.payload;\n        const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n        if (ticketIndex !== -1) {\n            state[ticketIndex].contact = contact;\n        }\n        return [...state];\n    }\n\n    if (action.type === \"DELETE_TICKET\") {\n        const ticketId = action.payload;\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\n        if (ticketIndex !== -1) {\n            state.splice(ticketIndex, 1);\n        }\n\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\n        }\n\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst TicketsListCustom = (props) => {\n    const {\n        setTabOpen,\n        status,\n        searchParam,\n        searchOnMessages,\n        tags,\n        users,\n        showAll,\n        selectedQueueIds,\n        updateCount,\n        style,\n        whatsappIds,\n        forceSearch,\n        statusFilter,\n        userFilter,\n        sortTickets\n    } = props;\n\n    const classes = useStyles();\n    const [pageNumber, setPageNumber] = useState(1);\n    let [ticketsList, dispatch] = useReducer(reducer, []);\n    //   const socketManager = useContext(SocketContext);\n    const { user, socket } = useContext(AuthContext);\n\n    const { profile, queues } = user;\n    const showTicketWithoutQueue = user.allTicket === 'enable';\n    const companyId = user.companyId;\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [status, searchParam, dispatch, showAll, tags, users, forceSearch, selectedQueueIds, whatsappIds, statusFilter, sortTickets, searchOnMessages]);\n\n    const { tickets, hasMore, loading } = useTickets({\n        pageNumber,\n        searchParam,\n        status,\n        showAll,\n        searchOnMessages: searchOnMessages ? \"true\" : \"false\",\n        tags: JSON.stringify(tags),\n        users: JSON.stringify(users),\n        queueIds: JSON.stringify(selectedQueueIds),\n        whatsappIds: JSON.stringify(whatsappIds),\n        statusFilter: JSON.stringify(statusFilter),\n        userFilter,\n        sortTickets\n    });\n\n\n    useEffect(() => {\n        // const queueIds = queues.map((q) => q.id);\n        // const filteredTickets = tickets.filter(\n        //     (t) => queueIds.indexOf(t.queueId) > -1\n        // );\n        // const allticket = user.allTicket === 'enabled';\n        // if (profile === \"admin\" || allTicket || allowGroup || allHistoric) {\n        if (companyId) {\n            dispatch({\n                type: \"LOAD_TICKETS\",\n                payload: tickets,\n                status,\n                sortDir: sortTickets\n            });\n        }\n        // } else {\n        //  dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n        // }\n\n    }, [tickets]);\n\n    useEffect(() => {\n        const shouldUpdateTicket = ticket => {\n            return (!ticket?.userId || ticket?.userId === user?.id || showAll) &&\n                ((!ticket?.queueId && showTicketWithoutQueue) || selectedQueueIds.indexOf(ticket?.queueId) > -1)\n            // (!blockNonDefaultConnections || (ticket.status == 'group' && ignoreUserConnectionForGroups) || !user?.whatsappId || ticket.whatsappId == user?.whatsappId);\n        }\n        // const shouldUpdateTicketUser = (ticket) =>\n        //     selectedQueueIds.indexOf(ticket?.queueId) > -1 && (ticket?.userId === user?.id || !ticket?.userId);\n\n        const notBelongsToUserQueues = (ticket) =>\n            ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n        const onCompanyTicketTicketsList = (data) => {\n            // console.log(\"onCompanyTicketTicketsList\", data)\n            if (data.action === \"updateUnread\") {\n                dispatch({\n                    type: \"RESET_UNREAD\",\n                    payload: data.ticketId,\n                    status: status,\n                    sortDir: sortTickets\n                });\n            }\n            // console.log(shouldUpdateTicket(data.ticket))\n            if (data.action === \"update\" &&\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\n                dispatch({\n                    type: \"UPDATE_TICKET\",\n                    payload: data.ticket,\n                    status: status,\n                    sortDir: sortTickets\n                });\n            }\n\n            // else if (data.action === \"update\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\n            //     dispatch({\n            //         type: \"UPDATE_TICKET\",\n            //         payload: data.ticket,\n            //     });\n            // }\n            if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n                dispatch({\n                    type: \"DELETE_TICKET\", payload: data.ticket?.id, status: status,\n                    sortDir: sortTickets\n                });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({\n                    type: \"DELETE_TICKET\", payload: data?.ticketId, status: status,\n                    sortDir: sortTickets\n                });\n\n            }\n        };\n\n        const onCompanyAppMessageTicketsList = (data) => {\n            if (data.action === \"create\" &&\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\n                dispatch({\n                    type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n                    payload: data.ticket,\n                    status: status,\n                    sortDir: sortTickets\n                });\n            }\n            // else if (data.action === \"create\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\n            //     dispatch({\n            //         type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n            //         payload: data.ticket,\n            //     });\n            // }\n        };\n\n        const onCompanyContactTicketsList = (data) => {\n            if (data.action === \"update\" && data.contact) {\n                dispatch({\n                    type: \"UPDATE_TICKET_CONTACT\",\n                    payload: data.contact,\n                    status: status,\n                    sortDir: sortTickets\n                });\n            }\n        };\n\n        const onConnectTicketsList = () => {\n            if (status) {\n                socket.emit(\"joinTickets\", status);\n            } else {\n                socket.emit(\"joinNotification\");\n            }\n        }\n\n        socket.on(\"connect\", onConnectTicketsList)\n        socket.on(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\n        socket.on(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\n        socket.on(`company-${companyId}-contact`, onCompanyContactTicketsList);\n\n        return () => {\n            if (status) {\n                socket.emit(\"leaveTickets\", status);\n            } else {\n                socket.emit(\"leaveNotification\");\n            }\n            socket.off(\"connect\", onConnectTicketsList);\n            socket.off(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\n            socket.off(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\n            socket.off(`company-${companyId}-contact`, onCompanyContactTicketsList);\n        };\n\n    }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, sortTickets, showTicketWithoutQueue]);\n\n    useEffect(() => {\n        if (typeof updateCount === \"function\") {\n            updateCount(ticketsList.length);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ticketsList]);\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    if (status && status !== \"search\") {\n        ticketsList = ticketsList.filter(ticket => ticket.status === status)\n    }\n\n    return (\n        <Paper className={classes.ticketsListWrapper} style={style}>\n            <Paper\n                square\n                name=\"closed\"\n                elevation={0}\n                className={classes.ticketsList}\n                onScroll={handleScroll}\n            >\n                <List style={{ paddingTop: 0 }} >\n                    {ticketsList.length === 0 && !loading ? (\n                        <div className={classes.noTicketsDiv}>\n                            <span className={classes.noTicketsTitle}>\n                                {i18n.t(\"ticketsList.noTicketsTitle\")}\n                            </span>\n                            <p className={classes.noTicketsText}>\n                                {i18n.t(\"ticketsList.noTicketsMessage\")}\n                            </p>\n                        </div>\n                    ) : (\n                        <>\n                            {ticketsList.map((ticket) => (\n                                // <List key={ticket.id}>\n                                //     {console.log(ticket)}\n                                <TicketListItem\n                                    ticket={ticket}\n                                    key={ticket.id}\n                                    setTabOpen={setTabOpen}\n                                />\n                                // </List>\n                            ))}\n                        </>\n                    )}\n                    {loading && <TicketsListSkeleton />}\n                </List>\n            </Paper>\n        </Paper>\n    );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menuListItem: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  menuItem: {\n    maxHeight: 30,\n  },\n}));\n\nconst TicketsQueueSelect = ({\n  userQueues,\n  selectedQueueIds = [],\n  onChange,\n}) => {\n  const classes = useStyles();\n\n  const handleChange = (e) => {\n    onChange(e.target.value);\n  };\n\n  return (\n    <div style={{ width: 120, marginTop: -4 }}>\n      <FormControl fullWidth margin=\"dense\">\n        <Select\n          multiple\n          displayEmpty\n          variant=\"outlined\"\n          value={selectedQueueIds}\n          onChange={handleChange}\n          style={{\n            borderRadius: 8,\n            height: 30,\n          }}\n          MenuProps={{\n            anchorOrigin: {\n              vertical: \"bottom\",\n              horizontal: \"center\",\n            },\n            transformOrigin: {\n              vertical: \"top\",\n              horizontal: \"center\",\n            },\n            getContentAnchorEl: null,\n            PaperProps: {\n              style: {\n                borderRadius: \"0 0 8px 8px\",\n              },\n            },\n            MenuListProps: {\n              className: classes.menuListItem,\n            },\n          }}\n          renderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n        >\n          {userQueues?.length > 0 &&\n            userQueues.map((queue) => (\n              <MenuItem\n                dense\n                key={queue.id}\n                value={queue.id}\n                className={classes.menuItem}\n              >\n                <Checkbox\n                  style={{\n                    color: queue.color,\n                  }}\n                  size=\"small\"\n                  color=\"primary\"\n                  checked={selectedQueueIds.indexOf(queue.id) > -1}\n                />\n                <ListItemText\n                  primary={queue.name}\n                  classes={{ primary: classes.listItemText }}\n                />\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default TicketsQueueSelect;","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder={i18n.t(\"tickets.search.filterUsers\")}\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nexport function StatusFilter({ onFiltered }) {\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      \n    }\n    fetchData();\n  }, []);\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  const status = [\n    { status: 'open', name: `${i18n.t(\"tickets.search.filterConectionsOptions.open\")}` },\n    { status: 'closed', name: `${i18n.t(\"tickets.search.filterConectionsOptions.closed\")}` },\n    { status: 'pending', name: `${i18n.t(\"tickets.search.filterConectionsOptions.pending\")}` },\n    { status: 'group', name: 'Grupos' },\n\n  ]\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete \n       multiple      \n       size=\"small\"\n       options={status}\n       value={selecteds}\n       onChange={(e, v, r) => onChange(v)}\n       getOptionLabel={(option) => option.name}\n       renderTags={(value, getTagProps) =>\n         value.map((option, index) => (\n           <Chip\n             variant=\"outlined\"\n             style={{\n               backgroundColor: option.color || \"#eee\",\n               textShadow: \"1px 1px 1px #000\",\n               color: \"white\",\n             }}\n             label={option.name}\n             {...getTagProps({ index })}\n             size=\"small\"\n           />\n         ))\n       }\n       renderInput={(params) => (\n         <TextField\n           {...params}\n           variant=\"outlined\"\n           placeholder=\"Filtro por Status\"\n         />\n       )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nexport function WhatsappsFilter({ onFiltered, initialWhatsapps }) {\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadWhatsapps();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialWhatsapps) &&\n      Array.isArray(whatsapps) &&\n      whatsapps.length > 0\n    ) {\n      onChange(initialWhatsapps);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialWhatsapps, whatsapps]);\n\n  const loadWhatsapps = async () => {\n    try {\n      const { data } = await api.get(`/whatsapp`);\n      const whatsappList = data.map((w) => ({ id: w.id, name: w.name, channel: w.channel }));\n      setWhatsapps(whatsappList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={whatsapps}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getWhatsappProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getWhatsappProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder={i18n.t(\"tickets.search.filterConections\")}\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useState, createContext } from \"react\";\n\nconst QueueSelectedContext = createContext();\n\nconst QueueSelectedProvider = ({ children }) => {\n\tconst [selectedQueuesMessage, setSelectedQueuesMessage] = useState([]);\n\treturn (\n\t\t<QueueSelectedContext.Provider\n\t\t\tvalue={{ selectedQueuesMessage, setSelectedQueuesMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</QueueSelectedContext.Provider>\n\t);\n};\n\nexport { QueueSelectedContext, QueueSelectedProvider };\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  makeStyles,\n  Paper,\n  InputBase,\n  Tabs,\n  Tab,\n  Badge,\n  IconButton,\n  Typography,\n  Grid,\n  Tooltip,\n  Switch,\n} from \"@material-ui/core\";\nimport {\n  Group,\n  MoveToInbox as MoveToInboxIcon,\n  CheckBox as CheckBoxIcon,\n  MessageSharp as MessageSharpIcon,\n  AccessTime as ClockIcon,\n  Search as SearchIcon,\n  Add as AddIcon,\n  TextRotateUp,\n  TextRotationDown,\n} from \"@material-ui/icons\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\n\nimport { FilterAltOff, FilterAlt, PlaylistAddCheckOutlined } from \"@mui/icons-material\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\nimport { StatusFilter } from \"../StatusFilter\";\nimport { WhatsappsFilter } from \"../WhatsappsFilter\";\nimport { Button, Snackbar } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\n\nimport api from \"../../services/api\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    minWidth: \"auto\",\n    width: \"auto\",\n    borderRadius: 8,\n    marginTop: theme.spacing(0.5),\n    marginBottom: theme.spacing(0.5),\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5),\n    // backgroundColor: \"#eee\",\n    // backgroundColor: theme.palette.tabHeaderBackground,\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: theme.spacing(1),\n  },\n\n  tab: {\n    minWidth: \"auto\",\n    width: \"auto\",\n    padding: theme.spacing(0.5, 1),\n    borderRadius: 8,\n    transition: \"0.3s\",\n    borderColor: \"#aaa\",\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    marginRight: theme.spacing(0.5),\n    marginLeft: theme.spacing(0.5),\n\n    [theme.breakpoints.down(\"lg\")]: {\n      fontSize: \"0.9rem\",\n      padding: theme.spacing(0.4, 0.8),\n      marginRight: theme.spacing(0.4),\n      marginLeft: theme.spacing(0.4),\n    },\n\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"0.8rem\",\n      padding: theme.spacing(0.3, 0.6),\n      marginRight: theme.spacing(0.3),\n      marginLeft: theme.spacing(0.3),\n    },\n\n    \"&:hover\": {\n      backgroundColor: \"rgba(0, 0, 0, 0.1)\",\n    },\n\n    // \"&$selected\": {\n    //   color: \"#FFF\",\n    //   backgroundColor: theme.palette.primary.main,\n    // },\n  },\n\n  tabPanelItem: {\n    minWidth: \"33%\",\n    fontSize: 11,\n    marginLeft: 0,\n  },\n\n  tabIndicator: {\n    height: 6,\n    bottom: 0,\n    borderRadius: \"0 0 8px 8px\",\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n  },\n  tabsBadge: {\n    top: \"105%\",\n    right: \"55%\",\n    transform: \"translate(45%, 0)\",\n    whiteSpace: \"nowrap\",\n    borderRadius: \"12px\",\n    padding: \"0 8px\",\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n    color: theme.mode === \"light\" ? \"#FFF\" : theme.palette.primary.main,\n  },\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    // background: \"#fafafa\",\n    background: theme.palette.optionsBackground,\n    borderRadius: 8,\n    borderColor: \"#aaa\",\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    marginTop: theme.spacing(0.5),\n    marginBottom: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    padding: theme.spacing(0.5),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    // background: \"#fff\",\n    height: 40,\n    background: theme.palette.total,\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    borderColor: \"#aaa\",\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    marginTop: theme.spacing(0.5),\n    marginBottom: theme.spacing(0.5),\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    // right: \"-10px\",\n  },\n\n  customBadge: {\n    right: \"-10px\",\n    backgroundColor: \"#f44336\",\n    color: \"#fff\",\n  },\n\n  show: {\n    display: \"block\",\n  },\n\n  hide: {\n    display: \"none !important\",\n  },\n\n  closeAllFab: {\n    backgroundColor: \"red\",\n    marginBottom: \"4px\",\n    \"&:hover\": {\n      backgroundColor: \"darkred\",\n    },\n  },\n\n  speedDial: {\n    position: \"absolute\",\n    bottom: theme.spacing(1),\n    right: theme.spacing(1),\n    \"& .MuiFab-root\": {\n      width: \"40px\",\n      height: \"40px\",\n      marginTop: \"4px\",\n    },\n    \"& .MuiFab-label\": {\n      width: \"100%\",\n      height: \"100%\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n  },\n\n  snackbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: 30,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"0.8em\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"1em\",\n    },\n  },\n\n  yesButton: {\n    backgroundColor: \"#FFF\",\n    color: \"rgba(0, 100, 0, 1)\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    marginRight: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: \"darkGreen\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n  noButton: {\n    backgroundColor: \"#FFF\",\n    color: \"rgba(139, 0, 0, 1)\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    \"&:hover\": {\n      backgroundColor: \"darkRed\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n  filterIcon: {\n    marginRight: 6,\n    alignSelf: \"center\",\n    color: theme.mode === \"light\" ? \"#0872b9\" : \"#FFF\",\n    cursor: \"pointer\",\n  },\n  button: {\n    height: 30,\n    width: 30,\n    border: \"2px solid\",\n    borderColor: \"#aaa\",\n    borderRadius: 8,\n    marginRight: 8,\n    \"&:hover\": {\n      borderColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n    },\n  },\n  icon: {\n    color: \"#aaa\",\n    \"&:hover\": {\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n    },\n  },\n  buttonOpen: {\n    \"& $icon\": {\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\n    },\n  },\n}));\n\nconst TicketsManagerTabs = () => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  // const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const [sortTickets, setSortTickets] = useState(false);\n\n  const searchInputRef = useRef();\n  const [searchOnMessages, setSearchOnMessages] = useState(false);\n\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n  const { setSelectedQueuesMessage } = useContext(QueueSelectedContext);\n  const { tabOpen, setTabOpen } = useContext(TicketsContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n  const [groupingCount, setGroupingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\n  const [forceSearch, setForceSearch] = useState(false);\n  const [selectedStatus, setSelectedStatus] = useState([]);\n  const [filter, setFilter] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [isHoveredAll, setIsHoveredAll] = useState(false);\n  const [isHoveredNew, setIsHoveredNew] = useState(false);\n  const [isHoveredResolve, setIsHoveredResolve] = useState(false);\n  const [isHoveredOpen, setIsHoveredOpen] = useState(false);\n  const [isHoveredClosed, setIsHoveredClosed] = useState(false);\n  const [isHoveredSort, setIsHoveredSort] = useState(false);\n\n  const [isFilterActive, setIsFilterActive] = useState(false);\n\n  useEffect(() => {\n    setSelectedQueuesMessage(selectedQueueIds);\n  }, [selectedQueueIds]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\" || user.allUserChat.toUpperCase() === \"ENABLED\") {\n      setShowAllTickets(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n    setForceSearch(!forceSearch);\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setForceSearch(!forceSearch);\n      // setFilter(false);\n      setTab(\"open\");\n      return;\n    } else if (tab !== \"search\") {\n      handleFilter();\n      setTab(\"search\");\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n      setForceSearch(!forceSearch);\n    }, 500);\n  };\n\n  const handleBack = () => {\n\n    history.push(\"/tickets\");\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    // if (newValue === \"pending\" || newValue === \"group\") {\n    handleBack();\n    // }\n\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleSnackbarOpen = () => {\n    setSnackbarOpen(true);\n  };\n\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n\n  const CloseAllTicket = async () => {\n    try {\n      const { data } = await api.post(\"/tickets/closeAll\", {\n        status: tabOpen,\n        selectedQueueIds,\n      });\n      handleSnackbarClose();\n    } catch (err) {\n      console.log(\"Error: \", err);\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n\n    clearTimeout(searchTimeout);\n\n    if (tags.length === 0) {\n      setForceSearch(!forceSearch);\n    } else if (tab !== \"search\") {\n      setTab(\"search\");\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSelectedTags(tags);\n      setForceSearch(!forceSearch);\n    }, 500);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n\n    clearTimeout(searchTimeout);\n\n    if (users.length === 0) {\n      setForceSearch(!forceSearch);\n    } else if (tab !== \"search\") {\n      setTab(\"search\");\n    }\n    searchTimeout = setTimeout(() => {\n      setSelectedUsers(users);\n      setForceSearch(!forceSearch);\n    }, 500);\n  };\n\n  const handleSelectedWhatsapps = (selecteds) => {\n    const whatsapp = selecteds.map((t) => t.id);\n\n    clearTimeout(searchTimeout);\n\n    if (whatsapp.length === 0) {\n      setForceSearch(!forceSearch);\n    } else if (tab !== \"search\") {\n      setTab(\"search\");\n    }\n    searchTimeout = setTimeout(() => {\n      setSelectedWhatsapp(whatsapp);\n      setForceSearch(!forceSearch);\n    }, 500);\n  };\n\n  const handleSelectedStatus = (selecteds) => {\n    const statusFilter = selecteds.map((t) => t.status);\n\n    clearTimeout(searchTimeout);\n\n    if (statusFilter.length === 0) {\n      setForceSearch(!forceSearch);\n    } else if (tab !== \"search\") {\n      setTab(\"search\");\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSelectedStatus(statusFilter);\n      setForceSearch(!forceSearch);\n    }, 500);\n  };\n\n  const handleFilter = () => {\n    if (filter) {\n      setFilter(false);\n      setTab(\"open\");\n    } else setFilter(true);\n    setTab(\"search\");\n  };\n\n  const [open, setOpen] = React.useState(false);\n  const [hidden, setHidden] = React.useState(false);\n\n  const handleVisibility = () => {\n    setHidden((prevHidden) => !prevHidden);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClosed = () => {\n    setOpen(false);\n  };\n\n  const tooltipTitleStyle = {\n    fontSize: \"10px\",\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <div className={classes.serachInputWrapper}>\n        <SearchIcon className={classes.searchIcon} />\n        <InputBase\n          className={classes.searchInput}\n          inputRef={searchInputRef}\n          placeholder={i18n.t(\"tickets.search.placeholder\")}\n          type=\"search\"\n          onChange={handleSearch}\n        />\n        <Tooltip placement=\"top\" title=\"Marque para pesquisar tambm nos contedos das mensagens (mais lento)\">\n          <div>\n            <Switch\n              size=\"small\"\n              checked={searchOnMessages}\n              onChange={(e) => { setSearchOnMessages(e.target.checked) }}\n            />\n          </div>\n        </Tooltip>\n        {/* <IconButton\n          className={classes.filterIcon}\n          color=\"primary\"\n          aria-label=\"upload picture\"\n          component=\"span\"\n          onClick={handleFilter}\n        >\n          <FilterListIcon />\n        </IconButton> */}\n        {/* <FilterListIcon\n          className={classes.filterIcon}\n          color=\"primary\"\n          aria-label=\"upload picture\"\n          component=\"span\"\n          onClick={handleFilter}\n        /> */}\n        <IconButton\n          style={{\n            backgroundColor: \"transparent\",\n            boxShadow: \"none\",\n            border: \"none\",\n            borderRadius: \"50%\",\n            justifyContent: \"flex-end\",\n            alignItems: \"center\",\n          }}\n          variant=\"contained\"\n          aria-label=\"filter\"\n          className={classes.filterIcon}\n          onClick={() => {\n            setIsFilterActive((prevState) => !prevState);\n            handleFilter();\n          }}\n        >\n          {isFilterActive ? (\n            <FilterAlt className={classes.icon} />\n          ) : (\n            <FilterAltOff className={classes.icon} />\n          )}\n        </IconButton>\n      </div>\n\n      {filter === true && (\n        <>\n          <TagsFilter onFiltered={handleSelectedTags} />\n          <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\n          <StatusFilter onFiltered={handleSelectedStatus} />\n          {profile === \"admin\" && (\n            <>\n              <UsersFilter onFiltered={handleSelectedUsers} />\n            </>\n          )}\n        </>\n      )}\n\n      {/* <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n          classes={{ indicator: classes.tabIndicator }}\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper> */}\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n          <Grid item>\n            <Can\n              role={user.allUserChat === 'enabled' && user.profile === 'user' ? 'admin' : user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <Badge\n                  color=\"primary\"\n                  invisible={\n                    !isHoveredAll ||\n                    isHoveredNew ||\n                    isHoveredResolve ||\n                    isHoveredOpen ||\n                    isHoveredClosed\n                  }\n                  badgeContent={\"Todos\"}\n                  classes={{ badge: classes.tabsBadge }}\n                >\n                  <ToggleButton\n                    onMouseEnter={() => setIsHoveredAll(true)}\n                    onMouseLeave={() => setIsHoveredAll(false)}\n                    className={classes.button}\n                    value=\"uncheck\"\n                    selected={showAllTickets}\n                    onChange={() =>\n                      setShowAllTickets((prevState) => !prevState)\n                    }\n                  >\n                    {showAllTickets ? (\n                      <VisibilityIcon className={classes.icon} />\n                    ) : (\n                      <VisibilityOffIcon className={classes.icon} />\n                    )}\n                  </ToggleButton>\n                </Badge>\n              )}\n            />\n            <Snackbar\n              open={snackbarOpen}\n              onClose={handleSnackbarClose}\n              message={i18n.t(\"tickets.inbox.closedAllTickets\")}\n              ContentProps={{\n                className: classes.snackbar,\n              }}\n              action={\n                <>\n                  <Button\n                    className={classes.yesButton}\n                    size=\"small\"\n                    onClick={CloseAllTicket}\n                  >\n                    {i18n.t(\"tickets.inbox.yes\")}\n                  </Button>\n                  <Button\n                    className={classes.noButton}\n                    size=\"small\"\n                    onClick={handleSnackbarClose}\n                  >\n                    {i18n.t(\"tickets.inbox.no\")}\n                  </Button>\n                </>\n              }\n            />\n            <Badge\n              color=\"primary\"\n              invisible={\n                isHoveredAll ||\n                !isHoveredNew ||\n                isHoveredResolve ||\n                isHoveredOpen ||\n                isHoveredClosed\n              }\n              badgeContent={i18n.t(\"tickets.inbox.newTicket\")}\n              classes={{ badge: classes.tabsBadge }}\n            >\n              <IconButton\n                onMouseEnter={() => setIsHoveredNew(true)}\n                onMouseLeave={() => setIsHoveredNew(false)}\n                className={classes.button}\n                onClick={() => {\n                  setNewTicketModalOpen(true);\n                }}\n              >\n                <AddIcon className={classes.icon} />\n              </IconButton>\n            </Badge>\n            {user.profile === \"admin\" && (\n              <Badge\n                color=\"primary\"\n                invisible={\n                  isHoveredAll ||\n                  isHoveredNew ||\n                  !isHoveredResolve ||\n                  isHoveredOpen ||\n                  isHoveredClosed\n                }\n                badgeContent={i18n.t(\"tickets.inbox.closedAll\")}\n                classes={{ badge: classes.tabsBadge }}\n              >\n                <IconButton\n                  onMouseEnter={() => setIsHoveredResolve(true)}\n                  onMouseLeave={() => setIsHoveredResolve(false)}\n                  className={classes.button}\n                  onClick={handleSnackbarOpen}\n                >\n                  <PlaylistAddCheckOutlined style={{ color: theme.mode === \"light\" ? \"green\" : \"#FFF\" }} />\n                </IconButton>\n              </Badge>\n            )}\n            <Badge\n              // color=\"primary\"\n              invisible={\n                !(\n                  tab === \"open\" &&\n                  !isHoveredAll &&\n                  !isHoveredNew &&\n                  !isHoveredResolve &&\n                  !isHoveredClosed &&\n                  !isHoveredSort\n                ) && !isHoveredOpen\n              }\n              badgeContent={i18n.t(\"tickets.inbox.open\")}\n              classes={{ badge: classes.tabsBadge }}\n            >\n              <IconButton\n                onMouseEnter={() => {\n                  setIsHoveredOpen(true);\n                  setHoveredButton(\"open\");\n                }}\n                onMouseLeave={() => {\n                  setIsHoveredOpen(false);\n                  setHoveredButton(null);\n                }}\n                style={{\n                  height: 30,\n                  width: 30,\n                  border: isHoveredOpen\n                    ? theme.mode === \"light\"\n                      ? \"3px solid \" + theme.palette.primary.main\n                      : \"3px solid #FFF\"\n                    : tab === \"open\"\n                      ? theme.mode === \"light\"\n                        ? \"3px solid \" + theme.palette.primary.main\n                        : \"3px solid #FFF\"\n                      : theme.mode === \"light\"\n                        ? \"2px solid #aaa\"\n                        : \"2px solid #aaa\",\n                  borderRadius: 8,\n                  marginRight: 8,\n                }}\n                onClick={() => handleChangeTab(null, \"open\")}\n              >\n                <MoveToInboxIcon\n                  style={{\n                    color: isHoveredOpen\n                      ? theme.mode === \"light\"\n                        ? theme.palette.primary.main\n                        : \"#FFF\"\n                      : tab === \"open\"\n                        ? theme.mode === \"light\"\n                          ? theme.palette.primary.main\n                          : \"#FFF\"\n                        : \"#aaa\",\n                  }}\n                />\n              </IconButton>\n            </Badge>\n\n            <Badge\n              color=\"primary\"\n              invisible={\n                !(\n                  tab === \"closed\" &&\n                  !isHoveredAll &&\n                  !isHoveredNew &&\n                  !isHoveredResolve &&\n                  !isHoveredOpen &&\n                  !isHoveredSort\n                ) && !isHoveredClosed\n              }\n              badgeContent={i18n.t(\"tickets.inbox.resolverd\")}\n              classes={{ badge: classes.tabsBadge }}\n            >\n              <IconButton\n                onMouseEnter={() => {\n                  setIsHoveredClosed(true);\n                  setHoveredButton(\"closed\");\n                }}\n                onMouseLeave={() => {\n                  setIsHoveredClosed(false);\n                  setHoveredButton(null);\n                }}\n                style={{\n                  height: 30,\n                  width: 30,\n                  border: isHoveredClosed\n                    ? theme.mode === \"light\"\n                      ? \"3px solid \" + theme.palette.primary.main\n                      : \"3px solid #FFF\"\n                    : tab === \"closed\"\n                      ? theme.mode === \"light\"\n                        ? \"3px solid \" + theme.palette.primary.main\n                        : \"3px solid #FFF\"\n                      : theme.mode === \"light\"\n                        ? \"2px solid #aaa\"\n                        : \"2px solid #aaa\",\n                  borderRadius: 8,\n                  marginRight: 8,\n                }}\n                onClick={() => handleChangeTab(null, \"closed\")}\n              >\n                <CheckBoxIcon\n                  style={{\n                    color: isHoveredClosed\n                      ? theme.mode === \"light\"\n                        ? theme.palette.primary.main\n                        : \"#FFF\"\n                      : tab === \"closed\"\n                        ? theme.mode === \"light\"\n                          ? theme.palette.primary.main\n                          : \"#FFF\"\n                        : \"#aaa\",\n                  }}\n                />\n              </IconButton>\n            </Badge>\n            {tab !== \"closed\" && tab !== \"search\" && (\n              <Badge\n                color=\"primary\"\n                invisible={\n                  !isHoveredSort ||\n                  isHoveredAll ||\n                  isHoveredNew ||\n                  isHoveredResolve ||\n                  isHoveredOpen ||\n                  isHoveredClosed\n                }\n                badgeContent={!sortTickets ? \"Crescente\" : \"Decrescente\"}\n                classes={{ badge: classes.tabsBadge }}\n              >\n                <ToggleButton\n                  onMouseEnter={() => setIsHoveredSort(true)}\n                  onMouseLeave={() => setIsHoveredSort(false)}\n                  className={classes.button}\n                  value=\"uncheck\"\n                  selected={sortTickets}\n                  onChange={() =>\n                    setSortTickets((prevState) => !prevState)\n                  }\n                >\n                  {!sortTickets ? (\n                    <TextRotateUp style={{\n                      color: sortTickets\n                        ? theme.mode === \"light\"\n                          ? theme.palette.primary.main\n                          : \"#FFF\"\n                        : \"#aaa\",\n                    }} />\n                  ) : (\n                    <TextRotationDown style={{\n                      color: sortTickets\n                        ? theme.mode === \"light\"\n                          ? theme.palette.primary.main\n                          : \"#FFF\"\n                        : \"#aaa\",\n                    }} />\n                  )}\n                </ToggleButton>\n              </Badge>\n            )}\n          </Grid>\n          <Grid item>\n            <TicketsQueueSelect\n              selectedQueueIds={selectedQueueIds}\n              userQueues={user?.queues}\n              onChange={(values) => setSelectedQueueIds(values)}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          {/* ATENDENDO */}\n          <Tab\n            label={\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\n                <Grid item>\n                  <Badge\n                    overlap=\"rectangular\"\n                    classes={{ badge: classes.customBadge }}\n                    badgeContent={openCount}\n                    color=\"primary\"\n                  >\n                    <MessageSharpIcon\n                      style={{\n                        fontSize: 18,\n                      }}\n                    />\n                  </Badge>\n                </Grid>\n                <Grid item>\n                  <Typography\n                    style={{\n                      marginLeft: 8,\n                      fontSize: 10,\n                      fontWeight: 600,\n                    }}\n                  >\n                    {i18n.t(\"ticketsList.assignedHeader\")}\n                  </Typography>\n                </Grid>\n              </Grid>\n            }\n            value={\"open\"}\n            name=\"open\"\n            classes={{ root: classes.tabPanelItem }}\n          />\n\n          {/* AGUARDANDO */}\n          <Tab\n            label={\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\n                <Grid item>\n                  <Badge\n                    overlap=\"rectangular\"\n                    classes={{ badge: classes.customBadge }}\n                    badgeContent={pendingCount}\n                    color=\"primary\"\n                  >\n                    <ClockIcon\n                      style={{\n                        fontSize: 18,\n                      }}\n                    />\n                  </Badge>\n                </Grid>\n                <Grid item>\n                  <Typography\n                    style={{\n                      marginLeft: 8,\n                      fontSize: 10,\n                      fontWeight: 600,\n                    }}\n                  >\n                    {i18n.t(\"ticketsList.pendingHeader\")}\n                  </Typography>\n                </Grid>\n              </Grid>\n            }\n            value={\"pending\"}\n            name=\"pending\"\n            classes={{ root: classes.tabPanelItem }}\n          />\n\n          {/* GRUPOS */}\n          {user.allowGroup && (\n            <Tab\n              label={\n                <Grid container alignItems=\"center\" justifyContent=\"center\">\n                  <Grid item>\n                    <Badge\n                      overlap=\"rectangular\"\n                      classes={{ badge: classes.customBadge }}\n                      badgeContent={groupingCount}\n                      color=\"primary\"\n                    >\n                      <Group\n                        style={{\n                          fontSize: 18,\n                        }}\n                      />\n                    </Badge>\n                  </Grid>\n                  <Grid item>\n                    <Typography\n                      style={{\n                        marginLeft: 8,\n                        fontSize: 10,\n                        fontWeight: 600,\n                      }}\n                    >\n                      {i18n.t(\"ticketsList.groupingHeader\")}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              }\n              value={\"group\"}\n              name=\"group\"\n              classes={{ root: classes.tabPanelItem }}\n            />\n          )}\n        </Tabs>\n\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n            setTabOpen={setTabOpen}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\n            showAll={user.profile === \"admin\" || user.allUserChat === 'enabled' ? showAllTickets : false}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n            setTabOpen={setTabOpen}\n          />\n          {user.allowGroup && (\n            <TicketsList\n              status=\"group\"\n              showAll={showAllTickets}\n              sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\n              selectedQueueIds={selectedQueueIds}\n              updateCount={(val) => setGroupingCount(val)}\n              style={applyPanelStyle(\"group\")}\n              setTabOpen={setTabOpen}\n            />\n          )}\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={showAllTickets}\n          selectedQueueIds={selectedQueueIds}\n          setTabOpen={setTabOpen}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        {profile === \"admin\" && (\n          <>\n            <TicketsList\n              statusFilter={selectedStatus}\n              searchParam={searchParam}\n              showAll={showAllTickets}\n              tags={selectedTags}\n              users={selectedUsers}\n              selectedQueueIds={selectedQueueIds}\n              whatsappIds={selectedWhatsapp}\n              forceSearch={forceSearch}\n              searchOnMessages={searchOnMessages}\n              status=\"search\"\n            />\n          </>\n        )}\n\n        {profile === \"user\" && (\n          <TicketsList\n            statusFilter={selectedStatus}\n            searchParam={searchParam}\n            showAll={false}\n            tags={selectedTags}\n            selectedQueueIds={selectedQueueIds}\n            whatsappIds={selectedWhatsapp}\n            forceSearch={forceSearch}\n            searchOnMessages={searchOnMessages}\n            status=\"search\"\n          />\n        )}\n      </TabPanel>\n    </Paper >\n  );\n};\n\nexport default TicketsManagerTabs;\n","class FormatMask {\n  setPhoneFormatMask(phoneToFormat) {\n    if(!phoneToFormat || phoneToFormat.length < 12){\n      return phoneToFormat;\n    }\n\n    const number = (\"\" + phoneToFormat).replace(/\\D/g, \"\");\n\n    if (number.length <= 12) {\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{4})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    }else if(number.length === 13){\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{5})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    } else {\n      return phoneToFormat;\n    }\n\n    return null;\n  }\n\n  removeMask(number) {\n    const filterNumber = number.replace(/\\D/g, \"\");\n    return filterNumber;\n  }\n\n  maskPhonePattern(phoneNumber){\n    if(phoneNumber.length < 13){\n      return ' (99) 9999 9999';\n    }else{\n      return ' (99) 99999 9999';\n    }\n  }\n}\n\nexport { FormatMask };","import { FormatMask } from './FormatMask';\n\nconst formatSerializedId = (serializedId) => {\n  const formatMask = new FormatMask();\n  const number = serializedId?.replace('@c.us', '');\n\n  return formatMask.setPhoneFormatMask(number)?.replace('+55', '');\n};\n\nexport default formatSerializedId;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: \"auto\", // Redimensionar automaticamente a altura para manter a proporo\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t}\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t\tshowRotate={true}\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={160}\n\t\t\t\t\t\t\theight={160}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem(props) {\n    const { note, deleteItem, editItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    const handleEdit = (item) => {\n        editItem(item);\n    }\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction style={{ display: 'flex', flexDirection: 'column' }}>\n                {/* <IconButton onClick={() => handleEdit(note)} edge=\"end\" aria-label=\"edit\">\n                    <EditIcon />\n                </IconButton> */}\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n\n        </ListItem>\n    )\n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function ContactNotesEditModal({ open, onClose, note, onSave }) {\n  const [editedNote, setEditedNote] = useState(note);\n\n  const handleSave = () => {\n    onSave(editedNote); // Chama a funo onSave com a nota editada\n    onClose(); // Fecha o dilogo de edio\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} \n    maxWidth=\"xs\"\n    fullWidth\n    >\n      <DialogTitle>Edit Note</DialogTitle>\n      <DialogContent>\n        <TextField\n          label=\"Edit Note\"\n          fullWidth\n          multiline\n          rows={4}\n          value={note}\n          onChange={(e) => setEditedNote(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSave} color=\"primary\">\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const editNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/ticket-notes/${data.id}`,\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\nimport ContactNotesEditModal from '../ContactNotesEditModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n    note: Yup.string()\n        .min(2, \"Too Short!\")\n        .required(\"Required\")\n});\nexport function ContactNotes({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n    const [editingNote, setEditingNote] = useState(null);\n\n    useEffect(() => {\n        async function openAndFetchData() {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleEdit = (note) => {\n        console.log(note)\n        setEditingNote(note);\n    };\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observao adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observao excluda com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n                editItem={() => handleEdit(note)}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ContactNotesEditModal\n                open={editingNote !== null}\n                onClose={() => setEditingNote(null)}\n                note={editingNote ? editingNote.note : ''}\n                onSave={handleSave}\n            />\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            {notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        {renderNoteList()}\n                                    </List>\n                                </Grid>\n                            )}\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import { Chip, Paper, Select, MenuItem, Grid, InputLabel, FormControl } from \"@material-ui/core\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Field, Form } from \"formik\";\nconst useStyles = makeStyles((theme) => ({\n    menuListItem: {\n        paddingTop: 0,\n        paddingBottom: 0,\n        border: \"none\",\n    },\n    menuItem: {\n        maxHeight: 30,\n    },\n\n    chips: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    chip: {\n        margin: 2,\n    },\n}));\nexport function TagsKanbanContainer({ ticket }) {\n    const classes = useStyles();\n\n    const [tags, setTags] = useState([]);\n    const [selected, setSelected] = useState(\"\"); // Alterado de null para \"\"\n\n    useEffect(() => {\n        let isMounted = true;\n        loadTags(isMounted).then(() => {\n            if (ticket.tags && ticket.tags.length > 0) {\n                setSelected(ticket.tags[0].id); // Alterado para pegar o ID da primeira tag, se existir\n            }\n        });\n\n        return () => {\n            isMounted = false;\n        };\n    }, [ticket.tags]);\n\n    const loadTags = async (isMounted) => {\n        try {\n            const { data } = await api.get(`/tags/list`, { params: { kanban: 1 } });\n            if (isMounted) {\n                setTags(data);\n            }\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (e) => {\n        const value = e.target.value;\n        if (ticket.tags.length > 0) {\n            await api.delete(`/ticket-tags/${ticket.id}`);\n            // toast.success('Ticket Tag Removido!');\n        }\n        if (value !== null) {\n            await api.put(`/ticket-tags/${ticket.id}/${value}`);\n            // toast.success('Ticket Tag Adicionado com Sucesso!');\n        }\n        setSelected(value);\n        // Adicione sua lgica de manipulao de tags aqui\n    }\n\n    const renderSelectedValue = () => {\n        const selectedTag = tags.find(tag => tag.id === selected);\n        if (!selectedTag) return null;\n\n        return (\n            <Chip\n                style={{\n                    backgroundColor: selectedTag.color,\n                    color: \"#FFF\",\n                    marginRight: 1,\n                    padding: 1,\n                    fontWeight: 'bold',\n                    paddingLeft: 5,\n                    paddingRight: 5,\n                    borderRadius: 3,\n                    fontSize: \"0.8em\",\n                    whiteSpace: \"nowrap\"\n                }}\n                label={selectedTag.name}\n                size=\"small\"\n            />\n        );\n    };\n\n    return (\n        <>\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                <InputLabel id=\"tag-kanban-id\">{i18n.t(\"Etapa Kanban\")}</InputLabel>\n                <Select\n                    labelWidth={60}\n                    value={selected}\n                    labelId=\"tag-kanban-id\"\n                    label={i18n.t(\"Etapa Kanban\")}\n                    onChange={onChange}\n                    MenuProps={{\n                        anchorOrigin: {\n                            vertical: \"bottom\",\n                            horizontal: \"left\",\n                        },\n                        transformOrigin: {\n                            vertical: \"top\",\n                            horizontal: \"left\",\n                        },\n                        getContentAnchorEl: null,\n                    }}\n                    renderValue={renderSelectedValue}\n                >\n                    <MenuItem value={null}>&nbsp;</MenuItem>\n                    {tags.map(tag => (\n                        <MenuItem key={tag.id} value={tag.id}>\n                            {tag.name}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </FormControl>\n        </>\n    )\n}\n","import React, { useEffect, useState, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n// import Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { i18n } from \"../../translate/i18n\";\nimport ModalImageCors from \"../ModalImageCors\"\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader, Switch, Tooltip } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\n\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.inputBackground,\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"50px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.inputBackground,\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\tjustifyContent: \"center\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t\tborderRadius: 10,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [blockingContact, setBlockingContact] = useState(contact.active);\n\tconst [openForm, setOpenForm] = useState(false);\n\tconst { get } = useCompanySettings();\n\tconst [hideNum, setHideNum] = useState(false);\n\tconst { user } = useContext(AuthContext);\n    const [acceptAudioMessage, setAcceptAudio] = useState(contact.acceptAudioMessage);\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\n\t\t\tconst lgpdHideNumber = await get({\n\t\t\t\t\"column\": \"lgpdHideNumber\"\n\t\t\t});\n\n\t\t\tif (lgpdHideNumber === \"enabled\") setHideNum(true);\n\n\t\t}\n\t\tfetchData();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\t\n\n\tconst handleContactToggleAcceptAudio = async () => {\n        try {\n            const contact = await api.put(`/contacts/toggleAcceptAudio/${ticket.contact.id}`);\n            setAcceptAudio(contact.data.acceptAudioMessage);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n\tconst handleBlockContact = async (contactId) => {\n\t\ttry {\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: false });\n\t\t\ttoast.success(\"Contato bloqueado\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\n\t\tsetBlockingContact(true);\n\t};\n\n\tconst handleUnBlockContact = async (contactId) => {\n\t\ttry {\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: true });\n\t\t\ttoast.success(\"Contato desbloqueado\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetBlockingContact(false);\n\t};\n\n\tif (loading) return null;\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{!loading ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tchecked={acceptAudioMessage}\n\t\t\t\t\t\t\t\t\tonChange={() => handleContactToggleAcceptAudio()}\n\t\t\t\t\t\t\t\t\tname=\"disableBot\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")}\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (<br />)}\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<ModalImageCors imageUrl={contact?.urlPicture} />\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => { }}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{ fontSize: 16, marginLeft: 5 }} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: 12 }}>\n\t\t\t\t\t\t\t\t\t\t\t{hideNum && user.profile === \"user\" ? formatSerializedId(contact.number).slice(0, -6) + \"**-**\" + contact.number.slice(-2) : formatSerializedId(contact.number)}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: \"primary\", fontSize: 12 }}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 12 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={() => contact.active\n\t\t\t\t\t\t\t\t\t? handleBlockContact(contact.id)\n\t\t\t\t\t\t\t\t\t: handleUnBlockContact(contact.id)}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{!contact.active ? \"Desbloquear contato\" : \"Bloquear contato\"}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<TagsKanbanContainer ticket={ticket} className={classes.contactTags} />\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst ContactSendModal = ({ modalOpen, onClose }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [newContact, setNewContact] = useState({});\n  \n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user, socket } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam, channel: \"whatsapp\", isGroup: \"false\" },\n          });\n\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleSendVcard = async contact => {\n    if (!contact) return;\n    \n    setLoading(true);\n    try {\n      onClose(contact);\n    } catch (err) {\n    }\n    setLoading(false);\n  };\n\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);    \n  };\n\n  const handleAddNewContactTicket = contact => {\n    handleSendVcard(contact);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"SendContactModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"SendContactModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSendVcard(selectedContact);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    return null;\n  }\n\n  return (\n    <>\n      <ContactModal\n        open={contactModalOpen}\n        initialValues={newContact}\n        onClose={handleCloseContactModal}\n        onSave={handleAddNewContactTicket}\n      ></ContactModal>\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"SendContactModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"SendContactModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSendVcard(selectedContact)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"SendContactModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </Dialog >\n    </>\n  );\n};\nexport default ContactSendModal;","import React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\n\nModal.setAppElement('#root');\n\n\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\n  },\n  content: {\n    width: '80%',\n    height: '70%',\n    maxWidth: '780px',\n    maxHeight: '85vh',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '8px',\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n    border: 'none',\n    padding: '0',\n    background: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n};\n\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\n  const [capturedImage, setCapturedImage] = useState(null);\n\n  const handleTakePhoto = (dataUri) => {\n    setCapturedImage(dataUri);\n  };\n\n  const handleConfirm = () => {\n\n    // Converta a imagem capturada em um arquivo (Blob)\n    fetch(capturedImage)\n      .then((res) => res.blob())\n      .then((blob) => {\n        // Chame a funo de retorno com o arquivo da imagem capturada\n        onCapture(blob);\n      });\n\n    // Feche o modal\n    setCapturedImage(null);\n    onRequestClose();\n  };\n\n  return (\n   <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}  \n      style={customStyles}    \n    >\n       <div style={{ flex: 1 }}>\n          <Camera\n            onTakePhoto={handleTakePhoto}\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\n            isImageMirror={false}\n            style={customStyles}\n          />\n        </div>\n        {capturedImage && \n          handleConfirm()\n        }\n    </Modal>\n  );\n};\n\nexport default ModalCamera;\n","import React, { useState, createContext } from \"react\";\n\nconst ForwardMessageContext = createContext();\n\nconst ForwardMessageProvider = ({ children }) => {\n\tconst [showSelectMessageCheckbox, setShowSelectMessageCheckbox] = useState(false);\n\tconst [selectedMessages, setSelectedMessages] = useState([]);\n\tconst [forwardMessageModalOpen, setForwardMessageModalOpen] = useState(false);\n\treturn (\n\t\t<ForwardMessageContext.Provider\n\t\t\tvalue={{\n\t\t\t\tshowSelectMessageCheckbox, setShowSelectMessageCheckbox,\n\t\t\t\tselectedMessages, setSelectedMessages,\n\t\t\t\tforwardMessageModalOpen, setForwardMessageModalOpen\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ForwardMessageContext.Provider>\n\t);\n};\n\nexport { ForwardMessageContext, ForwardMessageProvider };\n","import { Button } from \"@material-ui/core\";\nimport React, { useRef, useEffect, useState } from \"react\";\n\nconst LS_NAME = 'audioMessageRate';\n\nconst AudioModal = ({url}) => {\n    const audioRef = useRef(null);\n    const [audioRate, setAudioRate] = useState(parseFloat(localStorage.getItem(LS_NAME) || \"1\"));\n    const [showButtonRate, setShowButtonRate] = useState(false);\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  \n    useEffect(() => {\n      audioRef.current.playbackRate = audioRate;\n      localStorage.setItem(LS_NAME, audioRate);\n    }, [audioRate]);\n  \n    useEffect(() => {\n      audioRef.current.onplaying = () => {\n        setShowButtonRate(true);\n      };\n      audioRef.current.onpause = () => {\n        setShowButtonRate(false);\n      };\n      audioRef.current.onended = () => {\n        setShowButtonRate(false);\n      };\n    }, []);\n  \n    const toggleRate = () => {\n      let newRate = null;\n  \n      switch (audioRate) {\n        case 0.5:\n          newRate = 1;\n          break;\n        case 1:\n          newRate = 1.5;\n          break;\n        case 1.5:\n          newRate = 2;\n          break;\n        case 2:\n          newRate = 0.5;\n          break;\n        default:\n          newRate = 1;\n          break;\n      }\n  \n      setAudioRate(newRate);\n    };\n  \n    const getAudioSource = () => {\n      let sourceUrl = url;\n  \n      if (isIOS) {\n        sourceUrl = sourceUrl.replace(\".ogg\", \".mp3\");\n      }\n  \n      return (\n        <source src={sourceUrl} type={isIOS ? \"audio/mp3\" : \"audio/ogg\"} />\n      );\n    };\n  \n    return (\n      <>\n        <audio ref={audioRef} controls>\n          {getAudioSource()}\n        </audio>\n        {showButtonRate && (\n          <Button\n            style={{ marginLeft: \"5px\", marginTop: \"-45px\" }}\n            onClick={toggleRate}\n          >\n            {audioRate}x\n          </Button>\n        )}\n      </>\n    );\n}\n\nexport default AudioModal;","import React, { useEffect, useMemo, useState } from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogContent,\n    DialogActions,\n    Typography,\n    IconButton,\n    TextField,\n    Card,\n    CardContent,\n} from '@mui/material';\nimport { Cancel, Search, Send, SkipNext, SkipPrevious } from '@material-ui/icons';\nimport AudioModal from '../AudioModal';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\nimport { InputAdornment, InputBase } from '@material-ui/core';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    modal: {\n        background: theme.palette.background.default,\n    },\n    messageInputWrapperPrivate: {\n        padding: 6,\n        marginRight: 7,\n        background: theme.palette.background.paper,\n        display: \"flex\",\n        borderRadius: 20,\n        flex: 1,\n        position: \"relative\",\n    },\n    buttonEnable: {\n        color: theme.mode === 'light' ? \"grey\" : \"#eee\",\n    },\n    buttonDisable: {\n        color: grey[400]\n    }\n}));\n\nconst MessageUploadMedias = ({ isOpen, files, onClose, onSend, onCancelSelection }) => {\n    const classes = useStyles();\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [captions, setCaptions] = useState(files.map(() => ''));\n    const [numPages, setNumPages] = React.useState(null);\n    const [componentMounted, setComponentMounted] = useState(false);\n    const [isTyping, setIsTyping] = useState(false);\n    const [firstTyping, setFirstTyping] = useState(false);\n\n    useEffect(() => {\n        setFirstTyping(true);\n        setComponentMounted(true);\n    }, []);\n\n    const onDocumentLoadSuccess = ({ numPages }) => {\n        setNumPages(numPages);\n    };\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const handlePrev = () => {\n        if (currentIndex > 0) {\n            setFirstTyping(true);\n            setCurrentIndex(currentIndex - 1);\n        }\n    };\n\n    const handleNext = () => {\n        if (currentIndex < files.length - 1) {\n            setFirstTyping(true);\n            setCurrentIndex(currentIndex + 1);\n        }\n    };\n\n    const handleTextFieldBlur = () => {\n        setIsTyping(false);\n    };\n\n    const handleCaptionChange = (e) => {\n        const value = e.target.value;\n        setCaptions((prevCaptions) => {\n            const updatedCaptions = [...prevCaptions];\n            updatedCaptions[currentIndex] = value;\n            return updatedCaptions;\n        });\n        if (firstTyping) {\n            setIsTyping(true);\n        }\n    };\n\n    const handleSend = () => {\n        const selectedMedias = files.map((file, index) => ({\n            file,\n            caption: captions[index],\n        }));\n        onSend(selectedMedias);\n        handleClose();\n    };\n\n    const renderFileContent = useMemo(() => {\n        if (!componentMounted) {\n            return null;\n        }\n        if (firstTyping) {\n            const currentFile = files[currentIndex];\n            if (currentFile.type.startsWith('image')) {\n                return (\n                    <>\n                        <div\n                            style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                height: \"400px\"\n                            }}\n                            className={classes.modal}\n                        >\n                            <img\n                                alt={`Imagem ${currentIndex + 1}`}\n                                src={URL.createObjectURL(currentFile)}\n                                style={{\n                                    maxWidth: \"600px\",\n                                    maxHeight: \"400px\",\n                                }}\n                            />\n                        </div>\n                        <div\n                            style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                            }}\n                            className={classes.modal}\n\n                        >\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\n                        </div>\n                    </>\n\n                );\n            } else if (currentFile.type === 'application/pdf') {\n                return (\n                    <>\n                        <div\n                            style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                height: '400px'\n                            }}\n                            className={classes.modal}\n\n                        >\n                            <Document file={URL.createObjectURL(currentFile)} onLoadSuccess={onDocumentLoadSuccess} >\n                                <Page pageNumber={1}\n                                    width={200}\n                                    height={300}\n                                />\n                            </Document>\n                        </div>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                            className={classes.modal}\n\n                        >\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\n                        </div>\n                    </>\n                );\n            } else if (currentFile.type.startsWith('video')) {\n                return (\n                    <>\n                        <div\n                            style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                height: '400px',\n                            }}\n                            className={classes.modal}\n\n                        >\n                            <video\n                                src={URL.createObjectURL(currentFile)}\n                                controls={true}\n                                volume={localStorage.getItem(\"volume\")}\n                                style={{\n                                    maxWidth: \"600px\",\n                                    maxHeight: \"400px\",\n                                }}\n                            />\n                        </div>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                            className={classes.modal}\n\n                        >\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\n                        </div>\n                    </>\n                );\n            } else if (currentFile.type.startsWith('audio')) {\n                return (\n                    <><div\n                        style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            height: '400px',\n                        }}\n                        className={classes.modal}\n\n                    >\n                        <AudioModal url={URL.createObjectURL(currentFile)} />\n                    </div>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                            className={classes.modal}\n\n                        >\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\n                        </div>\n                    </>\n                );\n            } else {\n                return (\n                    <div\n                        style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            height: '400px', // Altura desejada para vdeos, documentos e udios\n                        }}\n                        className={classes.modal}\n\n                    >\n                        <CardContent className={classes.modal}\n                        >\n                            <Typography variant=\"h6\">Visualizao no disponvel</Typography>\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\n                        </CardContent>\n                    </div>\n                );\n            }\n        }\n        return null;\n    }, [currentIndex, firstTyping]);\n\n    const handleKeyDown = (event) => {\n        if (event.key === 'Enter' && event.shiftKey) {\n            // const newCaptions = captions.slice();\n            // newCaptions[currentIndex] += '\\n';\n            // setCaptions(newCaptions);\n            return\n        }\n        switch (event.key) {\n            case 'Escape':\n                onCancelSelection();\n                break;\n            case 'Enter':\n                handleSend();\n                break;\n            case 'ArrowRight':\n                handleNext();\n                break;\n            case 'ArrowLeft':\n                handlePrev();\n                break;\n            default:\n                break;\n        }\n    };\n    return (\n        <div className={classes.modal}>\n            <Dialog\n                open={isOpen}\n                fullWidth\n                maxWidth=\"md\"\n                scroll=\"paper\"\n            >\n                <DialogContent className={classes.modal}>\n                    <Card>\n                        {renderFileContent}\n                        <CardContent className={classes.modal}>\n                            <div className={classes.messageInputWrapperPrivate}>\n                                <InputBase\n                                    placeholder=\"Legenda (opcional)\"\n                                    fullWidth\n                                    multiline\n                                    minRows={1}\n                                    maxRows={5}\n                                    value={captions[currentIndex]}\n                                    onChange={handleCaptionChange}\n                                    onBlur={handleTextFieldBlur}\n                                    autoFocus\n                                    onKeyDown={handleKeyDown}\n                                />\n                            </div>\n                        </CardContent>\n                    </Card>\n                </DialogContent>\n                <DialogActions className={classes.modal}>\n                    <IconButton onClick={handlePrev} disabled={currentIndex === 0}>\n                        <SkipPrevious className={currentIndex === 0 ? classes.buttonDisable : classes.buttonEnable} />\n                    </IconButton>\n                    <IconButton onClick={onCancelSelection} >\n                        <Cancel className={classes.buttonEnable} />\n                    </IconButton>\n                    <IconButton onClick={handleSend} >\n                        <Send className={classes.buttonEnable} />\n                    </IconButton>\n                    <IconButton onClick={handleNext} disabled={currentIndex === files.length - 1}>\n                        <SkipNext className={currentIndex === files.length - 1 ? classes.buttonDisable : classes.buttonEnable} />\n                    </IconButton>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default MessageUploadMedias;\n","import React, { useState, createContext } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst EditMessageContext = createContext();\n\nconst EditMessageProvider = ({ children }) => {\n\tconst [editingMessage, setEditingMessage] = useState(null);\n\n\treturn (\n\t\t<EditMessageContext.Provider\n\t\t\tvalue={{ editingMessage, setEditingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</EditMessageContext.Provider>\n\t);\n};\n\nexport { EditMessageContext, EditMessageProvider};\n","import React from \"react\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\n\nconst OutlinedDiv = ({\n  InputProps,\n  children,\n  InputLabelProps,\n  label,\n  ...other\n}) => {\n  return (\n    <TextField\n      {...other}\n      variant=\"outlined\"\n      label={label}\n      multiline\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\n      InputProps={{\n        inputComponent: InputComponent,\n        ...InputProps\n      }}\n      inputProps={{ children: children }}\n    />\n  );\n};\n\nexport default OutlinedDiv;","import React from \"react\";\nimport { Chip, makeStyles } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport OutlinedDiv from \"../OutlinedDiv\";\n\nconst useStyles = makeStyles(theme => ({\n    chip: {\n        margin: theme.spacing(0.5),\n        cursor: \"pointer\"\n    }\n}));\n\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\n    const classes = useStyles();\n\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        if (disabled) return;\n        onClick(value);\n    };\n\n    const msgVars = [\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\n            value: \"{{firstName}}\"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\n            value: \"{{name}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.user\"),\n            value: \"{{userName}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\n            value: \"{{ms}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\n            value: \"{{protocol}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.date\"),\n            value: \"{{date}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\n            value: \"{{hour}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.ticket_id\"),\n            value: \"{{ticket_id}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.queue\"),\n            value: \"{{queue}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.connection\"),\n            value: \"{{connection}} \"\n        }\n    ];\n\n    return (\n        <OutlinedDiv\n            margin=\"dense\"\n            fullWidth\n            label={i18n.t(\"messageVariablesPicker.label\")}\n            disabled={disabled}\n        >\n            {msgVars.map(msgVar => (\n                <Chip\n                    key={msgVar.value}\n                    onMouseDown={e => handleClick(e, msgVar.value)}\n                    label={msgVar.name}\n                    size=\"small\"\n                    className={classes.chip}\n                    color=\"primary\"\n                />\n            ))}\n        </OutlinedDiv>\n    );\n};\n\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, FieldArray } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, Typography } from \"@material-ui/core\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport { head } from \"lodash\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport useQueues from \"../../hooks/useQueues\";\nimport UserStatusIcon from \"../UserModal/statusIcon\";\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\t// multFieldLine: {\n\t// \tdisplay: \"flex\",\n\t// \t\"& > *:not(:last-child)\": {\n\t// \t\tmarginRight: theme.spacing(1),\n\t// \t},\n\t// },\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\t// formControl: {\n\t// \tmargin: theme.spacing(1),\n\t// \tminWidth: 120,\n\t// },\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\"),\n\tcontactId: Yup.number().required(\"Obrigatrio\"),\n\tsendAt: Yup.string().required(\"Obrigatrio\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst isMounted = useRef(true);\n\tconst { companyId } = user;\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\",\n\t\topenTicket: \"enabled\",\n\t\tticketUserId: \"\",\n\t\tqueueId: \"\",\n\t\tstatusTicket: \"closed\",\n\t\tintervalo: 1,\n\t\tvalorIntervalo: 0,\n\t\tenviarQuantasVezes: 1,\n\t\ttipoDias: 4,\n\t\tassinar: false\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tchannel: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\tconst [intervalo, setIntervalo] = useState(1);\n\t// const [valorIntervalo, setValorIntervalo] = useState(initialContact);\n\t// const [enviarQuantasVezes, setEnviarQuantasVezes] = useState(initialContact);\n\tconst [tipoDias, setTipoDias] = useState(4);\n\tconst [attachment, setAttachment] = useState(null);\n\tconst attachmentFile = useRef(null);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst messageInputRef = useRef();\n\tconst [channelFilter, setChannelFilter] = useState(\"whatsapp\");\n\tconst [whatsapps, setWhatsapps] = useState([]);\n\tconst [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState(null);\n\tconst { findAll: findAllQueues } = useQueues();\n\tconst [options, setOptions] = useState([]);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tconst loadQueues = async () => {\n\t\t\t\tconst list = await findAllQueues();\n\t\t\t\tsetAllQueues(list);\n\t\t\t\tsetQueues(list);\n\t\t\t};\n\t\t\tloadQueues();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\tsetSelectedQueue(\"\");\n\t\t\treturn;\n\t\t}\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tsetLoading(true);\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\");\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam]);\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.get(`/whatsapp/filter`, { params: { session: 0, channel: channelFilter } })\n\t\t\t.then(({ data }) => {\n\t\t\t\t// Mapear os dados recebidos da API para adicionar a propriedade 'selected'\n\t\t\t\tconst mappedWhatsapps = data.map((whatsapp) => ({\n\t\t\t\t\t...whatsapp,\n\t\t\t\t\tselected: false,\n\t\t\t\t}));\n\n\t\t\t\tsetWhatsapps(mappedWhatsapps);\n\t\t\t\tif (mappedWhatsapps.length && mappedWhatsapps?.length === 1){\n\t\t\t\t\tsetSelectedWhatsapps(mappedWhatsapps[0].id)\n\t\t\t\t}\n\t\t\t});\n\t}, [currentContact, channelFilter])\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name, channel: c.channel }));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\", channel: \"\" }, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tif (data.whatsapp) {\n\t\t\t\t\t\tsetSelectedWhatsapps(data.whatsapp.id);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.ticketUser) {\n\t\t\t\t\t\tsetSelectedUser(data.ticketUser);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.queueId) {\n\t\t\t\t\t\tsetSelectedQueue(data.queueId);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.intervalo) {\n\t\t\t\t\t\tsetIntervalo(data.intervalo);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.tipoDias) {\n\t\t\t\t\t\tsetTipoDias(data.tipoDias);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst filterOptions = createFilterOptions({\n\t\ttrim: true,\n\t});\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetAttachment(null);\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleAttachmentFile = (e) => {\n\t\tconst file = head(e.target.files);\n\t\tif (file) {\n\t\t\tsetAttachment(file);\n\t\t}\n\t};\n\n\tconst IconChannel = (channel) => {\n\t\tswitch (channel) {\n\t\t\tcase \"facebook\":\n\t\t\t\treturn <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n\t\t\tcase \"instagram\":\n\t\t\t\treturn <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n\t\t\tcase \"whatsapp\":\n\t\t\t\treturn <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n\t\t\tdefault:\n\t\t\t\treturn \"error\";\n\t\t}\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.name) {\n\t\t\treturn <>\n\t\t\t\t{IconChannel(option.channel)}\n\t\t\t\t<Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n\t\t\t\t\t{option.name}\n\t\t\t\t</Typography>\n\t\t\t</>\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = {\n\t\t\t...values, userId: user.id, whatsappId: selectedWhatsapps, ticketUserId: selectedUser?.id || null,\n\t\t\tqueueId: selectedQueue || null, intervalo: intervalo || 1, tipoDias: tipoDias || 4\n\t\t};\n\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\n\t\t\t\t\t\tformData\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\n\t\tconst el = messageInputRef.current;\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\n\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n\t\tawait new Promise(r => setTimeout(r, 100));\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n\t};\n\n\tconst deleteMedia = async () => {\n\t\tif (attachment) {\n\t\t\tsetAttachment(null);\n\t\t\tattachmentFile.current.value = null;\n\t\t}\n\n\t\tif (schedule.mediaPath) {\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\n\t\t\tsetSchedule((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaPath: null,\n\t\t\t}));\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\n\t\t\tif (typeof reload == \"function\") {\n\t\t\t\tconsole.log(reload);\n\t\t\t\tconsole.log(\"1\");\n\t\t\t\treload();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\n\t\t\t\tonConfirm={deleteMedia}\n\t\t\t>\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<div style={{ display: \"none\" }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\n\t\t\t\t\t\tref={attachmentFile}\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t\tsetChannelFilter(contact ? contact.channel : \"whatsapp\");\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"whatsappIds\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"whatsappIds\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\terror={touched.whatsappId && Boolean(errors.whatsappId)}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapps}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setSelectedWhatsapps(event.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsapps &&\n\t\t\t\t\t\t\t\t\t\t\t\t\twhatsapps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsapp.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"openTicket-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.openTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.openTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.openTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"openTicket-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"openTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"openTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.openTicket && Boolean(errors.openTicket)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid spacing={1} container>\n\t\t\t\t\t\t\t\t\t{/* SELECIONAR USUARIO */}\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => `${option.name}`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={selectedUser}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newValue.queues.length === 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(newValue.queues[0].id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(\"\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\n\t\t\t\t\t\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\trenderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid spacing={1} container style={{ marginTop: '-10px' }}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"statusTicket-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.statusTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.statusTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.statusTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"statusTicket-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"statusTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"statusTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.statusTicket && Boolean(errors.statusTicket)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\t\t// InputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t// \tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t// }}\n\t\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"assinar\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.assinar}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.assinar\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<h3>Recorrncia</h3>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tVoc pode escolher enviar a mensagem de forma recorrente e\n\t\t\t\t\t\t\t\t\tescolher o intervalo. Caso seja uma mensagem a ser enviada\n\t\t\t\t\t\t\t\t\tuma unica vez, no altere nada nesta seo.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Intervalo</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={intervalo}\n\t\t\t\t\t\t\t\t\t\t\t\t// name=\"intervalo\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIntervalo(e.target.value || 1)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Intervalo\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>Dias</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>Semanas</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>Meses</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Minutos</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valor do Intervalo\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"valorIntervalo\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\terror={touched.valorIntervalo && Boolean(errors.valorIntervalo)}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"enviarQuantasVezes\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\ttouched.enviarQuantasVezes &&\n\t\t\t\t\t\t\t\t\t\t\t\tBoolean(errors.enviarQuantasVezes)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Enviar quantas vezes</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={tipoDias}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTipoDias(e.target.value || 4)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Enviar normalmente em dias no teis</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={5}>Enviar um dia til antes</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={6}>Enviar um dia til depois</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport { useMediaQuery, useTheme } from '@material-ui/core';\nimport { isNil } from \"lodash\";\nimport {\n  CircularProgress,\n  ClickAwayListener,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Hidden,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Fab,\n} from \"@material-ui/core\";\nimport {\n  blue,\n  green,\n  pink,\n  grey,\n} from \"@material-ui/core/colors\";\nimport {\n  AttachFile,\n  CheckCircleOutline,\n  Clear,\n  Comment,\n  Create,\n  Description,\n  HighlightOff,\n  Mic,\n  Mood,\n  MoreVert,\n  Send,\n  PermMedia,\n  Person,\n  Reply,\n  Duo,\n  Timer,\n} from \"@material-ui/icons\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { CameraAlt } from \"@material-ui/icons\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nimport { isString, isEmpty } from \"lodash\";\nimport ContactSendModal from \"../ContactSendModal\";\nimport CameraModal from \"../CameraModal\";\nimport axios from \"axios\";\n\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport MessageUploadMedias from \"../MessageUploadMedias\";\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\nimport ScheduleModal from \"../ScheduleModal\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"25%\",\n  },\n  dropInfo: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: 15,\n    left: 0,\n    right: 0,\n  },\n  dropInfoOut: {\n    display: \"none\",\n  },\n  gridFiles: {\n    maxHeight: \"100%\",\n    overflow: \"scroll\",\n  },\n  newMessageBox: {\n    background: theme.palette.background.default,\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: theme.palette.background.paper,\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n  messageInputWrapperPrivate: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#F0E68C\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n\n  },\n  messageInputPrivate: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n    color: grey[800],\n\n  },\n  sendMessageIcons: {\n    color: grey[700],\n  },\n  ForwardMessageIcons: {\n    color: grey[700],\n    transform: 'scaleX(-1)'\n  },\n  uploadInput: {\n    display: \"none\",\n  },\n  viewMediaInputWrapper: {\n    maxHeight: \"100%\",\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n  sendAudioIcon: {\n    color: \"green\",\n  },\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n    backgroundColor: theme.palette.optionsBackground,\n  },\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\", //\"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: theme.palette.background.default,\n    padding: 0,\n    border: \"none\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"30px\",\n        \"&:hover\": {\n          background: theme.palette.background.paper,\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n  invertedFabMenu: {\n    border: \"none\",\n    borderRadius: 50, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    padding: theme.spacing(1),\n    backgroundColor: \"transparent\",\n    color: \"grey\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n    \"&:disabled\": {\n      backgroundColor: \"transparent !important\",\n    },\n  },\n  invertedFabMenuMP: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferncias\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[800],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuCont: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferncias\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuMeet: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferncias\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: green[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuDoc: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferncias\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: \"#7f66ff\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuCamera: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferncias\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: pink[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  flexContainer: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n  },\n  flexItem: {\n    flex: 1,\n  },\n}));\n\nconst MessageInput = ({ ticketId, ticketStatus, droppedFiles, contactId, ticketChannel }) => {\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mediasUpload, setMediasUpload] = useState([]);\n  const isMounted = useRef(true);\n\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [onDragEnter, setOnDragEnter] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } = useContext(ReplyMessageContext);\n  const { setEditingMessage, editingMessage } = useContext(EditMessageContext);\n  const { user } = useContext(AuthContext);\n  const [appointmentModalOpen, setAppointmentModalOpen] = useState(false);\n\n  const [signMessagePar, setSignMessagePar] = useState(false);\n  const { get: getSetting } = useCompanySettings();\n  const [signMessage, setSignMessage] = useState(true);\n  const [privateMessage, setPrivateMessage] = useState(false);\n  const [privateMessageInputVisible, setPrivateMessageInputVisible] = useState(false);\n  const [senVcardModalOpen, setSenVcardModalOpen] = useState(false);\n  const [showModalMedias, setShowModalMedias] = useState(false);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n\n  const isMobile = useMediaQuery('(max-width: 767px)'); // Ajuste o valor conforme necessrio\n  const [placeholderText, setPlaceHolderText] = useState(\"\");\n\n  // Determine o texto do placeholder com base no ticketStatus\n  useEffect(() => {\n    if (ticketStatus === \"open\" || ticketStatus === \"group\") {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderOpen\"));\n    } else {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderClosed\"));\n    }\n\n    // Limitar o comprimento do texto do placeholder apenas em ambientes mobile\n    const maxLength = isMobile ? 20 : Infinity; // Define o limite apenas em mobile\n\n    if (isMobile && placeholderText.length > maxLength) {\n      setPlaceHolderText(placeholderText.substring(0, maxLength) + \"...\");\n    }\n  }, [ticketStatus])\n\n  const {\n    selectedMessages,\n    setForwardMessageModalOpen,\n    showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n\n  useEffect(() => {\n    if (droppedFiles && droppedFiles.length > 0) {\n      const selectedMedias = Array.from(droppedFiles);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  }, [droppedFiles]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    if (editingMessage) {\n      setInputMessage(editingMessage.body);\n    }\n  }, [replyingMessage, editingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMediasUpload([]);\n      setReplyingMessage(null);\n      //setSignMessage(true);\n      setPrivateMessage(false);\n      setPrivateMessageInputVisible(false)\n      setEditingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage, setEditingMessage]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (isMounted.current)\n        setOnDragEnter(false);\n    }, 1000);\n    // eslint-disable-next-line\n  }, [onDragEnter === true]);\n\n  //permitir ativar/desativar firma\n  useEffect(() => {\n    const fetchSettings = async () => {\n      const setting = await getSetting({\n        \"column\": \"sendSignMessage\"\n      });\n\n      if (isMounted.current) {\n        if (setting.sendSignMessage === \"enabled\") {\n          setSignMessagePar(true);\n          const signMessageStorage = JSON.parse(\n            localStorage.getItem(\"persistentSignMessage\")\n          );\n          if (isNil(signMessageStorage)) {\n            setSignMessage(true)\n          } else {\n            setSignMessage(signMessageStorage);\n          }\n        } else {\n          setSignMessagePar(false);\n        }\n      }\n    };\n    fetchSettings();\n  }, []);\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  const handleSendLinkVideo = async () => {\n    const link = `https://meet.jit.si/${ticketId}`;\n    setInputMessage(link);\n  }\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n  };\n\n  const handlePrivateMessage = (e) => {\n    setPrivateMessage(!privateMessage);\n    setPrivateMessageInputVisible(!privateMessageInputVisible);\n  };\n\n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const [modalCameraOpen, setModalCameraOpen] = useState(false);\n\n  const handleCapture = (imageData) => {\n    if (imageData) {\n      handleUploadCamera(imageData);\n    }\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n    const selectedMedias = Array.from(e.target.files);\n    setMediasUpload(selectedMedias);\n    setShowModalMedias(true);\n  };\n\n  const handleChangeSign = (e) => {\n    getStatusSingMessageLocalstogare();\n  };\n\n  const handleOpenModalForward = () => {\n    if (selectedMessages.length === 0) {\n      setForwardMessageModalOpen(false)\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\n      return;\n    }\n    setForwardMessageModalOpen(true);\n  }\n\n  const getStatusSingMessageLocalstogare = () => {\n    const signMessageStorage = JSON.parse(\n      localStorage.getItem(\"persistentSignMessage\")\n    );\n    //si existe uma chave \"sendSingMessage\"\n    if (signMessageStorage !== null) {\n      if (signMessageStorage) {\n        localStorage.setItem(\"persistentSignMessage\", false);\n        setSignMessage(false);\n      } else {\n        localStorage.setItem(\"persistentSignMessage\", true);\n        setSignMessage(true);\n      }\n    } else {\n      localStorage.setItem(\"persistentSignMessage\", false);\n      setSignMessage(false);\n    }\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      const selectedMedias = Array.from(e.clipboardData.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n\n  const handleInputDrop = (e) => {\n    e.preventDefault();\n    if (e.dataTransfer.files[0]) {\n      const selectedMedias = Array.from(e.dataTransfer.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n\n  const handleUploadMedia = async (mediasUpload) => {\n    setLoading(true);\n    // e.preventDefault();\n\n    // Certifique-se de que a varivel medias esteja preenchida antes de continuar\n    if (!mediasUpload.length) {\n      console.log(\"Nenhuma mdia selecionada.\");\n      setLoading(false);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    formData.append(\"isPrivate\", privateMessage ? \"true\" : \"false\");\n    mediasUpload.forEach((media) => {\n      formData.append(\"body\", media.caption);\n      formData.append(\"medias\", media.file);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMediasUpload([]);\n    setShowModalMedias(false);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false)\n  };\n\n  const handleSendContatcMessage = async (vcard) => {\n    setSenVcardModalOpen(false);\n    setLoading(true);\n\n    if (isNil(vcard)) {\n      setLoading(false);\n      return;\n    }\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: null,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\",\n      vCard: vcard,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setEditingMessage(null);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false);\n  };\n\n  const handleSendMessage = async () => {\n\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const userName = privateMessage\n      ? `${user.name} - Mensagem Privada`\n      : user.name;\n\n    const sendMessage = inputMessage.trim();\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: (signMessage || privateMessage) && !editingMessage\n        ? `*${userName}:*\\n${sendMessage}`\n        : sendMessage,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\",\n    };\n\n    try {\n      if (editingMessage !== null) {\n        await api.post(`/messages/edit/${editingMessage.id}`, message);\n      } else {\n        await api.post(`/messages/${ticketId}`, message);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setPrivateMessage(false);\n    setEditingMessage(null);\n    setPrivateMessageInputVisible(false)\n    handleMenuItemClick();\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 90) {\n          truncatedMessage = m.message.substring(0, 90) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      if (isMounted.current) {\n\n        setQuickAnswer(options);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length >= 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n\n      if (firstWord === \"/\") {\n        setTypeBar(firstWord.indexOf(\"/\") > -1);\n\n        const filteredOptions = quickAnswers.filter(\n          (m) => m.label.toLowerCase().indexOf(inputMessage.toLowerCase()) > -1\n        );\n        setTypeBar(filteredOptions);\n      } else {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const disableOption = () => {\n    return (\n      loading ||\n      recording ||\n      (ticketStatus !== \"open\" && ticketStatus !== \"group\")\n    );\n  };\n\n  const handleUploadCamera = async (blob) => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.png`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d` : \"\");\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d${message}` : message);\n      formData.append(\"fromMe\", true);\n\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n      }\n    }\n  };\n\n\n  const handleUploadAudio = async () => {\n\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = ticketChannel === \"whatsapp\" ? `${new Date().getTime()}.mp3` : `${new Date().getTime()}.m4a`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n        setRecording(false);\n      }\n    }\n  };\n\n  const handleCloseModalMedias = () => {\n    setShowModalMedias(false);\n  };\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const handleSendContactModalOpen = async () => {\n    handleMenuItemClick();\n    setSenVcardModalOpen(true);\n  };\n\n  const handleCameraModalOpen = async () => {\n    handleMenuItemClick();\n    setModalCameraOpen(true);\n  };\n\n  const handleCancelSelection = () => {\n    setMediasUpload([]);\n    setShowModalMedias(false);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          {replyingMessage && (\n            <div className={classes.replyginMsgBody}>\n              {!message.fromMe && (\n                <span className={classes.messageContactName}>\n                  {message.contact?.name}\n                </span>\n              )}\n              {message.body}\n            </div>\n          )\n          }\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={disableOption()}\n          onClick={() => {\n            setReplyingMessage(null);\n            setEditingMessage(null);\n            setInputMessage(\"\");\n          }}\n        >\n          <Clear className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (mediasUpload.length > 0) {\n    return (\n\n      <Paper\n        elevation={0}\n        square\n        className={classes.viewMediaInputWrapper}\n        onDragEnter={() => setOnDragEnter(true)}\n        onDrop={(e) => handleInputDrop(e)}\n      >\n        {showModalMedias && (\n          <MessageUploadMedias\n            isOpen={showModalMedias}\n            files={mediasUpload}\n            onClose={handleCloseModalMedias}\n            onSend={handleUploadMedia}\n            onCancelSelection={handleCancelSelection}\n          />\n        )}\n\n      </Paper>\n    )\n  }\n  else {\n    return (\n      <>\n        {modalCameraOpen && (\n          <CameraModal\n            isOpen={modalCameraOpen}\n            onRequestClose={() => setModalCameraOpen(false)}\n            onCapture={handleCapture}\n          />\n        )}\n        {senVcardModalOpen && (\n          <ContactSendModal\n            modalOpen={senVcardModalOpen}\n            onClose={(c) => {\n              handleSendContatcMessage(c);\n            }}\n          />\n        )}\n        <Paper\n          square\n          elevation={0}\n          className={classes.mainWrapper}\n          onDragEnter={() => setOnDragEnter(true)}\n          onDrop={(e) => handleInputDrop(e)}\n        >\n          {(replyingMessage && renderReplyingMessage(replyingMessage)) || (editingMessage && renderReplyingMessage(editingMessage))}\n          <div className={classes.newMessageBox}>\n            <Hidden only={[\"sm\", \"xs\"]}>\n              <IconButton\n                aria-label=\"emojiPicker\"\n                component=\"span\"\n                disabled={disableOption()}\n                onClick={(e) => setShowEmoji((prevState) => !prevState)}\n              >\n                <Mood className={classes.sendMessageIcons} />\n              </IconButton>\n              {showEmoji ? (\n                <div className={classes.emojiBox}>\n                  <ClickAwayListener onClickAway={(e) => setShowEmoji(true)}>\n                    <Picker\n                      perLine={16}\n                      theme={\"dark\"}\n                      i18n={i18n}\n                      showPreview={true}\n                      showSkinTones={false}\n                      onSelect={handleAddEmoji}\n                    />\n                  </ClickAwayListener>\n                </div>\n              ) : null}\n\n              <Fab\n                disabled={disableOption()}\n                aria-label=\"uploadMedias\"\n                component=\"span\"\n                className={classes.invertedFabMenu}\n                onClick={handleOpenMenuClick}\n              >\n                <AddIcon />\n              </Fab>\n              <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleMenuItemClick}\n                id=\"simple-menu\"\n              >\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-img-button\"\n                    accept=\"image/*, video/*, audio/* \"\n                    // disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-img-button\">\n                    <Fab\n                      aria-label=\"upload-img\"\n                      component=\"span\"\n                      className={classes.invertedFabMenuMP}\n                    >\n                      <PermMedia />\n                    </Fab>\n                    {i18n.t(\"messageInput.type.imageVideo\")}\n                  </label>\n                </MenuItem>\n                <MenuItem onClick={handleCameraModalOpen}>\n                  <Fab className={classes.invertedFabMenuCamera}>\n                    <CameraAlt />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.cam\")}\n                </MenuItem>\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-doc-button\"\n                    accept=\"application/*, text/*\"\n                    // disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-doc-button\">\n                    <Fab aria-label=\"upload-img\"\n                      component=\"span\" className={classes.invertedFabMenuDoc}>\n                      <Description />\n                    </Fab>\n                    Documento\n                  </label>\n                </MenuItem>\n                <MenuItem onClick={handleSendContactModalOpen}>\n                  <Fab className={classes.invertedFabMenuCont}>\n                    <Person />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.contact\")}\n                </MenuItem>\n                <MenuItem onClick={handleSendLinkVideo}>\n                  <Fab className={classes.invertedFabMenuMeet}>\n                    <Duo />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.meet\")}\n                </MenuItem>\n              </Menu>\n              {/* <IconButton\n\t\t\t\t  aria-label=\"upload\"\n\t\t\t\t  component=\"span\"\n\t\t\t\t  disabled={disableOption()}\n\t\t\t\t  onMouseOver={() => setOnDragEnter(true)}\n\t\t\t\t>\n\t\t\t\t  <AttachFile className={classes.sendMessageIcons} />\n\t\t\t\t</IconButton> */}\n\n              {/* </label> */}\n              {signMessagePar && (\n                <Tooltip title={i18n.t(\"messageInput.tooltip.signature\")}>\n                  <IconButton\n                    aria-label=\"send-upload\"\n                    component=\"span\"\n                    onClick={handleChangeSign}\n                  >\n                    {signMessage === true ? (\n                      <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                    ) : (\n                      <Create style={{ color: \"grey\" }} />\n                    )}\n                  </IconButton>\n                </Tooltip>\n              )}\n              <Tooltip title={i18n.t(\"messageInput.tooltip.privateMessage\")}>\n                <IconButton\n                  aria-label=\"send-upload\"\n                  component=\"span\"\n                  onClick={handlePrivateMessage}\n                >\n                  {privateMessage === true ? (\n                    <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                  ) : (\n                    <Comment style={{ color: \"grey\" }} />\n                  )}\n                </IconButton>\n              </Tooltip>\n              {/* <Tooltip title={i18n.t(\"messageInput.tooltip.meet\")}>\n                <IconButton\n                  aria-label=\"send-upload\"\n                  component=\"span\"\n                  onClick={handleSendLinkVideo}\n                >\n                  <Duo style={{ color: \"grey\" }} />\n                </IconButton>\n              </Tooltip> */}\n            </Hidden>\n            <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n              <IconButton\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleOpenMenuClick}\n              >\n                <MoreVert></MoreVert>\n              </IconButton>\n              <Menu\n                id=\"simple-menu\"\n                keepMounted\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={handleMenuItemClick}\n              >\n                <MenuItem onClick={handleMenuItemClick}>\n                  <IconButton\n                    aria-label=\"emojiPicker\"\n                    component=\"span\"\n                    disabled={disableOption()}\n                    onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                  >\n                    <Mood className={classes.sendMessageIcons} />\n                  </IconButton>\n                </MenuItem>\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-button\"\n                    disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-button\">\n                    <IconButton\n                      aria-label=\"upload\"\n                      component=\"span\"\n                      disabled={disableOption()}\n                    >\n                      <AttachFile className={classes.sendMessageIcons} />\n                    </IconButton>\n                  </label>\n                </MenuItem>\n                {signMessagePar && (\n                  <Tooltip title=\"Habilitar/Desabilitar Assinatura\">\n                    <IconButton\n                      aria-label=\"send-upload\"\n                      component=\"span\"\n                      onClick={handleChangeSign}\n                    >\n                      {signMessage === true ? (\n                        <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                      ) : (\n                        <Create style={{ color: \"grey\" }} />\n                      )}\n                    </IconButton>\n                  </Tooltip>\n                )}\n                <Tooltip title=\"Habilitar/Desabilitar Comentrios\">\n                  <IconButton\n                    aria-label=\"send-upload\"\n                    component=\"span\"\n                    onClick={handlePrivateMessage}\n                  >\n                    {privateMessage === true ? (\n                      <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                    ) : (\n                      <Comment style={{ color: \"grey\" }} />\n                    )}\n                  </IconButton>\n                </Tooltip>\n              </Menu>\n            </Hidden>\n            <div className={classes.flexContainer}>\n              {privateMessageInputVisible && (\n                <div className={classes.flexItem}>\n                  <div className={classes.messageInputWrapperPrivate}>\n                    <InputBase\n                      inputRef={(input) => {\n                        input && input.focus();\n                        input && (inputRef.current = input);\n                      }}\n                      className={classes.messageInputPrivate}\n                      placeholder={\n                        ticketStatus === \"open\" || ticketStatus === \"group\"\n                          ? i18n.t(\"messagesInput.placeholderPrivateMessage\")\n                          : i18n.t(\"messagesInput.placeholderClosed\")\n                      }\n                      multiline\n                      maxRows={5}\n                      value={inputMessage}\n                      onChange={handleChangeInput}\n                      disabled={disableOption()}\n                      onPaste={(e) => {\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\n                          handleInputPaste(e);\n                      }}\n                      onKeyPress={(e) => {\n                        if (loading || e.shiftKey) return;\n                        else if (e.key === \"Enter\") {\n                          handleSendMessage();\n                        }\n                      }}\n\n                    />\n                    {typeBar ? (\n                      <ul className={classes.messageQuickAnswersWrapper}>\n                        {typeBar.map((value, index) => {\n                          return (\n                            <li\n                              className={classes.messageQuickAnswersWrapperItem}\n                              key={index}\n                            >\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                              <a onClick={() => handleQuickAnswersClick(value)}>\n                                {`${value.label} - ${value.value}`}\n                              </a>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    ) : (\n                      <div></div>\n                    )}\n                  </div>\n                </div>\n              )}\n              {!privateMessageInputVisible && (\n                <div className={classes.flexItem}>\n                  <div className={classes.messageInputWrapper}>\n                    <InputBase\n                      inputRef={(input) => {\n                        input && input.focus();\n                        input && (inputRef.current = input);\n                      }}\n                      className={classes.messageInput}\n                      placeholder={placeholderText}\n                      multiline\n                      maxRows={5}\n                      value={inputMessage}\n                      onChange={handleChangeInput}\n                      disabled={disableOption()}\n                      onPaste={(e) => {\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\n                          handleInputPaste(e);\n                      }}\n                      onKeyPress={(e) => {\n                        if (loading || e.shiftKey) return;\n                        else if (e.key === \"Enter\") {\n                          handleSendMessage();\n                        }\n                      }}\n                    />\n                    {typeBar ? (\n                      <ul className={classes.messageQuickAnswersWrapper}>\n                        {typeBar.map((value, index) => {\n                          return (\n                            <li\n                              className={classes.messageQuickAnswersWrapperItem}\n                              key={index}\n                            >\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                              <a onClick={() => handleQuickAnswersClick(value)}>\n                                {`${value.label} - ${value.value}`}\n                              </a>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    ) : (\n                      <div></div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n            {!privateMessageInputVisible && (\n              <>\n                <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\n                  <IconButton\n                    aria-label=\"scheduleMessage\"\n                    component=\"span\"\n                    onClick={() => setAppointmentModalOpen(true)}\n                    disabled={loading}\n                  >\n                    <Timer className={classes.sendMessageIcons} />\n                  </IconButton>\n                </Tooltip>\n                {inputMessage || showSelectMessageCheckbox ? (\n                  <>\n                    <IconButton\n                      aria-label=\"sendMessage\"\n                      component=\"span\"\n                      onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\n                      disabled={loading}\n                    >\n                      {showSelectMessageCheckbox ?\n                        <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\n                    </IconButton>\n                  </>\n                ) : recording ? (\n                  <div className={classes.recorderWrapper}>\n                    <IconButton\n                      aria-label=\"cancelRecording\"\n                      component=\"span\"\n                      fontSize=\"large\"\n                      disabled={loading}\n                      onClick={handleCancelAudio}\n                    >\n                      <HighlightOff className={classes.cancelAudioIcon} />\n                    </IconButton>\n                    {loading ? (\n                      <div>\n                        <CircularProgress className={classes.audioLoading} />\n                      </div>\n                    ) : (\n                      <RecordingTimer />\n                    )}\n\n                    <IconButton\n                      aria-label=\"sendRecordedAudio\"\n                      component=\"span\"\n                      onClick={handleUploadAudio}\n                      disabled={loading}\n                    >\n                      <CheckCircleOutline className={classes.sendAudioIcon} />\n                    </IconButton>\n                  </div>\n                ) : (\n                  <IconButton\n                    aria-label=\"showRecorder\"\n                    component=\"span\"\n                    disabled={disableOption()}\n                    onClick={handleStartRecording}\n                  >\n                    <Mic className={classes.sendMessageIcons} />\n                  </IconButton>\n                )}\n              </>\n            )}\n\n            {privateMessageInputVisible && (\n              <>\n                <IconButton\n                  aria-label=\"sendMessage\"\n                  component=\"span\"\n                  onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\n                  disabled={loading}\n                >\n                  {showSelectMessageCheckbox ?\n                    <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\n                </IconButton>\n              </>\n            )}\n            {appointmentModalOpen && (\n              <ScheduleModal\n                open={appointmentModalOpen}\n                onClose={() => setAppointmentModalOpen(false)}\n                message={inputMessage}\n                contactId={contactId}\n              />\n            )}\n          </div>\n        </Paper>\n      </>\n    );\n  }\n};\n\nexport default MessageInput;\n\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\t// backgroundColor: \"#eee\",\n\t\tbackground: theme.palette.tabHeaderBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\theight: \"65px\"\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React, { useEffect } from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\t// backgroundColor: \"#eee\",\n\t\tbackground: theme.palette.total,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\theight: \"65px\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexWrap: \"wrap\",\n\t\t\theight: 'max-content'\n\t\t},\n\t},\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst handleBack = () => {\n\n\t\thistory.push(\"/tickets\");\n\t};\n\n\t// useEffect(() => {\n\t// \tconst handleKeyDown = (event) => {\n\t// \t\tif (event.key === \"Escape\") {\n\t// \t\t\thandleBack();\n\t// \t\t}\n\t// \t};\n\t// \tdocument.addEventListener(\"keydown\", handleKeyDown);\n\t// \treturn () => {\n\t// \t\tdocument.removeEventListener(\"keydown\", handleKeyDown);\n\t// \t};\n\t// }, [history]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card\n\t\t\t\t\tsquare\n\t\t\t\t\tclassName={classes.ticketHeader}\n\t\t\t\t>\n\t\t\t\t\t<Button color=\"primary\" onClick={handleBack}>\n\t\t\t\t\t\t<ArrowBackIos />\n\t\t\t\t\t</Button>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState } from \"react\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Avatar, CardHeader, Grid, TextField, Input, InputAdornment, InputLabel } from \"@material-ui/core\";\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst [amount, setAmount] = useState(\"\");\n\n\tconst renderCardReader = () => {\n\t\treturn (\n\t\t\t<CardHeader\n\t\t\t\tonClick={onClick}\n\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={<Avatar src={contact?.urlPicture} alt=\"contact_image\" />}\n\t\t\t\ttitle={`${contact?.name || '(sem contato)'} #${ticket.id}`}\n\t\t\t\tsubheader={\n\t\t\t\t\tticket.user &&\n\t\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t\t}\n\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst handleChange = (event) => {\n\t\tconst value = event.target.value;\n\n\t\tsetAmount(value);\n\t}\n\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Grid container alignItems=\"center\" spacing={10}>\n\t\t\t\t{/* Contedo do contato  esquerda */}\n\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t{renderCardReader()}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useState, useEffect } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\nimport { i18n } from '../../translate/i18n';\nimport { Stepper, Step, StepLabel, Typography, Paper, Grid } from '@material-ui/core';\nimport { format, parseISO } from 'date-fns';\nimport api from '../../services/api';\nimport toastError from \"../../errors/toastError\";\n\nconst ShowTicketLogModal = ({ isOpen, handleClose, ticketId }) => {\n  const [activeStep, setActiveStep] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [logs, setLogs] = useState([]);\n\n  const typeDescriptions = {\n    create: i18n.t(\"showTicketLogModal.options.create\"),\n    chatBot: i18n.t(\"showTicketLogModal.options.chatBot\"),\n    queue: i18n.t(\"showTicketLogModal.options.queue\"),\n    open: i18n.t(\"showTicketLogModal.options.open\"),\n    access: i18n.t(\"showTicketLogModal.options.access\"),\n    transfered: i18n.t(\"showTicketLogModal.options.transfered\"),\n    receivedTransfer: i18n.t(\"showTicketLogModal.options.receivedTransfer\"),\n    pending: i18n.t(\"showTicketLogModal.options.pending\"),\n    closed: i18n.t(\"showTicketLogModal.options.closed\"),\n    reopen: i18n.t(\"showTicketLogModal.options.reopen\"),\n    redirect: i18n.t(\"showTicketLogModal.options.redirect\")\n    // Adicione outros mapeamentos conforme necessrio\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchLogs = async () => {\n        try {\n          const { data } = await api.get(`/tickets-log/${ticketId}`);\n          setLogs(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchLogs();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId]);\n\n  return (\n    <Dialog open={isOpen} onClose={handleClose}>\n      <DialogTitle>{i18n.t('showTicketLogModal.title.header')}</DialogTitle>\n      <DialogContent>\n        <Paper>\n          <DialogContentText>\n            <Stepper activeStep={activeStep} orientation=\"vertical\">\n              {logs.map((log, index) => (\n                <Step key={index}>\n                  <StepLabel>\n                    {`${log.type === 'access' ||\n                      log.type === 'transfered' ||\n                      log.type === 'open' || log.type === 'pending' || log.type === \"closed\" || log.type === \"reopen\"\n                      ? log?.user?.name\n                      : log?.type === 'queue' || log?.type === 'redirect'\n                        ? log?.queue?.name\n                        : log.type === 'receivedTransfer'\n                          ? log?.queue?.name + ' - ' + log?.user?.name\n                          : ''} \n                    ${typeDescriptions[log.type]} - ${format(\n                            parseISO(log?.createdAt),\n                            'dd/MM/yyyy HH:mm'\n                          )}`}\n                  </StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n          </DialogContentText>\n        </Paper>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ShowTicketLogModal;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, useTheme, } from \"@material-ui/core\";\nimport { isNil } from 'lodash';\nimport ShowTicketOpen from '../ShowTicketOpenModal';\nimport { grey } from '@material-ui/core/colors';\n\nconst VcardPreview = ({ contact, numbers, queueId, whatsappId }) => {\n    const theme = useTheme();\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const companyId = user.companyId;\n\n    const [openAlert, setOpenAlert] = useState(false);\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n    const [selectedContact, setContact] = useState({\n        id: 0,\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    // useEffect(() => {\n    //     const delayDebounceFn = setTimeout(() => {\n    //         const fetchContacts = async () => {\n    //             try {\n    //                 const number = numbers.replace(/\\D/g, \"\");\n    //                 const { data } = await api.get(`/contacts/profile/${number}`);\n\n    //                 let obj = {\n    //                     id: data.contactId,\n    //                     name: contact,\n    //                     number: numbers,\n    //                     profilePicUrl: data.profilePicUrl\n    //                 }\n\n    //                 setContact(obj)\n\n    //             } catch (err) {\n    //                 console.log(err)\n    //                 toastError(err);\n    //             }\n    //         };\n    //         fetchContacts();\n    //     }, 500);\n    //     return () => clearTimeout(delayDebounceFn);\n    // }, [contact, numbers]);\n\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    if (isNil(numbers)) {\n                        return\n                    }\n                    const number = numbers.replace(/\\D/g, \"\");\n                    const getData = await api.get(`/contacts/profile/${number}`);\n\n                    if (getData.data.contactId && getData.data.contactId !== 0) {\n                        let obj = {\n                            id: getData.data.contactId,\n                            name: contact,\n                            number: numbers,\n                            profilePicUrl: getData.data.urlPicture\n                        }\n\n                        setContact(obj)\n                    } else {\n                        let contactObj = {\n                            name: contact,\n                            number: number,\n                            email: \"\",\n                            companyId: companyId\n                        }\n\n                        const { data } = await api.post(\"/contacts\", contactObj);\n                        setContact(data)\n                    }\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [companyId, contact, numbers]);\n\n    const handleCloseAlert = () => {\n        setOpenAlert(false);\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n    };\n\n    const handleNewChat = async () => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n                queueId,\n                companyId: companyId,\n                whatsappId\n            });\n\n            history.push(`/tickets/${ticket.uuid}`);\n        } catch (err) {\n            const ticket = JSON.parse(err.response.data.error);\n\n            if (ticket.userId !== user?.id) {\n                setOpenAlert(true);\n                setUserTicketOpen(ticket.user.name);\n                setQueueTicketOpen(ticket.queue.name);\n            } else {\n                setOpenAlert(false);\n                setUserTicketOpen(\"\");\n                setQueueTicketOpen(\"\");\n\n                history.push(`/tickets/${ticket.uuid}`);\n            }\n        }\n    }\n\n    return (\n        <>\n            <div style={{\n                minWidth: \"250px\",\n            }}>\n                <ShowTicketOpen\n                    isOpen={openAlert}\n                    handleClose={handleCloseAlert}\n                    user={userTicketOpen}\n                    queue={queueTicketOpen}\n                />\n                <Grid container spacing={1}>\n                    <Grid item xs={2}>\n                        <Avatar src={`${selectedContact?.urlPicture}`} />\n                    </Grid>\n                    <Grid item xs={9}>\n                        <Typography\n                            style={{ marginTop: \"12px\", marginLeft: \"10px\" }}\n                            color=\"primary\"\n                            variant=\"subtitle1\"\n                            gutterBottom\n                        >\n                            {selectedContact.name}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Divider />\n                        <Button\n                            fullWidth\n                            color=\"primary\"\n                            onClick={handleNewChat}\n                            disabled={!selectedContact.number}\n                        >Conversar</Button>\n                    </Grid>\n                </Grid>\n            </div>\n        </>\n    );\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography } from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n\tuseEffect(() => { }, [image, link, description]);\n\n\tconst handleLocation = async () => {\n\t\ttry {\n\t\t\twindow.open(link);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\"; \nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Typography } from \"@mui/material\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\n\nconst ForwardMessageModal = ({ messages, onClose, modalOpen }) => {\n    const [optionsContacts, setOptionsContacts] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\tconst [sending, setSending] = useState(false);\n\tconst [messageSending, setMessageSending] = useState('');\n\tconst [signMessage, setSignMessage] = useState(true);\n\n    useEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log('contacts', data.contacts);\n\t\t\t\t\tsetOptionsContacts(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst history = useHistory();\n\n\tconst sleep = (ms) => {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t};\n\n    const handleForwardMessage = async(contactL) => {\n\t\tconst responseList = [];\n\t\tfor (const message of messages) {\n\t\t\tsetSending(true);\n\t\t\ttry {\n\t\t\t\tsetMessageSending(message.id);\n\t\t\t\tconst response = await api.post('/message/forward', {messageId: message.id, contactId: contactL.id, signMessage: signMessage});\n\t\t\t\tresponseList.push(response);\n\t\t\t\tsleep(900);\n\t\t\t} catch (error) {\n\t\t\t\ttoastError(error);\n\t\t\t}\t\t\n\t\t}\n\t\tsetSending(false);\n\n\t\thistory.push('/tickets');\n    }\n\n    const handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n    const handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t\tsetSending(false);\n\t};\n\n    const handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n    const renderOption = optionL => {\n\t\tif (optionL.number) {\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\n\t\t} else {\n\t\t\treturn `Nenhum contato encontrado com o nome ${optionL.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = optionL => {\n\t\tif (optionL.number) {\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\n\t\t} else {\n\t\t\treturn `${optionL.name}`;\n\t\t}\n\t};\n\n\tconst filter = createFilterOptions({\n\t\ttrim: true,\n\t});\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n    return (\n        <>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\tEncaminhar mensagem\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={optionsContacts}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t// handleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{sending && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t<Typography variant=\"body1\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\tEnviando {messageSending}...\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ marginRight: 7, color: \"gray\" }}\n\t\t\t\t\t\tlabel={i18n.t(\"messagesInput.signMessage\")}\n\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tchecked={signMessage}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSignMessage(e.target.checked);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname=\"showAllTickets\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact || sending}\n\t\t\t\t\t\tonClick={() => handleForwardMessage(selectedContact)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\tEncaminhar\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n    );\n};\n\nexport default ForwardMessageModal;","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\n\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n// import { v4 as uuidv4 } from \"uuid\";\n\nimport toastError from \"../../errors/toastError\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ForwardModal from \"../ForwardMessageModal\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\nimport AcceptTicketWithoutQueue from \"../AcceptTicketWithoutQueueModal\";\n\nconst MessageOptionsMenu = ({\n  message,\n  menuOpen,\n  handleClose,\n  anchorEl,\n  isGroup,\n  queueId,\n  whatsappId\n}) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const editingContext = useContext(EditMessageContext);\n  const setEditingMessage = editingContext ? editingContext.setEditingMessage : null;\n  const { setTabOpen } = useContext(TicketsContext);\n  const history = useHistory();\n\n  const [openAlert, setOpenAlert] = useState(false);\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n  const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\n\n  const [ticketOpen, setTicketOpen] = useState(null);\n\n  const { showSelectMessageCheckbox,\n    setShowSelectMessageCheckbox,\n    selectedMessages,\n    forwardMessageModalOpen,\n    setForwardMessageModalOpen } = useContext(ForwardMessageContext);\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n        queueId: queueId,\n        whatsappId: whatsappId\n      });\n\n      setTicketOpen(ticket);\n      if (ticket.queueId === null) {\n        setAcceptTicketWithouSelectQueueOpen(true);\n      } else {\n        setTabOpen(\"open\");\n        history.push(`/tickets/${ticket.uuid}`);\n      }\n    } catch (err) {\n      const ticket = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket.user.name);\n        setQueueTicketOpen(ticket.queue.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n\n        // handleSelectTicket(ticket);\n        setTabOpen(ticket.status);\n        history.push(`/tickets/${ticket.uuid}`);\n      }\n    }\n    //setLoading(false);\n    handleClose();\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSetShowSelectCheckbox = () => {\n    setShowSelectMessageCheckbox(!showSelectMessageCheckbox);\n    handleClose();\n  };\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleEditMessage = async () => {\n    setEditingMessage(message);\n    handleClose();\n  }\n  // const handleForwardMessage = (msg) => {\n  //   setForwardModalOpen(true);\n  //   setForwardMessage(msg);\n  //   handleClose();\n  // };\n  // const handleCloseForwardModal = () => {\n\n  //   //setSelectedSchedule(null);\n  //   setForwardModalOpen(false);\n  //   handleClose();\n  // };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const isWithinFifteenMinutes = () => {\n    const fifteenMinutesInMilliseconds = 15 * 60 * 1000; // 15 minutos em milissegundos\n    const currentTime = new Date();\n    const messageTime = new Date(message.createdAt);\n\n    // Verifica se a diferena entre o tempo atual e o tempo da mensagem  menor que 15 minutos\n    return currentTime - messageTime <= fifteenMinutesInMilliseconds;\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <AcceptTicketWithoutQueue\n        modalOpen={acceptTicketWithouSelectQueueOpen}\n        onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\n        ticket={ticketOpen}\n        ticketId={ticketOpen?.id}\n      />\n      <ShowTicketOpen\n        isOpen={openAlert}\n        handleClose={handleCloseAlert}\n        user={userTicketOpen}\n        queue={queueTicketOpen}\n      />\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n\n      <ForwardModal\n        modalOpen={forwardMessageModalOpen}\n        messages={selectedMessages}\n        onClose={(e) => {\n          setForwardMessageModalOpen(false);\n          setShowSelectMessageCheckbox(false);\n        }}\n      />\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem key=\"delete\" onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        {message.fromMe && isWithinFifteenMinutes() && (\n          <MenuItem key=\"edit\" onClick={handleEditMessage}>\n            {i18n.t(\"messageOptionsMenu.edit\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n        <MenuItem onClick={handleSetShowSelectCheckbox}>\n          {i18n.t(\"messageOptionsMenu.forward\")}\n        </MenuItem>\n        {!message.fromMe && isGroup && (\n          <MenuItem onClick={() => handleSaveTicket(message?.contact?.id)}>\n            {i18n.t(\"messageOptionsMenu.talkTo\")}\n          </MenuItem>\n        )}\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;","export default __webpack_public_path__ + \"static/media/wa-background.cd00123e.png\";","export default __webpack_public_path__ + \"static/media/wa-background-dark.4c52474f.png\";","import React, { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\n\nconst YouTubePreview = ({ videoUrl }) => {\n  const [videoId, setVideoId] = useState('');\n\n  useEffect(() => {\n    // Extract the video ID from the URL\n    let videoId = videoUrl.split('v=')[1];\n\n    if (!videoId) {\n      const match = videoUrl.match(/(?:youtu\\.be\\/)([^?\\n]+)/);\n      videoId = match ? match[1] : null;\n\n    }\n\n    let ampersandPosition = videoId.indexOf('&');\n\n    if (ampersandPosition != -1) {\n      videoId = videoId.substring(0, ampersandPosition);\n    }\n    \n    setVideoId(videoId);\n  }, [videoUrl]);\n\n  const opts = {\n    height: '300',\n    width: '100%',\n  };\n\n  return (\n    <div>\n      {videoId && <YouTube videoId={videoId} opts={opts} style={{ borderRadius: 10, overflow: 'hidden' }} />}\n    </div>\n  );\n};\n\nexport default YouTubePreview;","import React, { useContext } from \"react\";\nimport toastError  from \"../../errors/toastError\";\nimport { Checkbox } from \"@mui/material\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\n\nconst SelectMessageCheckbox = ({ message }) => {\n    const [isChecked, setIsChecked] = React.useState(false);\n    const { showSelectMessageCheckbox,\n      setSelectedMessages,\n      selectedMessages,\n   } = useContext(ForwardMessageContext);\n\n    const handleSelectMessage = (e, message) => {\n        const list = selectedMessages;\n        if (e.target.checked) {\n          // if (list.length >= 4) {\n          //   toastError(\"No  possvel selecionar mais de 4 mensagens para encaminhar.\");\n          //   return;\n          // }\n          setIsChecked(true);\n          list.push(message);\n        } else {\n          const index = list.findIndex((m) => m.id === message.id);\n          list.splice(index, 1);\n          setIsChecked(true);\n        }\n        setSelectedMessages(list);\n      }\n\n    if (showSelectMessageCheckbox) {\n        return <Checkbox color=\"primary\" checked={isChecked} onChange={(e) => handleSelectMessage(e, message)}  />;\n    } else {\n        return null;\n    }\n}\n\nexport default SelectMessageCheckbox;","import React, { useContext, useState, useEffect, useReducer, useRef, memo, useCallback } from \"react\";\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\nimport { isNil } from \"lodash\";\nimport { blue, green, red } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n  Badge\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n  Facebook,\n  Instagram,\n  Reply,\n  Close,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport VcardPreview from \"../VcardPreview\";\nimport LocationPreview from \"../LocationPreview\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\";\nimport YouTubePreview from \"../ModalYoutubeCors\";\n\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport SelectMessageCheckbox from \"./SelectMessageCheckbox\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\nimport AudioModal from \"../AudioModal\";\nimport { messages } from \"../../translate/languages\";\nimport { useParams, useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  currentTick: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    backgroundColor: theme.palette.primary.main,\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"1px 5px 10px #b3b3b3\",\n  },\n\n  currentTicktText: {\n    color: theme.palette.primary,\n    fontWeight: 'bold',\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`,\n    backgroundColor: theme.mode === 'light' ? \"transparent\" : \"#0b0b0d\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 30px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  dragElement: {\n    background: 'rgba(255, 255, 255, 0.8)',\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 999999,\n    textAlign: \"center\",\n    fontSize: \"3em\",\n    border: \"5px dashed #333\",\n    color: '#333',\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  circleLoading: {\n    color: blue[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\n    color: theme.mode === 'light' ? \"#303030\" : \"#ffffff\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: theme.mode === 'light' ? \"#f0f0f0\" : \"#1d282f\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#388aff\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: theme.mode === 'light' ? \"#dcf8c6\" : \"#005c4b\",\n    color: theme.mode === 'light' ? \"#303030\" : \"#ffffff\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\n  },\n\n  messageRightPrivate: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#F0E68C\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: theme.mode === 'light' ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\"\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: theme.mode === 'light' ? \"#cfe9ba\" : \"#025144\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 400,\n    height: \"auto\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  forwardMessage: {\n    fontSize: 12,\n    fontStyle: \"italic\",\n    position: \"absolute\",\n    top: 0,\n    left: 5,\n    color: \"#999\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: blue[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  ackPlayedIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n    color: theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\n  },\n\n  messageCenter: {\n    marginTop: 5,\n    alignItems: \"center\",\n    verticalAlign: \"center\",\n    alignContent: \"center\",\n    backgroundColor: \"#E1F5FEEB\",\n    fontSize: \"12px\",\n    minWidth: 100,\n    maxWidth: 270,\n    color: \"#272727\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  deletedMessage: {\n    color: '#f55d65'\n  }\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({\n  isGroup,\n  onDrop,\n  whatsappId,\n  queueId,\n  channel\n}) => {\n  const classes = useStyles();\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const history = useHistory();\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const { ticketId } = useParams();\n\n  const currentTicketId = useRef(ticketId);\n  const { getAll } = useCompanySettings();\n  const [dragActive, setDragActive] = useState(false);\n\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(false);\n  const { selectedQueuesMessage } = useContext(QueueSelectedContext);\n\n  const { showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n\n  const { user, socket } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  useEffect(() => {\n\n    async function fetchData() {\n\n      const settings = await getAll(companyId);\n\n      let settinglgpdDeleteMessage;\n      let settingEnableLGPD;\n\n      for (const [key, value] of Object.entries(settings)) {\n\n        if (key === \"lgpdDeleteMessage\") settinglgpdDeleteMessage = value\n        if (key === \"enableLGPD\") settingEnableLGPD = value\n      }\n      if (settingEnableLGPD === \"enabled\" && settinglgpdDeleteMessage === \"enabled\") {\n        setLGPDDeleteMessage(true);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId, selectedQueuesMessage]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === \"undefined\") {\n          history.push(\"/tickets\");\n          return;\n        }\n        if (isNil(ticketId)) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber, selectedQueues: JSON.stringify(selectedQueuesMessage) },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n            setLoadingMore(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n          setLoadingMore(false);\n        }\n      };\n\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId, selectedQueuesMessage]);\n\n  useEffect(() => {\n    if (ticketId === \"undefined\") {\n      return;\n    }\n\n    const companyId = user.companyId;\n\n    //    const socket = socketManager.GetSocket();\n    const connectEventMessagesList = () => {\n      socket.emit(\"joinChatBox\", `${ticketId}`);\n    }\n\n    const onAppMessageMessagesList = (data) => {\n      if (data.action === \"create\" && data.ticket.uuid === ticketId) {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\" && data?.message?.ticket?.uuid === ticketId) {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n\n      if (data.action == \"delete\" && data.message.ticket?.uuid === ticketId) {\n        dispatch({ type: \"DELETE_MESSAGE\", payload: data.messageId });\n      }\n    }\n    socket.on(\"connect\", connectEventMessagesList);\n    socket.on(`company-${companyId}-appMessage`, onAppMessageMessagesList);\n\n    return () => {\n\n      socket.emit(\"joinChatBoxLeave\", `${ticketId}`)\n\n      socket.off(\"connect\", connectEventMessagesList);\n      socket.off(`company-${companyId}-appMessage`, onAppMessageMessagesList);\n    };\n\n  }, [ticketId]);\n\n  const loadMore = () => {\n    if (loadingMore) return;\n    setLoadingMore(true);\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\nconst scrollToBottom = () => {\n  setTimeout(() => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  }, 100);\n};\n\nconst handleScroll = (e) => {\n  if (!hasMore) return;\n  const { scrollTop } = e.currentTarget;\n\n  if (scrollTop === 0) {\n    document.getElementById(\"messagesList\").scrollTop = 1;\n  }\n\n  if (loading) {\n    return;\n  }\n\n  if (scrollTop < 50) {\n    loadMore();\n  }\n};\n\nconst handleOpenMessageOptionsMenu = (e, message) => {\n  setAnchorEl(e.currentTarget);\n  setSelectedMessage(message);\n};\n\nconst handleCloseMessageOptionsMenu = (e) => {\n  setAnchorEl(null);\n};\n\nconst hanldeReplyMessage = (e, message) => {\n  //if (ticket.status === \"open\" || ticket.status === \"group\") {\n  setAnchorEl(null);\n  setReplyingMessage(message);\n  //}\n};\n\nconst checkMessageMedia = (message) => {\n  console.log(message)\n  if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n    let locationParts = message.body.split('|')\n    let imageLocation = locationParts[0]\n    let linkLocation = locationParts[1]\n\n    let descriptionLocation = null\n\n    if (locationParts.length > 2)\n      descriptionLocation = message.body.split('|')[2]\n\n    return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n  } else\n\n    if (message.mediaType === \"contactMessage\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      // console.log(message)\n      return <VcardPreview contact={contact} numbers={obj[0]?.number} queueId={message?.ticket?.queueId} whatsappId={message?.ticket?.whatsappId} />\n    } else\n\n      if (message.mediaType === \"image\") {\n        return <ModalImageCors imageUrl={message.mediaUrl} />;\n      } else\n\n        if (message.mediaType === \"audio\") {\n          return (\n            <AudioModal url={message.mediaUrl} />\n            // <audio controls>\n            //   <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n            //   {/* <source src={message.mediaUrl} type=\"audio/mp3\"></source> */}\n            // </audio>\n          );\n        } else\n\n          if (message.mediaType === \"video\") {\n            return (\n              <video\n                className={classes.messageMedia}\n                src={message.mediaUrl}\n                controls\n              />\n            );\n          } else {\n            return (\n              <>\n                <div className={classes.downloadMedia}>\n                  <Button\n                    startIcon={<GetApp />}\n                    variant=\"outlined\"\n                    target=\"_blank\"\n                    href={message.mediaUrl}\n                  >\n                    Download\n                  </Button>\n                </div>\n                <Divider />\n              </>\n            );\n          }\n};\n\nconst renderMessageAck = (message) => {\n  if (message.ack === 0) {\n    return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n  } else\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    } else\n      if (message.ack === 2) {\n        return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n      } else\n        if (message.ack === 3 || message.ack === 4) {\n          return <DoneAll fontSize=\"small\" className={message.mediaType === \"audio\" ? classes.ackPlayedIcon : classes.ackDoneAllIcon} />;\n        } else\n          if (message.ack === 5) {\n            return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />\n          }\n};\n\nconst renderDailyTimestamps = (message, index) => {\n  const today = format(new Date(), \"dd/MM/yyyy\")\n\n  if (index === 0) {\n    return (\n      <span\n        className={classes.dailyTimestamp}\n        key={`timestamp-${message.id}`}\n      >\n        <div className={classes.dailyTimestampText}>\n          {today === format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\") ? \"HOJE\" : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n        </div>\n      </span>\n    );\n  } else\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {today === format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\") ? \"HOJE\" : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    } else\n      if (index === messagesList.length - 1) {\n        return (\n          <div\n            key={`ref-${message.id}`}\n            ref={lastMessageRef}\n            style={{ float: \"left\", clear: \"both\" }}\n          />\n        );\n      }\n};\n\n\nconst renderTicketsSeparator = (message, index) => {\n  let lastTicket = messagesList[index - 1]?.ticketId;\n  let currentTicket = message.ticketId;\n\n  if (lastTicket !== currentTicket && lastTicket !== undefined) {\n    if (message?.ticket?.queue) {\n      return (\n        <span\n          className={classes.currentTick}\n          key={`timestamp-${message.id}a`}\n        >\n          <div\n            className={classes.currentTicktText}\n            style={{ backgroundColor: message?.ticket?.queue?.color || \"grey\" }}\n          >\n            #{i18n.t(\"ticketsList.called\")} {message?.ticketId} - {message?.ticket?.queue?.name}\n          </div>\n\n        </span>\n      );\n    } else {\n      return (\n        <span\n          className={classes.currentTick}\n          key={`timestamp-${message.id}b`}\n        >\n          <div\n            className={classes.currentTicktText}\n            style={{ backgroundColor: \"grey\" }}\n          >\n            #{i18n.t(\"ticketsList.called\")} {message.ticketId} - {i18n.t(\"ticketsList.noQueue\")}\n          </div>\n\n        </span>\n      );\n    }\n  }\n\n};\n\nconst renderMessageDivider = (message, index) => {\n  if (index < messagesList.length && index > 0) {\n    let messageUser = messagesList[index].fromMe;\n    let previousMessageUser = messagesList[index - 1].fromMe;\n    if (messageUser !== previousMessageUser) {\n      return (\n\n        <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n      );\n    }\n  }\n};\n\nconst path = require('path');\n\nconst renderQuotedMessage = (message) => {\n\n  return (\n    <div\n      className={clsx(classes.quotedContainerLeft, {\n        [classes.quotedContainerRight]: message.fromMe,\n      })}\n    >\n      <span\n        className={clsx(classes.quotedSideColorLeft, {\n          [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n        })}\n      ></span>\n      <div className={classes.quotedMsg}>\n        {!message.quotedMsg?.fromMe && (\n          <span className={classes.messageContactName}>\n            {message.quotedMsg?.contact?.name}\n          </span>\n        )}\n\n        {message.quotedMsg.mediaType === \"audio\"\n          && (\n            <div className={classes.downloadMedia}>\n              <AudioModal url={message.quotedMsg.mediaUrl} />\n\n              {/* <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/mp3\"></source>\n                  {/* <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source> \n                </audio> */}\n            </div>\n          )\n        }\n        {message.quotedMsg.mediaType === \"video\"\n          && (\n            <video\n              className={classes.messageMedia}\n              src={message.quotedMsg.mediaUrl}\n              controls\n            />\n          )\n        }\n        {message.quotedMsg.mediaType === \"contactMessage\"\n          && (\n            \"Contato\"\n          )\n        }\n        {message.quotedMsg.mediaType === \"application\"\n          && (\n            <div className={classes.downloadMedia}>\n              <Button\n                startIcon={<GetApp />}\n                // color=\"primary\"\n                variant=\"outlined\"\n                target=\"_blank\"\n                href={message.quotedMsg.mediaUrl}\n              >\n                Download\n              </Button>\n            </div>\n          )\n        }\n\n        {message.quotedMsg.mediaType === \"image\"\n          && (\n            <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n          || message.quotedMsg?.body}\n\n        {!message.quotedMsg.mediaType === \"image\" && message.quotedMsg?.body}\n\n\n      </div>\n    </div>\n  );\n};\n\nconst handleDrag = event => {\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.type === \"dragenter\" || event.type === \"dragover\") {\n    setDragActive(true);\n  } else if (event.type === \"dragleave\") {\n    setDragActive(false);\n  }\n}\n\nconst isYouTubeLink = (url) => {\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/\\n\\s]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|\\S*?[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/;\n  return youtubeRegex.test(url);\n};\n\nconst handleDrop = event => {\n  event.preventDefault();\n  event.stopPropagation();\n  setDragActive(false);\n  if (event.dataTransfer.files && event.dataTransfer.files[0]) {\n    if (onDrop) {\n      onDrop(event.dataTransfer.files);\n    }\n  }\n}\nconst xmlRegex = /<([^>]+)>/g;\nconst boldRegex = /\\*(.*?)\\*/g;\n\nconst formatXml = (xmlString) => {\n  // Verifica se o XML contm a assinatura com nome do atendente\n  if (boldRegex.test(xmlString)) {\n    // Formata o texto dentro da assinatura em negrito\n    xmlString = xmlString.replace(boldRegex, \"**$1**\");\n  }\n  return xmlString;\n};\n\nconst renderMessages = () => {\n\n  if (messagesList.length > 0) {\n    const viewMessagesList = messagesList.map((message, index) => {\n      if (message.mediaType === \"call_log\") {\n        return (\n          <React.Fragment key={message.id}>\n            {renderDailyTimestamps(message, index)}\n            {renderTicketsSeparator(message, index)}\n            {renderMessageDivider(message, index)}\n            <div className={classes.messageCenter}>\n              <IconButton\n                variant=\"contained\"\n                size=\"small\"\n                id=\"messageActionsButton\"\n                disabled={message.isDeleted}\n                className={classes.messageActionsButton}\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n              >\n                <ExpandMore />\n              </IconButton>\n              {isGroup && (\n                <span className={classes.messageContactName}>\n                  {message.contact?.name}\n                </span>\n              )}\n\n              {/* {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\n                  </span>\n                )} */}\n              <div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                  <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                </svg> <span>{i18n.t(\"ticketsList.missedCall\")} {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n              </div>\n            </div>\n          </React.Fragment>\n        );\n      }\n\n      if (!message.fromMe) {\n        return (\n          <React.Fragment key={message.id}>\n            {renderDailyTimestamps(message, index)}\n            {renderTicketsSeparator(message, index)}\n            {renderMessageDivider(message, index)}\n            <div\n              className={classes.messageLeft}\n              title={message.queueId && message.queue?.name}\n              onDoubleClick={(e) => hanldeReplyMessage(e, message)}\n            >\n              {showSelectMessageCheckbox && (\n                <SelectMessageCheckbox\n                  // showSelectMessageCheckbox={showSelectMessageCheckbox}\n                  message={message}\n                // selectedMessagesList={selectedMessagesList}\n                // setSelectedMessagesList={setSelectedMessagesList}\n                />\n              )}\n              <IconButton\n                variant=\"contained\"\n                size=\"small\"\n                id=\"messageActionsButton\"\n                disabled={message.isDeleted}\n                className={classes.messageActionsButton}\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n              >\n                <ExpandMore />\n              </IconButton>\n\n              {message.isForwarded && (\n                <div>\n                  <span className={classes.forwardMessage}\n                  ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\n                  </span>\n                  <br />\n                </div>\n              )}\n              {isGroup && (\n                <span className={classes.messageContactName}>\n                  {message.contact?.name}\n                </span>\n              )}\n              {isYouTubeLink(message.body) && (\n                <>\n                  <YouTubePreview videoUrl={message.body} />\n                </>\n              )}\n              {/* {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\n                  </span>\n                )} */}\n\n              {/* aviso de mensagem apagado pelo contato */}\n\n              {!lgpdDeleteMessage && message.isDeleted && (\n                <div>\n                  <span className={classes.deletedMessage}\n                  > Essa mensagem foi apagada pelo contato &nbsp;\n                  </span>\n                </div>\n              )}\n\n              {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\n                //|| message.mediaType === \"multi_vcard\" \n              ) && checkMessageMedia(message)}\n\n              <div className={clsx(classes.textContentItem, {\n                [classes.textContentItemDeleted]: message.isDeleted,\n              })}>\n                {message.quotedMsg && renderQuotedMessage(message)}\n                {\n                  (\n                    (message.mediaUrl !== null && (message.mediaType === \"image\" || message.mediaType === \"video\") && path.basename(message.mediaUrl).trim() !== message.body.trim()) ||\n                    message.mediaType !== \"audio\" &&\n                    message.mediaType !== \"image\" &&\n                    message.mediaType !== \"video\" &&\n                    message.mediaType != \"reactionMessage\" &&\n                    message.mediaType != \"locationMessage\" && message.mediaType !== \"contactMessage\") && (\n                    <>\n                      {xmlRegex.test(message.body) && (\n                        <span>{message.body}</span>\n\n                      )}\n                      {!xmlRegex.test(message.body) && (\n                        <MarkdownWrapper>{(lgpdDeleteMessage && message.isDeleted) ? \" _Mensagem apagada_ \" :\n                          message.body\n                        }</MarkdownWrapper>)}\n\n                    </>\n\n                  )}\n\n                {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\n                  <>\n                    <span style={{ marginLeft: \"0px\" }}>\n                      <MarkdownWrapper>\n                        {\"\" + message?.contact?.name + \" reagiu... \" + message.body}\n                      </MarkdownWrapper>\n                    </span>\n                  </>\n                )}\n\n                <span className={classes.timestamp}>\n                  {message.isEdited ? \"Editada \" + format(parseISO(message.createdAt), \"HH:mm\") : format(parseISO(message.createdAt), \"HH:mm\")}\n                </span>\n              </div>\n            </div>\n          </React.Fragment>\n        );\n      } else {\n        return (\n          <React.Fragment key={message.id}>\n            {renderDailyTimestamps(message, index)}\n            {renderTicketsSeparator(message, index)}\n            {renderMessageDivider(message, index)}\n            <div\n              className={message.isPrivate ? classes.messageRightPrivate : classes.messageRight}\n              title={message.queueId && message.queue?.name}\n              onDoubleClick={(e) => hanldeReplyMessage(e, message)}\n            >\n              {showSelectMessageCheckbox && (\n                <SelectMessageCheckbox\n                  // showSelectMessageCheckbox={showSelectMessageCheckbox}\n                  message={message}\n                // selectedMessagesList={selectedMessagesList}\n                // setSelectedMessagesList={setSelectedMessagesList}\n                />\n              )}\n\n              <IconButton\n                variant=\"contained\"\n                size=\"small\"\n                id=\"messageActionsButton\"\n                disabled={message.isDeleted}\n                className={classes.messageActionsButton}\n                onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n              >\n                <ExpandMore />\n              </IconButton>\n              {message.isForwarded && (\n                <div>\n                  <span className={classes.forwardMessage}\n                  ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\n                  </span>\n                  <br />\n                </div>\n              )}\n              {isYouTubeLink(message.body) && (\n                <>\n                  <YouTubePreview videoUrl={message.body} />\n                </>\n              )}\n              {!lgpdDeleteMessage && message.isDeleted && (\n                <div>\n                  <span className={classes.deletedMessage}\n                  > Essa mensagem foi apagada &nbsp;\n                  </span>\n                </div>\n              )}\n              {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\n                //|| message.mediaType === \"multi_vcard\" \n              ) && checkMessageMedia(message)}\n              <div\n                className={clsx(classes.textContentItem, {\n                  [classes.textContentItemDeleted]: message.isDeleted,\n                })}\n              >\n\n                {/* {message.isDeleted && (``)} */}\n\n\n\n                {message.quotedMsg && renderQuotedMessage(message)}\n\n                {\n                  ((message.mediaType === \"image\" || message.mediaType === \"video\") && path.basename(message.mediaUrl) === message.body) ||\n                  (message.mediaType !== \"audio\" && message.mediaType != \"reactionMessage\" && message.mediaType != \"locationMessage\" && message.mediaType !== \"contactMessage\") && (\n                    <>\n                      {xmlRegex.test(message.body) && (\n                        <div>{formatXml(message.body)}</div>\n\n                      )}\n                      {!xmlRegex.test(message.body) && (<MarkdownWrapper>{message.body}</MarkdownWrapper>)}\n\n                    </>\n                  )}\n\n                {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\n                  <>\n                    <span style={{ marginLeft: \"0px\" }}>\n                      <MarkdownWrapper>\n                        {\"Voc reagiu... \" + message.body}\n                      </MarkdownWrapper>\n                    </span>\n                  </>\n                )}\n\n                <span className={classes.timestamp}>\n                  {message.isEdited ? \"Editada \" + format(parseISO(message.createdAt), \"HH:mm\") : format(parseISO(message.createdAt), \"HH:mm\")}\n                  {renderMessageAck(message)}\n                </span>\n              </div>\n            </div>\n          </React.Fragment>\n        );\n      }\n    });\n    return viewMessagesList;\n  } else {\n    return <div>Diga ol para seu novo contato!</div>;\n  }\n};\n\nreturn (\n  <div className={classes.messagesListWrapper} onDragEnter={handleDrag}>\n    {dragActive && <div className={classes.dragElement} onDragEnter={handleDrag} onDragLeave={handleDrag} onDragOver={handleDrag} onDrop={handleDrop}>Solte o arquivo aqui</div>}\n\n    <MessageOptionsMenu\n      message={selectedMessage}\n      anchorEl={anchorEl}\n      menuOpen={messageOptionsMenuOpen}\n      handleClose={handleCloseMessageOptionsMenu}\n      isGroup={isGroup}\n      whatsappId={whatsappId}\n      queueId={queueId}\n    />\n    <div\n      id=\"messagesList\"\n      className={classes.messagesList}\n      onScroll={handleScroll}\n    >\n      {messagesList.length > 0 ?\n        renderMessages()\n        : []}\n    </div>\n\n    {(channel !== \"whatsapp\" && channel !== undefined) && (\n      <div\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          padding: \"10px\",\n          alignItems: \"center\",\n          backgroundColor: \"#E1F3FB\",\n        }}\n      >\n        {channel === \"facebook\" ? (\n          <Facebook />\n        ) : (\n          <Instagram />\n        )}\n\n        <span>\n          Voc tem 24h para responder aps receber uma mensagem, de acordo\n          com as polticas do Facebook.\n        </span>\n      </div>\n    )}\n    {loading && (\n      <div>\n        <CircularProgress className={classes.circleLoading} />\n      </div>\n    )}\n  </div>\n);\n};\n\nexport default MessagesList;","import React, { useCallback, useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\n\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\n\nimport html2pdf from \"html2pdf.js\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user, socket } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  const [exportedToPDF, setExportedToPDF] = useState(false);\n\n  \n  const handleExportToPDF = () => {\n    const messagesListElement = document.getElementById(\"messagesList\"); // Id do elemento que voc deseja exportar para PDF\n    const headerElement = document.getElementById(\"TicketHeader\"); // Id do elemento de cabealho que voc deseja exportar\n\n\n    const pdfOPtions = {\n      margin: 1,\n      filename: `relatrio_atendimento_${ticketId}.pdf`,\n      image: { type: 'jpeg', quality: 0.98 },\n      html2canvas: { scale: 2 },\n      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\n    };\n\n    if (messagesListElement) {\n      const headerClone = headerElement.cloneNode(true);\n      const messagesListClone = messagesListElement.cloneNode(true);\n\n      const containerElement = document.createElement(\"div\");\n      containerElement.appendChild(headerClone); // Adicione o elemento do cabealho\n      containerElement.appendChild(messagesListClone);\n      html2pdf()\n        .from(containerElement)\n        .set(pdfOPtions)\n        .save();\n    } else {\n      toastError(\"Elemento no encontrado para exportar.\");\n    }\n  };\n\n  const handleExportAndClose = () => {\n    if (!exportedToPDF) {\n      handleExportToPDF();\n      setExportedToPDF(true);\n      handleClose(); // Fecha o Dialog\n    }\n  };\n\n  useEffect(() => {\n    if (open) {\n      // Execute a exportao para PDF e feche o Dialog\n      handleExportAndClose();\n    }\n  }, [open, ticketId, handleExportAndClose]);\n\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <DialogActions>\n        <Button onClick={handleExportToPDF} color=\"primary\">\n          Exportar para PDF\n        </Button>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Can } from \"../Can\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton, Menu } from \"@material-ui/core\";\nimport { DeviceHubOutlined, History, MoreVert, PictureAsPdf, Replay, SwapHorizOutlined } from \"@material-ui/icons\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n// import TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Button from '@material-ui/core/Button';\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\n\n//icones\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport UndoIcon from '@material-ui/icons/Undo';\n\nimport ScheduleModal from \"../ScheduleModal\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Switch } from \"@material-ui/core\";\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\nimport { toast } from \"react-toastify\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport ShowTicketLogModal from \"../ShowTicketLogModal\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport { useTheme } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    actionButtons: {\n        marginRight: 6,\n        maxWidth: \"100%\",\n        flex: \"none\",\n        alignSelf: \"center\",\n        marginLeft: \"auto\",\n        // flexBasis: \"50%\",\n        display: \"flex\",\n        \"& > *\": {\n            margin: theme.spacing(1),\n        },\n    },\n    bottomButtonVisibilityIcon: {\n        padding: 1,\n        color: theme.mode === \"light\" ? '#0872b9' : '#FFF',\n    },\n    botoes: {\n        display: \"flex\",\n        padding: \"15px\",\n        justifyContent: \"flex-end\",\n        maxWidth: \"100%\",\n        // alignItems: \"center\"\n\n    }\n}));\n\nconst SessionSchema = Yup.object().shape({\n    ratingId: Yup.string().required(\"Avaliao obrigatria\"),\n});\n\nconst TicketActionButtonsCustom = ({ ticket\n    // , showSelectMessageCheckbox,\n    // selectedMessages,\n    // forwardMessageModalOpen,\n    // setForwardMessageModalOpen\n}) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n    const [isMounted, setIsMounted] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const { user } = useContext(AuthContext);\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\n    const [open, setOpen] = React.useState(false);\n    const formRef = React.useRef(null);\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n    const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n    const [contactId, setContactId] = useState(null);\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\n    const [showTicketLogOpen, setShowTicketLogOpen] = useState(false);\n    const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n    const [disableBot, setDisableBot] = useState(ticket.contact.disableBot);\n\n    const [showSchedules, setShowSchedules] = useState(false);\n    const [enableIntegration, setEnableIntegration] = useState(ticket.useIntegration);\n\n    const [openAlert, setOpenAlert] = useState(false);\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n    const [logTicket, setLogTicket] = useState([]);\n\n    const { get: getSetting } = useCompanySettings()\n    const { getPlanCompany } = usePlans();\n\n\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [menuOpen, setMenuOpen] = useState(false);\n\n    useEffect(() => {\n        fetchData();\n\n        // Cleanup function to set isMounted to false when the component unmounts\n        return () => {\n            setIsMounted(false);\n        };\n    }, []);\n\n\n    const fetchData = async () => {\n        const companyId = user.companyId;\n        const planConfigs = await getPlanCompany(undefined, companyId);\n        setShowSchedules(planConfigs.plan.useSchedules);\n        setOpenTicketMessageDialog(false);\n        setDisableBot(ticket.contact.disableBot)\n\n        setShowTicketLogOpen(false)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }\n\n    const handleClickOpen = async (e) => {\n        const setting = await getSetting({\n            \"column\": \"requiredTag\"\n        });\n\n        if (setting?.requiredTag === \"enabled\") {\n            //verificar se tem uma tag   \n            try {\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\n                if (!contactTags.data.tags) {\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\n                } else {\n                    setOpen(true);\n                    // handleUpdateTicketStatus(e, \"closed\", user?.id);\n                }\n            } catch (err) {\n                toastError(err);\n            }\n        } else {\n\n            setOpen(true);\n            // handleUpdateTicketStatus(e, \"closed\", user?.id);\n        }\n    };\n\n    const handleClose = () => {\n        formRef.current.resetForm();\n        setOpen(false);\n    };\n\n    const handleCloseAlert = () => {\n        setOpenAlert(false);\n        setLoading(false);\n    };\n    const handleOpenAcceptTicketWithouSelectQueue = async () => {\n\n        setAcceptTicketWithouSelectQueueOpen(true);\n\n    };\n\n    const handleMenu = event => {\n        setAnchorEl(event.currentTarget);\n        setMenuOpen(true);\n    };\n\n    const handleCloseMenu = () => {\n        setAnchorEl(null);\n        setMenuOpen(false);\n    };\n\n    const handleOpenTransferModal = (e) => {\n        setTransferTicketModalOpen(true);\n        if (typeof handleClose == \"function\") handleClose();\n    };\n\n    const handleOpenConfirmationModal = (e) => {\n        setConfirmationOpen(true);\n        if (typeof handleClose == \"function\") handleClose();\n    };\n\n\n    const handleCloseTicketWithoutFarewellMsg = async () => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"closed\",\n                userId: user?.id || null,\n                sendFarewellMessage: false,\n                amountUsedBotQueues: 0\n            });\n\n            setLoading(false);\n            history.push(\"/tickets\");\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    const handleExportPDF = async () => {\n        setOpenTicketMessageDialog(true);\n        handleCloseMenu();\n    }\n\n    const handleEnableIntegration = async () => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                useIntegration: !enableIntegration\n            });\n            setEnableIntegration(!enableIntegration)\n\n            setLoading(false);\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    const handleShowLogTicket = async () => {\n        setShowTicketLogOpen(true);\n    };\n\n    const handleContactToggleDisableBot = async () => {\n\n        const { id } = ticket.contact;\n\n\n        try {\n            const { data } = await api.put(`/contacts/toggleDisableBot/${id}`);\n            ticket.contact.disableBot = data.disableBot;\n            setDisableBot(data.disableBot)\n\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleCloseTransferTicketModal = () => {\n        setTransferTicketModalOpen(false);\n    };\n\n    const handleDeleteTicket = async () => {\n        try {\n            await api.delete(`/tickets/${ticket.id}`);\n            history.push(\"/tickets\")\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleSendMessage = async (id) => {\n        let setting;\n\n        try {\n            setting = await getSetting({\n                \"column\": \"greetingAcceptedMessage\"\n            })\n        } catch (err) {\n            toastError(err);\n        }\n        const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n\n    const handleUpdateTicketStatus = async (e, status, userId) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: status,\n                userId: userId || null,\n            });\n\n            let setting;\n\n            try {\n                setting = await getSetting({\n                    \"column\": \"sendGreetingAccepted\"\n                })\n            } catch (err) {\n                toastError(err);\n            }\n\n            if (setting?.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\") {\n                handleSendMessage(ticket.id);\n            }\n\n\n            // if (isMounted.current) {\n            setLoading(false);\n            // }\n            if (status === \"open\" || status === \"group\") {\n                setCurrentTicket({ ...ticket, code: \"#\" + status });\n                // handleSelectTicket(ticket);\n                setTimeout(() => {\n                    history.push('/tickets');\n                }, 0);\n\n                setTimeout(() => {\n                    history.push(`/tickets/${ticket.uuid}`);\n                    setTabOpen(status)\n                }, 10);\n\n\n            } else {\n                setCurrentTicket({ id: null, code: null })\n                history.push(\"/tickets\");\n\n            }\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            const otherTicket = await api.put(`/tickets/${id}`, {\n                status: ticket.isGroup ? \"group\" : \"open\",\n                userId: user?.id,\n            });\n            if (otherTicket.data.id !== ticket.id) {\n                if (otherTicket.data.userId !== user?.id) {\n                    setOpenAlert(true)\n                    setUserTicketOpen(otherTicket.data.user.name)\n                    setQueueTicketOpen(otherTicket.data.queue.name)\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\n                } else {\n                    setLoading(false);\n                    // handleSelectTicket(otherTicket.data);\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\n\n                    history.push(`/tickets/${otherTicket.data.uuid}`);\n                }\n            } else {\n                // if (isMounted.current) {\n                setLoading(false);\n                // }\n\n                // handleSelectTicket(ticket);\n                history.push('/tickets');\n                setTimeout(() => {\n                    history.push(`/tickets/${ticket.uuid}`);\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\")\n                }, 1000)\n            }\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    return (\n        <>\n            {openAlert && (\n                <ShowTicketOpen\n                    isOpen={openAlert}\n                    handleClose={handleCloseAlert}\n                    user={userTicketOpen}\n                    queue={queueTicketOpen}\n                />\n            )}\n            {acceptTicketWithouSelectQueueOpen && (\n                <AcceptTicketWithouSelectQueue\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\n                    ticketId={ticket.id}\n                    ticket={ticket}\n                />\n            )}\n            {showTicketLogOpen && (\n                <ShowTicketLogModal\n                    isOpen={showTicketLogOpen}\n                    handleClose={(e) => setShowTicketLogOpen(false)}\n                    ticketId={ticket.id}\n                />\n            )}\n            {openTicketMessageDialog && (\n                <TicketMessagesDialog\n                    open={openTicketMessageDialog}\n                    handleClose={() => setOpenTicketMessageDialog(false)}\n                    ticketId={ticket.id}\n                />\n            )}\n            <div className={classes.actionButtons}>\n                {ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined) && (\n                    <ButtonWithSpinner\n                        loading={loading}\n                        startIcon={<Replay />}\n                        size=\"small\"\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\n                    </ButtonWithSpinner>\n                )}\n                {(ticket.status === \"closed\" && ticket.queueId !== null) && (\n                    <ButtonWithSpinner\n                        startIcon={<Replay />}\n                        loading={loading}\n                        onClick={e => handleAcepptTicket(ticket.id)}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\n                    </ButtonWithSpinner>\n                )}\n                {/* <IconButton\n                    className={classes.bottomButtonVisibilityIcon}\n                    onClick={handleShowLogTicket}\n                >\n                    <Tooltip title={i18n.t(\"messagesList.header.buttons.logTicket\")}>\n                        <History />\n\n                    </Tooltip>\n                </IconButton> */}\n                {(ticket.status === \"open\" || ticket.status === \"group\") && (\n                    <>\n                        {/* {!showSelectMessageCheckbox ? ( */}\n                        <>\n                            {/* <IconButton\n                                className={classes.bottomButtonVisibilityIcon}\n                                onClick={handleEnableIntegration}\n                            >\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.enableIntegration\")}>\n                                    {enableIntegration === true ? <DeviceHubOutlined style={{ color: \"green\" }} /> : <DeviceHubOutlined />}\n\n                                </Tooltip>\n                            </IconButton> */}\n\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n                                    <HighlightOffIcon\n                                        // color=\"primary\"\n                                        onClick={handleClickOpen}\n                                    />\n                                </Tooltip>\n                            </IconButton>\n\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                <Tooltip title={i18n.t(\"tickets.buttons.returnQueue\")}>\n                                    <UndoIcon\n                                        // color=\"primary\"\n                                        onClick={(e) => handleUpdateTicketStatus(e, \"pending\", null)}\n                                    />\n                                </Tooltip>\n                            </IconButton>\n\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                <Tooltip title=\"Transferir Ticket\">\n                                    <SwapHorizOutlined\n                                        // color=\"primary\"\n                                        onClick={handleOpenTransferModal}\n                                    />\n                                </Tooltip>\n                            </IconButton>\n                        </>\n\n                        {/* {showSchedules && (\n                            <>\n                                <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                    <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\n                                        <EventIcon\n                                            // color=\"primary\"\n                                            onClick={handleOpenScheduleModal}\n                                        />\n                                    </Tooltip>\n                                </IconButton>\n                            </>\n                        )} */}\n\n                        <MenuItem className={classes.bottomButtonVisibilityIcon}>\n                            <Tooltip title={i18n.t(\"contactModal.form.chatBotContact\")}>\n                                <Switch\n                                    size=\"small\"\n                                    // color=\"primary\"\n                                    checked={disableBot}\n                                    onChange={() => handleContactToggleDisableBot()}\n                                />\n                            </Tooltip>\n                        </MenuItem>\n\n\n\n                        {confirmationOpen && (\n                            <ConfirmationModal\n                                title={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")} #${ticket.id}?`}\n                                open={confirmationOpen}\n                                onClose={setConfirmationOpen}\n                                onConfirm={handleDeleteTicket}\n                            >\n                                {i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n                            </ConfirmationModal>\n                        )}\n                        {transferTicketModalOpen && (\n                            <TransferTicketModalCustom\n                                modalOpen={transferTicketModalOpen}\n                                onClose={handleCloseTransferTicketModal}\n                                ticketid={ticket.id}\n                                ticket={ticket}\n                            />\n                        )}\n                        {/* {scheduleModalOpen && (\n                            <ScheduleModal\n                                open={scheduleModalOpen}\n                                onClose={handleCloseScheduleModal}\n                                aria-labelledby=\"form-dialog-title\"\n                                contactId={contactId}\n                            />\n                        )} */}\n\n                    </>\n                )}\n                {ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined) && (\n                    <ButtonWithSpinner\n                        loading={loading}\n                        size=\"small\"\n                        variant=\"contained\"\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\n                    </ButtonWithSpinner>\n                )}\n                {ticket.status === \"pending\" && ticket.queueId !== null && (\n                    <ButtonWithSpinner\n                        loading={loading}\n                        size=\"small\"\n                        variant=\"contained\"\n                        // color=\"primary\"\n                        onClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\n                    </ButtonWithSpinner>\n                )}\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"menu-appbar\"\n                    aria-haspopup=\"true\"\n                    onClick={handleMenu}\n                    color=\"inherit\"\n                    style={{ paddingHorizontal: 3, paddingTop: 10 }}\n                >\n                    <MoreVert style={{ fontSize: 16, padding: 0 }} />\n                </IconButton>\n                <Menu\n                    id=\"menu-appbar\"\n                    anchorEl={anchorEl}\n                    getContentAnchorEl={null}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"right\",\n                    }}\n                    keepMounted\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"right\",\n                    }}\n                    open={menuOpen}\n                    onClose={handleCloseMenu}\n                >\n                    <MenuItem onClick={handleOpenConfirmationModal}>\n                        <Can\n                            role={user.profile}\n                            perform=\"ticket-options:deleteTicket\"\n                            yes={() => (\n                                i18n.t(\"tickets.buttons.deleteTicket\")\n                            )}\n                        />\n                    </MenuItem>\n                    <MenuItem onClick={handleEnableIntegration}>\n                        {enableIntegration === true ? i18n.t(\"messagesList.header.buttons.disableIntegration\") : i18n.t(\"messagesList.header.buttons.enableIntegration\")}\n                    </MenuItem>\n                    <MenuItem onClick={handleShowLogTicket}>\n                        {i18n.t(\"messagesList.header.buttons.logTicket\")}\n                    </MenuItem>\n                    <MenuItem onClick={handleExportPDF}>\n                        {i18n.t(\"ticketsList.buttons.exportAsPDF\")}\n                    </MenuItem>\n                </Menu>\n            </div>\n            <>\n                <Formik\n                    enableReinitialize={true}\n                    validationSchema={SessionSchema}\n                    innerRef={formRef}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            actions.setSubmitting(false);\n                            actions.resetForm();\n                        }, 400);\n                    }}\n                >\n                    {({ values, touched, errors, isSubmitting, setFieldValue, resetForm }) => (\n                        <Dialog\n                            open={open}\n                            onClose={handleClose}\n                            aria-labelledby=\"alert-dialog-title\"\n                            aria-describedby=\"alert-dialog-description\"\n                        >\n                            <Form>\n                                <DialogActions className={classes.botoes}>\n                                    <Button\n                                        onClick={e => handleCloseTicketWithoutFarewellMsg()}\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\n                                    >\n                                        {i18n.t(\"messagesList.header.dialogRatingWithoutFarewellMsg\")}\n                                    </Button>\n\n                                    <Button\n                                        onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, ticket?.queue?.id)}\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\n                                    >\n                                        {i18n.t(\"messagesList.header.dialogRatingCancel\")}\n                                    </Button>\n                                </DialogActions>\n                            </Form>\n                        </Dialog>\n                    )}\n                </Formik>\n            </>\n        </>\n    );\n};\n\nexport default TicketActionButtonsCustom;\n","import React, { useState, useEffect, useContext, useRef, useCallback } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\n\nimport { makeStyles, Paper } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\n\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { isNil } from 'lodash';\nimport { EditMessageProvider } from \"../../context/EditingMessage/EditingMessageContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user, socket } = useContext(AuthContext);\n  const { setTabOpen } = useContext(TicketsContext);\n\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n  const [dragDropFiles, setDragDropFiles] = useState([]);\n  const { companyId } = user;\n\n  useEffect(() => {\n    console.log(\"======== Ticket ===========\")\n    console.log(ticket)\n    console.log(\"===========================\")\n}, [ticket])\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n\n          if (!isNil(ticketId) && ticketId !== \"undefined\") {\n\n            const { data } = await api.get(\"/tickets/u/\" + ticketId);\n\n            setContact(data.contact);\n            // setWhatsapp(data.whatsapp);\n            // setQueueId(data.queueId);\n            setTicket(data);\n            if ([\"pending\", \"open\", \"group\"].includes(data.status)) {\n              setTabOpen(data.status);\n            }\n            setLoading(false);\n          }\n        } catch (err) {\n          history.push(\"/tickets\");   // correo para evitar tela branca uuid no encontrado Feito por Altemir 16/08/2023\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    if (!ticket && !ticket.id && ticket.uuid !== ticketId && ticketId === \"undefined\") {\n      return;\n    }\n\n    if (user.companyId) {\n      //    const socket = socketManager.GetSocket();\n\n      const onConnectTicket = () => {\n        socket.emit(\"joinChatBox\", `${ticket.id}`);\n      }\n\n      const onCompanyTicket = (data) => {\n        if (data.action === \"update\" && data.ticket.id === ticket?.id) {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\" && data.ticketId === ticket?.id) {\n          history.push(\"/tickets\");\n        }\n      };\n\n      const onCompanyContactTicket = (data) => {\n        if (data.action === \"update\") {\n          // if (isMounted) {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n          // }\n        }\n      };\n\n      socket.on(\"connect\", onConnectTicket)\n      socket.on(`company-${companyId}-ticket`, onCompanyTicket);\n      socket.on(`company-${companyId}-contact`, onCompanyContactTicket);\n\n      return () => {\n\n        socket.emit(\"joinChatBoxLeave\", `${ticket.id}`);\n        socket.off(\"connect\", onConnectTicket);\n        socket.off(`company-${companyId}-ticket`, onCompanyTicket);\n        socket.off(`company-${companyId}-contact`, onCompanyContactTicket);\n      };\n    }\n  }, [ticketId, ticket, history]);\n\n  const handleDrawerOpen = useCallback(() => {\n    setDrawerOpen(true);\n  }, []);\n\n  const handleDrawerClose = useCallback(() => {\n    setDrawerOpen(false);\n  }, []);\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          isGroup={ticket.isGroup}\n          onDrop={setDragDropFiles}\n          whatsappId={ticket.whatsappId}\n          queueId={ticket.queueId}\n          channel={ticket.channel}\n        >\n        </MessagesList>\n        <MessageInput\n          ticketId={ticket.id}\n          ticketStatus={ticket.status}\n          ticketChannel={ticket.channel}\n          droppedFiles={dragDropFiles}\n          contactId={contact.id}\n        />\n      </>\n    );\n  };\n\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        {/* <div id=\"TicketHeader\"> */}\n        <TicketHeader loading={loading}>\n          {ticket.contact !== undefined && (\n            <div id=\"TicketHeader\">\n              <TicketInfo\n                contact={contact}\n                ticket={ticket}\n                onClick={handleDrawerOpen}\n              />\n            </div>\n          )}\n          <TicketActionButtons\n            ticket={ticket}\n          />\n        </TicketHeader>\n        {/* </div> */}\n        <Paper>\n          <TagsContainer contact={contact} />\n        </Paper>\n        <ReplyMessageProvider>\n          <ForwardMessageProvider>\n            <EditMessageProvider>\n              {renderMessagesList()}\n            </EditMessageProvider>\n          </ForwardMessageProvider>\n        </ReplyMessageProvider>\n      </Paper>\n\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React, { useState, useCallback, useContext, useEffect, useRef } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketsManager from \"../../components/TicketsManagerTabs\";\nimport Ticket from \"../../components/Ticket\";\n\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport api from \"../../services/api\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { getBackendUrl } from \"../../config\";\nimport logo from \"../../assets/logo.png\";\nimport logoDark from \"../../assets/logo-black.png\";\n\nconst defaultTicketsManagerWidth = 550;\nconst minTicketsManagerWidth = 404;\nconst maxTicketsManagerWidth = 700;\n\nconst useStyles = makeStyles((theme) => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\tpadding: \"2px\",\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\tchatPapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t\tposition: \"relative\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\tflexGrow: 1,\n\t},\n\twelcomeMsg: {\n\t\tbackground: theme.palette.tabHeaderBackground,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n\tdragger: {\n\t\twidth: \"5px\",\n\t\tcursor: \"ew-resize\",\n\t\tpadding: \"4px 0 0\",\n\t\tborderTop: \"1px solid #ddd\",\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tzIndex: 100,\n\t\tbackgroundColor: \"#f4f7f9\",\n\t\tuserSelect: \"none\", // Evita a seleo de texto no elemento de redimensionamento\n\t},\n\tlogo: {\n\t\tlogo: theme.logo,\n\t\tcontent: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\"\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst { user } = useContext(AuthContext);\n\n\tconst classes = useStyles({ ticketsManagerWidth: user.defaultTicketsManagerWidth || defaultTicketsManagerWidth });\n\n\tconst { ticketId } = useParams();\n\n\tconst [ticketsManagerWidth, setTicketsManagerWidth] = useState(0);\n\tconst ticketsManagerWidthRef = useRef(ticketsManagerWidth);\n\n\tuseEffect(() => {\n\t\tif (user && user.defaultTicketsManagerWidth) {\n\t\t\tsetTicketsManagerWidth(user.defaultTicketsManagerWidth);\n\t\t}\n\t}, [user]);\n\n\t// useEffect(() => {\n\t// \tif (ticketId && currentTicket.uuid === undefined) {\n\t// \t\thistory.push(\"/tickets\");\n\t// \t}\n\t// }, [ticketId, currentTicket.uuid, history]);\n\n\tconst handleMouseDown = (e) => {\n\t\tdocument.addEventListener(\"mouseup\", handleMouseUp, true);\n\t\tdocument.addEventListener(\"mousemove\", handleMouseMove, true);\n\t};\n\tconst handleSaveContact = async value => {\n\t\tif (value < 404)\n\t\t\tvalue = 404\n\t\tawait api.put(`/users/toggleChangeWidht/${user.id}`, { defaultTicketsManagerWidth: value });\n\n\t}\n\tconst handleMouseMove = useCallback(\n\t\t(e) => {\n\t\t\tconst newWidth = e.clientX - document.body.offsetLeft;\n\t\t\tif (\n\t\t\t\tnewWidth > minTicketsManagerWidth &&\n\t\t\t\tnewWidth < maxTicketsManagerWidth\n\t\t\t) {\n\t\t\t\tticketsManagerWidthRef.current = newWidth;\n\t\t\t\tsetTicketsManagerWidth(newWidth);\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst handleMouseUp = async () => {\n\t\tdocument.removeEventListener(\"mouseup\", handleMouseUp, true);\n\t\tdocument.removeEventListener(\"mousemove\", handleMouseMove, true);\n\n\t\tconst newWidth = ticketsManagerWidthRef.current;\n\n\t\tif (newWidth !== ticketsManagerWidth) {\n\t\t\tawait handleSaveContact(newWidth);\n\t\t}\n\t};\n\n\treturn (\n\t\t<QueueSelectedProvider>\n\t\t\t<div className={classes.chatContainer}>\n\t\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classes.contactsWrapper}\n\t\t\t\t\t\tstyle={{ width: ticketsManagerWidth }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t\t<div onMouseDown={e => handleMouseDown(e)} className={classes.dragger} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{/* <Suspense fallback={<CircularProgress />}> */}\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t\t{/* </Suspense> */}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Hidden only={[\"sm\", \"xs\"]}>\n\t\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t\t\t\t<img className={classes.logo} width=\"50%\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"chat.noTicketMessage\")}\n\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</QueueSelectedProvider>\n\t);\n};\n\nexport default TicketsCustom;","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs\";\nimport Ticket from \"../../components/Ticket\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\n\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n        // backgroundColor: \"#eee\"\n        background: theme.palette.tabHeaderBackground,\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n    const classes = useStyles();\n    const { ticketId } = useParams();\n    const [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n    const renderPlaceholder = () => {\n        return <Box className={classes.placeholderContainer}>\n            <div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div><br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n    }\n\n    const renderMessageContext = () => {\n        if (ticketId && ticketId !== \"undefined\") {\n            return <Ticket />\n        }\n        return renderPlaceholder()\n    }\n\n    const renderTicketsManagerTabs = () => {\n        return <TicketsManagerTabs\n        />\n    }\n\n    return (\n        <QueueSelectedProvider>\n\n            <TicketAdvancedLayout>\n                <Box className={classes.header}>\n                    <BottomNavigation\n                        value={option}\n                        onChange={(event, newValue) => {\n                            setOption(newValue);\n                        }}\n                        showLabels\n                        className={classes.root}\n                    >\n                        <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                        <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                    </BottomNavigation>\n                </Box>\n                <Box className={classes.content}>\n                    {option === 0 ? renderMessageContext() : renderTicketsManagerTabs()}\n                </Box>\n            </TicketAdvancedLayout>\n        </QueueSelectedProvider>\n    );\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n     if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport usePlans from '../../hooks/usePlans';\nimport { i18n } from \"../../translate/i18n\";\nimport { FormControl } from \"@material-ui/core\";\nimport { InputLabel, MenuItem, Select } from \"@material-ui/core\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\",\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nconst UserSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(2, \"Too Short!\")\n        .max(50, \"Too Long!\")\n        .required(\"Required\"),\n    companyName: Yup.string()\n        .min(2, \"Too Short!\")\n        .max(50, \"Too Long!\")\n        .required(\"Required\"),\n    password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    phone: Yup.string().required(\"Required\"),\n});\n\nconst SignUp = () => {\n    const classes = useStyles();\n    const history = useHistory();\n    const { getPlanList } = usePlans()\n    const [plans, setPlans] = useState([])\n    const [loading, setLoading] = useState(false);\n\n    let companyId = null\n    const params = qs.parse(window.location.search)\n    if (params.companyId !== undefined) {\n        companyId = params.companyId\n    }\n\n    const initialState = { name: \"\", email: \"\", password: \"\", phone: \"\", companyId, companyName: \"\", planId: \"\" };\n\n    const [user] = useState(initialState);\n\n    useEffect(() => {\n        setLoading(true);\n        const fetchData = async () => {\n            const planList = await getPlanList({listPublic: \"false\"});\n\n            setPlans(planList);\n            setLoading(false);\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleSignUp = async values => {\n        try {\n            await openApi.post(\"/auth/signup\", values);\n            toast.success(i18n.t(\"signup.toasts.success\"));\n            history.push(\"/login\");\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    {i18n.t(\"signup.title\")}\n                </Typography>\n                {/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n                <Formik\n                    initialValues={user}\n                    enableReinitialize={true}\n                    validationSchema={UserSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSignUp(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting }) => (\n                        <Form className={classes.form}>\n                            <Grid container spacing={2}>\n\n                                <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"companyName\"\n                                        label={i18n.t(\"signup.form.company\")}\n                                        error={touched.companyName && Boolean(errors.companyName)}\n                                        helperText={touched.companyName && errors.companyName}\n                                        name=\"companyName\"\n                                        autoComplete=\"companyName\"\n                                        autoFocus\n                                    />\n                                </Grid>\n\n                                <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        autoComplete=\"name\"\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"name\"\n                                        label={i18n.t(\"signup.form.name\")}\n                                    // autoFocus\n                                    />\n                                </Grid>\n\n                                <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"email\"\n                                        label={i18n.t(\"signup.form.email\")}\n                                        name=\"email\"                                        \n                                        error={touched.email && Boolean(errors.email)}\n                                        helperText={touched.email && errors.email}\n                                        autoComplete=\"email\"\n                                        inputProps={{ style: { textTransform: 'lowercase' } }}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        name=\"password\"\n                                        error={touched.password && Boolean(errors.password)}\n                                        helperText={touched.password && errors.password}\n                                        label={i18n.t(\"signup.form.password\")}\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"phone\"\n                                        label={i18n.t(\"signup.form.phone\")}\n                                        name=\"phone\"\n                                        autoComplete=\"phone\"\n                                    />\n                                </Grid>\n\n                                {/* TOKEN */}\n                                {/* <Grid item xs={12}>\n                                    <Field\n                                        as={TextField}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"token\"\n                                        label={i18n.t(\"auth.token\")}\n                                        name=\"token\"\n                                        autoComplete=\"token\"\n                                    />\n                                </Grid> */}\n\n                                <Grid item xs={12}>\n                                    <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                                    <Field\n                                        as={Select}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        id=\"plan-selection\"\n                                        label=\"Plano\"\n                                        name=\"planId\"\n                                        required\n                                    >\n                                        {plans.map((plan, key) => (\n                                            <MenuItem key={key} value={plan.id}>\n                                                {plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.amount}\n                                            </MenuItem>\n                                        ))}\n                                    </Field>\n                                </Grid>\n\n                            </Grid>\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.submit}\n                            >\n                                {i18n.t(\"signup.buttons.submit\")}\n                            </Button>\n                            <Grid container>\n                                <Grid item>\n                                    <Link\n                                        href=\"#\"\n                                        variant=\"body2\"\n                                        component={RouterLink}\n                                        to=\"/login\"\n                                    >\n                                        {i18n.t(\"signup.buttons.login\")}\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                        </Form>\n                    )}\n                </Formik>\n            </div>\n            <Box mt={5}>{/* <Copyright /> */}</Box>\n        </Container>\n    );\n};\n\nexport default SignUp;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ColorModeContext from \"../../layout/themeContext\";\nimport useSettings from \"../../hooks/useSettings\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\nimport { Helmet } from \"react-helmet\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100vw\",\n\t\theight: \"100vh\",\n\t\tbackground: theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundSize: \"100% 100%\",\n\t\tbackgroundPosition: \"center\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\ttextAlign: \"center\",\n\t},\n\tpaper: {\n\t\tbackgroundColor: theme.mode === \"light\" ? \"rgba(255, 255, 255, 0.7)\" : \"rgba(255, 255, 255, 0.2)\",\n\t\tbackdropFilter: \"blur(10px)\",\n\t\tboxShadow: theme.mode === \"light\" ? \"0 4px 6px rgba(0, 0, 0, 0.1)\" : \"0 4px 6px rgba(255, 255, 255, 0.2)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tpadding: \"55px 30px\",\n\t\tborderRadius: \"12.5px\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.primary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\tpowered: {\n\t\tcolor: \"white\",\n\t},\n\tlogoImg: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: \"350px\",\n\t\theight: \"auto\",\n\t\tmaxHeight: \"120px\",\n\t\tmargin: \"0 auto\",\n\t\tcontent: \"url(\" + (theme.mode === \"light\" ? theme.calculatedLogoLight() : theme.calculatedLogoDark()) + \")\",\n\t},\n\ticonButton: {\n\t\tposition: \"absolute\",\n\t\ttop: 10,\n\t\tright: 10,\n\t\tcolor: theme.mode === \"light\" ? \"black\" : \"white\",\n\t},\n}));\n\nconst Login = () => {\n\tconst classes = useStyles();\n\tconst { colorMode } = useContext(ColorModeContext);\n\tconst { appLogoFavicon, appName, mode } = colorMode;\n\tconst [user, setUser] = useState({ email: \"\", password: \"\" });\n\tconst [allowSignup, setAllowSignup] = useState(false);\n\tconst { getPublicSetting } = useSettings();\n\tconst { handleLogin } = useContext(AuthContext);\n\n\tconst handleChangeInput = (e) => {\n\t\tsetUser({ ...user, [e.target.name]: e.target.value });\n\t};\n\n\tconst handlSubmit = (e) => {\n\t\te.preventDefault();\n\t\thandleLogin(user);\n\t};\n\n\tuseEffect(() => {\n\t\tgetPublicSetting(\"allowSignup\")\n\t\t\t.then((data) => {\n\t\t\t\tsetAllowSignup(data === \"enabled\");\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(\"Error reading setting\", error);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Helmet>\n\t\t\t\t<title>{appName || \"WORKZAP\"}</title>\n\t\t\t\t<link rel=\"icon\" href={appLogoFavicon || \"/default-favicon.ico\"} />\n\t\t\t</Helmet>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t\t<IconButton className={classes.iconButton} onClick={colorMode.toggleColorMode}>\n\t\t\t\t\t\t\t{mode === \"dark\" ? <Brightness7Icon /> : <Brightness4Icon />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img className={classes.logoImg} alt=\"logo\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\n\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{allowSignup && (\n\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" component={RouterLink} to=\"/signup\">\n\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n    fontSize: \"0.875em\"\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.saturday\"), weekdayEn: \"saturday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.sunday\"), weekdayEn: \"sunday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\n  ]);\n\n  useEffect(() => {\n    console.log(initialValues)\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    console.log(data)\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                    <Grid key={index} xs={12} md={4} item>\n                      <Grid container>\n                        <Grid className={classes.control} xs={12} item>\n                          <FastField\n                            as={TextField}\n                            abel={i18n.t(\"queueModal.serviceHours.dayWeek\")}\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            className={classes.fullWidth}\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\n                            name={`schedules[${index}].startTimeA`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                                label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\n                            name={`schedules[${index}].endTimeA`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                                label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\n                            name={`schedules[${index}].startTimeB`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                                label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\n                            name={`schedules[${index}].endTimeB`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                                label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? i18n.t(\"whatsappModal.buttons.okEdit\")}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { isNil } from \"lodash\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport moment from \"moment\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  Divider,\n  Tab,\n  Tabs,\n  Paper,\n  Box,\n  Typography\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport TabPanel from \"../TabPanel\";\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport SchedulesForm from \"../SchedulesForm\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n\n  multFieldLine: {\n    marginTop: 12,\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n  importMessage: {\n    marginTop: 12,\n    marginBottom: 12,\n    paddingBottom: 20,\n    paddingTop: 3,\n    padding: 12,\n    border: \"solid grey 2px\",\n    borderRadius: 4,\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n  tokenRefresh: {\n    minWidth: \"auto\",\n    display: \"flex\", // Torna o boto flexvel para alinhar o contedo\n    alignItems: \"center\", // Alinha verticalmente ao centro\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const [autoToken, setAutoToken] = useState(\"\");\n\n  const inputFileRef = useRef(null);\n\n  const [attachment, setAttachment] = useState(null)\n  const [attachmentName, setAttachmentName] = useState('')\n\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    maxUseBotQueues: 3,\n    provider: \"beta\",\n    expiresTicket: 0,\n    allowGroup: false,\n    enableImportMessage: false,\n    groupAsTicket: \"disabled\",\n    timeUseBotQueues: '0',\n    timeSendQueue: '0',\n    sendIdQueue: 0,\n    expiresTicketNPS: '0',\n    expiresInactiveMessage: \"\",\n    timeInactiveMessage: \"\",\n    inactiveMessage: \"\",\n    maxUseBotQueuesNPS: 3,\n    whenExpiresTicket: 0,\n    timeCreateNewTicket: 0,\n    greetingMediaAttachment: \"\",\n    importRecentMessages: \"\",\n    importOldMessages: \"\",\n    importOldMessagesGroups: \"\",\n    integrationId: \"\",\n    collectiveVacationEnd: \"\",\n    collectiveVacationStart: \"\",\n    collectiveVacationMessage: \"\",\n    queueIdImportMessages: null\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [tab, setTab] = useState(\"general\");\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\n  const [copied, setCopied] = useState(false);\n\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const [NPSEnabled, setNPSEnabled] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false);\n  const { user } = useContext(AuthContext);\n\n\n\n  const [schedules, setSchedules] = useState([\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: \"Sbado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n  ]);\n\n  const { get: getSetting } = useCompanySettings();\n  const { getPlanCompany } = usePlans();\n\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  const [webhooks, setWebhooks] = useState([]);\n  const [flowIdNotPhrase, setFlowIdNotPhrase] = useState();\n  const [flowIdWelcome, setFlowIdWelcome] = useState();\n\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [integrations, setIntegrations] = useState([]);\n\n  useEffect(() => {\n    if (!whatsAppId && !whatsApp.token) {\n      setAutoToken(generateRandomCode(30));\n    } else if (whatsAppId && !whatsApp.token) {\n      setAutoToken(generateRandomCode(30));\n    } else {\n      setAutoToken(whatsApp.token);\n    }\n  }, [whatsAppId, whatsApp.token]);\n\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n\n      const settingSchedules = await getSetting({\n        \"column\": \"scheduleType\"\n      });\n      setSchedulesEnabled(settingSchedules.scheduleType === \"connection\");\n      const settingNPS = await getSetting({\n        \"column\": \"userRating\"\n      });\n      setNPSEnabled(settingNPS.userRating === \"enabled\");\n    }\n    fetchData();\n  }, []);\n\n  const handleEnableImportMessage = async (e) => {\n    setEnableImportMessage(e.target.checked);\n\n  };\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        if (data && data?.flowIdNotPhrase) {\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdNotPhrase}`)\n          console.log(flowDefault?.flow.id)\n          const selectedFlowIdNotPhrase = flowDefault?.flow.id\n          setFlowIdNotPhrase(selectedFlowIdNotPhrase)\n        }\n        if (data && data?.flowIdWelcome) {\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdWelcome}`)\n          console.log(flowDefault?.flow.id)\n          const selectedFlowIdWelcome = flowDefault?.flow.id\n          setFlowIdWelcome(selectedFlowIdWelcome)\n        }\n        setWhatsApp(data);\n        setAttachmentName(data.greetingMediaAttachment);\n        setAutoToken(data.token);\n        setSelectedIntegration(data?.integrationId)\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n        setSchedules(data.schedules)\n        if (!isNil(data?.importOldMessages)) {\n          setEnableImportMessage(true);\n          setImportOldMessages(data?.importOldMessages);\n          setImportRecentMessages(data?.importRecentMessages);\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/flowbuilder\")\n        setWebhooks(data.flows)\n      } catch (err) {\n        toastError(err)\n      }\n    })();\n  }, [])\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n    setSelectedIntegration(null)\n  };\n\n  const handleChangeIntegration = (e) => {\n    setSelectedIntegration(e.target.value)\n    setSelectedPrompt(null)\n    setSelectedQueueIds([])\n  }\n\n  const handleChangeFlowIdNotPhrase = (e) => {\n    console.log(e.target.value)\n    setFlowIdNotPhrase(e.target.value)\n  }\n\n  const handleChangeFlowIdWelcome = (e) => {\n    console.log(e.target.value)\n    setFlowIdWelcome(e.target.value)\n  }\n\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleSaveWhatsApp = async (values) => {\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\n\n\n\n    if (NPSEnabled) {\n\n      if (isNil(values.ratingMessage)) {\n        toastError(i18n.t(\"whatsappModal.errorRatingMessage\"));\n        return;\n      }\n\n      if (values.expiresTicketNPS === '0' && values.expiresTicketNPS === '' && values.expiresTicketNPS === 0) {\n        toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\n        return;\n      }\n    }\n\n\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\n\n    if ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) && (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\n      return;\n    }\n\n    const whatsappData = {\n      ...values,\n      flowIdWelcome: flowIdWelcome ? flowIdWelcome : null,\n      flowIdNotPhrase: flowIdNotPhrase ? flowIdNotPhrase : null,\n      integrationId: selectedIntegration ? selectedIntegration : null,\n      queueIds: selectedQueueIds,\n      importOldMessages: enableImportMessage ? importOldMessages : null,\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\n      token: autoToken ? autoToken : null, schedules,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n\n    console.dir(whatsappData)\n\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\n          try {\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\n          } catch (err) {\n            toastError(err);\n          }\n        }\n\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\n        }\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\n        }\n      } else {\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n\n  };\n\n  function generateRandomCode(length) {\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\n    let code = \"\";\n\n    for (let i = 0; i < length; i++) {\n      const randomIndex = Math.floor(Math.random() * charset.length);\n      code += charset.charAt(randomIndex);\n    }\n    return code;\n  }\n\n  const handleRefreshToken = () => {\n    setAutoToken(generateRandomCode(30));\n  }\n\n  const handleCopyToken = () => {\n    navigator.clipboard.writeText(autoToken); // Copia o token para a rea de transferncia    \n    setCopied(true); // Define o estado de cpia como verdadeiro\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alteraes\");\n    setSchedules(values);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n    setEnableImportMessage(false);\n    // inputFileRef.current.value = null\n    setAttachment(null)\n    setAttachmentName(\"\")\n    setCopied(false);\n  };\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleFileUpload = () => {\n    const file = inputFileRef.current.files[0];\n    setAttachment(file)\n    setAttachmentName(file.name)\n    inputFileRef.current.value = null\n  };\n\n  const handleDeleFile = () => {\n    setAttachment(null)\n    setAttachmentName(null)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"lg\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <Paper className={classes.mainPaper} elevation={1}>\n                <Tabs\n                  value={tab}\n                  indicatorColor=\"primary\"\n                  textColor=\"primary\"\n                  scrollButtons=\"on\"\n                  variant=\"scrollable\"\n                  onChange={handleTabChange}\n                  className={classes.tab}\n                >\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\n                  <Tab label=\"Fluxo Padro\" value={\"flowbuilder\"} />\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\n                </Tabs>\n              </Paper>\n              <Paper className={classes.paper} elevation={0}>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"general\"}\n                >\n                  <DialogContent dividers>\n                    {attachmentName && (\n                      <div\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\n                      >\n                        <Button\n                          variant='outlined'\n                          color=\"primary\"\n                          endIcon={<DeleteOutlineIcon />}\n                          onClick={handleDeleFile}\n                        >\n                          {attachmentName}\n                        </Button>\n                      </div>\n                    )}\n                    <div\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\n                    >\n                      <input\n                        type=\"file\"\n                        accept=\"video/*,image/*\"\n                        ref={inputFileRef}\n                        style={{ display: 'none' }}\n                        onChange={handleFileUpload}\n                      />\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\n                        {i18n.t(\"userModal.buttons.addImage\")}\n                      </Button>\n                    </div>\n                    {/* NOME E PADRAO */}\n                    <div className={classes.multFieldLine}>\n                      <Grid spacing={2} container>\n                        <Grid item>\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"whatsappModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helperText={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid style={{ paddingTop: 15 }} item>\n                          <FormControlLabel\n                            control={\n                              <Field\n                                as={Switch}\n                                color=\"primary\"\n                                name=\"isDefault\"\n                                checked={values.isDefault}\n                              />\n                            }\n                            label={i18n.t(\"whatsappModal.form.default\")}\n                          />\n                          <FormControlLabel\n                            control={\n                              <Field\n                                as={Switch}\n                                color=\"primary\"\n                                name=\"allowGroup\"\n                                checked={values.allowGroup}\n                              />\n                            }\n                            label={i18n.t(\"whatsappModal.form.group\")}\n                          />\n                        </Grid>\n                        <Grid xs={6} md={4} item>\n                          <FormControl\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.formControl}\n                          >\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\n                              labelId=\"groupAsTicket-selection-label\"\n                              id=\"groupAsTicket\"\n                              name=\"groupAsTicket\"\n                            >\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                      </Grid>\n                    </div>\n\n\n                    <div className={classes.importMessage}>\n                      <div className={classes.multFieldLine}>\n                        <FormControlLabel\n                          style={{ marginRight: 7, color: \"gray\" }}\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\n                          labelPlacement=\"end\"\n                          control={\n                            <Switch\n                              size=\"medium\"\n                              checked={enableImportMessage}\n                              onChange={handleEnableImportMessage}\n                              name=\"importOldMessagesEnable\"\n                              color=\"primary\"\n                            />\n                          }\n                        />\n\n                        {enableImportMessage ? (\n                          <>\n                            <FormControlLabel\n                              style={{ marginRight: 7, color: \"gray\" }}\n                              label={i18n.t(\n                                \"whatsappModal.form.importOldMessagesGroups\"\n                              )}\n                              labelPlacement=\"end\"\n                              control={\n                                <Switch\n                                  size=\"medium\"\n                                  checked={importOldMessagesGroups}\n                                  onChange={(e) =>\n                                    setImportOldMessagesGroups(e.target.checked)\n                                  }\n                                  name=\"importOldMessagesGroups\"\n                                  color=\"primary\"\n                                />\n                              }\n                            />\n\n                            <FormControlLabel\n                              style={{ marginRight: 7, color: \"gray\" }}\n                              label={i18n.t(\n                                \"whatsappModal.form.closedTicketsPostImported\"\n                              )}\n                              labelPlacement=\"end\"\n                              control={\n                                <Switch\n                                  size=\"medium\"\n                                  checked={closedTicketsPostImported}\n                                  onChange={(e) =>\n                                    setClosedTicketsPostImported(e.target.checked)\n                                  }\n                                  name=\"closedTicketsPostImported\"\n                                  color=\"primary\"\n                                />\n                              }\n                            />\n                          </>) : <></>}\n                      </div>\n\n                      {enableImportMessage ? (\n                        <Grid style={{ marginTop: 18 }} container spacing={1}>\n                          <Grid item xs={6}>\n                            <Field\n                              fullWidth\n                              as={TextField}\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\n                              type=\"datetime-local\"\n                              name=\"importOldMessages\"\n                              inputProps={{\n                                max: moment()\n                                  .add(0, \"minutes\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                                min: moment()\n                                  .add(-2, \"years\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                              }}\n                              //min=\"2022-11-06T22:22:55\"\n                              InputLabelProps={{\n                                shrink: true,\n                              }}\n                              error={\n                                touched.importOldMessages &&\n                                Boolean(errors.importOldMessages)\n                              }\n                              helperText={\n                                touched.importOldMessages && errors.importOldMessages\n                              }\n                              variant=\"outlined\"\n                              value={moment(importOldMessages).format(\n                                \"YYYY-MM-DDTHH:mm\"\n                              )}\n                              onChange={(e) => {\n                                setImportOldMessages(e.target.value);\n                              }}\n                            />\n                          </Grid>\n                          <Grid item xs={6}>\n                            <Field\n                              fullWidth\n                              as={TextField}\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\n                              type=\"datetime-local\"\n                              name=\"importRecentMessages\"\n                              inputProps={{\n                                max: moment()\n                                  .add(0, \"minutes\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                                min: moment(importOldMessages).format(\n                                  \"YYYY-MM-DDTHH:mm\"\n                                )\n                              }}\n                              //min=\"2022-11-06T22:22:55\"\n                              InputLabelProps={{\n                                shrink: true,\n                              }}\n                              error={\n                                touched.importRecentMessages &&\n                                Boolean(errors.importRecentMessages)\n                              }\n                              helperText={\n                                touched.importRecentMessages && errors.importRecentMessages\n                              }\n                              variant=\"outlined\"\n                              value={moment(importRecentMessages).format(\n                                \"YYYY-MM-DDTHH:mm\"\n                              )}\n                              onChange={(e) => {\n                                setImportRecentMessages(e.target.value);\n                              }}\n                            />\n                          </Grid>\n                          <Grid xs={12} md={12} xl={12} item>\n                            <FormControl\n                              variant=\"outlined\"\n                              margin=\"dense\"\n                              className={classes.FormControl}\n                              fullWidth\n                            >\n                              <InputLabel id=\"queueIdImportMessages-selection-label\">\n                                {i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\n                              </InputLabel>\n                              <Field\n                                as={Select}\n                                name=\"queueIdImportMessages\"\n                                id=\"queueIdImportMessages\"\n                                value={values.queueIdImportMessages || '0'}\n                                required={enableImportMessage}\n                                label={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\n                                placeholder={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\n                                labelId=\"queueIdImportMessages-selection-label\"\n                              >\n                                <MenuItem value={0}>&nbsp;</MenuItem>\n                                {queues.map(queue => (\n                                  <MenuItem key={queue.id} value={queue.id}>\n                                    {queue.name}\n                                  </MenuItem>\n                                ))}\n                              </Field>\n                            </FormControl>\n                          </Grid>\n                        </Grid>\n\n                      ) : null}\n                    </div>\n                    {enableImportMessage && (\n                      <span style={{ color: \"red\" }}>\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\n                      </span>\n                    )}\n\n\n                    {/* TOKEN */}\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Grid xs={6} md={12} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.token\")}\n                          type=\"token\"\n                          fullWidth\n                          // name=\"token\"\n                          value={autoToken}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          disabled\n                        />\n                      </Grid>\n                      <Button\n                        onClick={handleRefreshToken}\n                        disabled={isSubmitting}\n                        className={classes.tokenRefresh}\n                        variant=\"text\"\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\n                      />\n                      <Button\n                        onClick={handleCopyToken}\n                        className={classes.tokenRefresh}\n                        variant=\"text\"\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\n                      />\n                    </Box>\n\n                    <div>\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n                      <Grid spacing={2} container>\n\n                        <Grid xs={6} md={6} item>\n                          <FormControl\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.FormControl}\n                            fullWidth\n                          >\n                            <InputLabel id=\"sendIdQueue-selection-label\">\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                            </InputLabel>\n                            <Field\n                              as={Select}\n                              name=\"sendIdQueue\"\n                              id=\"sendIdQueue\"\n                              value={values.sendIdQueue || '0'}\n                              required={values.timeSendQueue > 0}\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                              labelId=\"sendIdQueue-selection-label\"\n                            >\n                              <MenuItem value={0}>&nbsp;</MenuItem>\n                              {queues.map(queue => (\n                                <MenuItem key={queue.id} value={queue.id}>\n                                  {queue.name}\n                                </MenuItem>\n                              ))}\n                            </Field>\n                          </FormControl>\n\n                        </Grid>\n\n                        <Grid xs={6} md={6} item>\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\n                            fullWidth\n                            name=\"timeSendQueue\"\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\n                          />\n                        </Grid>\n\n                      </Grid>\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                {/* INTEGRAO */}\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"integrations\"}\n                >\n                  <DialogContent dividers>\n                    {/* FILAS */}\n                    <QueueSelect\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                    />\n                    {showIntegrations && (\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Select\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          value={selectedIntegration || \"\"}\n                          onChange={handleChangeIntegration}\n                          id=\"integrationId\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"                        >\n                          <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    )}\n                    {showOpenAi && (\n                      <FormControl\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                      >\n                        <InputLabel>\n                          {i18n.t(\"whatsappModal.form.prompt\")}\n                        </InputLabel>\n                        <Select\n                          labelId=\"dialog-select-prompt-label\"\n                          id=\"dialog-select-prompt\"\n                          name=\"promptId\"\n                          value={selectedPrompt || \"\"}\n                          onChange={handleChangePrompt}\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\n                          fullWidth\n                          MenuProps={{\n                            anchorOrigin: {\n                              vertical: \"bottom\",\n                              horizontal: \"left\",\n                            },\n                            transformOrigin: {\n                              vertical: \"top\",\n                              horizontal: \"left\",\n                            },\n                            getContentAnchorEl: null,\n                          }}\n                        >\n                          {prompts.map((prompt) => (\n                            <MenuItem\n                              key={prompt.id}\n                              value={prompt.id}\n                            >\n                              {prompt.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    )}\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"messages\"}\n                >\n                  <DialogContent dividers>\n                    {/* MENSAGEM DE SAUDAO */}\n                    <Grid container spacing={1}>\n                      <Grid item xs={12} md={12} xl={12}>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.greetingMessage\")}\n                          type=\"greetingMessage\"\n                          multiline\n                          rows={4}\n                          fullWidth\n                          name=\"greetingMessage\"\n                          error={\n                            touched.greetingMessage && Boolean(errors.greetingMessage)\n                          }\n                          helperText={\n                            touched.greetingMessage && errors.greetingMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      </Grid>\n\n                      {/* MENSAGEM DE CONCLUSO */}\n                      <Grid item xs={12} md={12} xl={12}>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.complationMessage\")}\n                          multiline\n                          rows={4}\n                          fullWidth\n                          name=\"complationMessage\"\n                          error={\n                            touched.complationMessage &&\n                            Boolean(errors.complationMessage)\n                          }\n                          helperText={\n                            touched.complationMessage && errors.complationMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      </Grid>\n\n                      {/* MENSAGEM DE FORA DE EXPEDIENTE */}\n                      <Grid item xs={12} md={12} xl={12}>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\n                          multiline\n                          rows={4}\n                          fullWidth\n                          name=\"outOfHoursMessage\"\n                          error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\n                          helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      </Grid>\n                      {/* MENSAGEM DE FRIAS COLETIVAS */}\n                      <Grid item xs={12} md={12} xl={12}>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationMessage\")}\n                          multiline\n                          rows={4}\n                          fullWidth\n                          name=\"collectiveVacationMessage\"\n                          error={touched.collectiveVacationMessage && Boolean(errors.collectiveVacationMessage)}\n                          helperText={touched.collectiveVacationMessage && errors.collectiveVacationMessage}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      </Grid>\n                      <Grid item xs={6}>\n                        <Field\n                          fullWidth\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationStart\")}\n                          type=\"date\"\n                          name=\"collectiveVacationStart\"\n                          required={values.collectiveVacationMessage?.length > 0}\n                          inputProps={{\n                            min: moment()\n                              .add(-10, \"days\")\n                              .format(\"YYYY-MM-DD\"),\n                          }}\n                          //min=\"2022-11-06T22:22:55\"\n                          InputLabelProps={{\n                            shrink: true,\n                          }}\n                          error={\n                            touched.collectiveVacationStart &&\n                            Boolean(errors.collectiveVacationStart)\n                          }\n                          helperText={\n                            touched.collectiveVacationStart && errors.collectiveVacationStart\n                          }\n                          variant=\"outlined\"\n                        />\n                      </Grid>\n                      <Grid item xs={6}>\n                        <Field\n                          fullWidth\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationEnd\")}\n                          type=\"date\"\n                          name=\"collectiveVacationEnd\"\n                          required={values.collectiveVacationMessage?.length > 0}\n                          inputProps={{\n                            min: moment()\n                              .add(-10, \"days\")\n                              .format(\"YYYY-MM-DD\")\n                          }}\n                          //min=\"2022-11-06T22:22:55\"\n                          InputLabelProps={{\n                            shrink: true,\n                          }}\n                          error={\n                            touched.collectiveVacationEnd &&\n                            Boolean(errors.collectiveVacationEnd)\n                          }\n                          helperText={\n                            touched.collectiveVacationEnd && errors.collectiveVacationEnd\n                          }\n                          variant=\"outlined\"\n                        />\n                      </Grid>\n                    </Grid>\n                  </DialogContent>\n                </TabPanel>\n\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"chatbot\"}\n                >\n                  <DialogContent dividers>\n                    <Grid spacing={2} container>\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\n                          fullWidth\n                          name=\"timeCreateNewTicket\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\n                        />\n                      </Grid>\n\n                      {/* QUANTIDADE MXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\n                          fullWidth\n                          name=\"maxUseBotQueues\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\n                        />\n                      </Grid>\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\n                          fullWidth\n                          name=\"timeUseBotQueues\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\n                        />\n                      </Grid>\n                    </Grid>\n                    <Grid spacing={2} container>\n                      {/* ENCERRAR CHATS ABERTOS APS X HORAS */}\n                      <Grid xs={6} md={6} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                          fullWidth\n                          name=\"expiresTicket\"\n                          required={values.timeInactiveMessage > 0}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                          helperText={touched.expiresTicket && errors.expiresTicket}\n                        />\n                      </Grid>\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\n                      <Grid xs={6} md={6} item>\n                        <FormControl\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          className={classes.formControl}\n                        >\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\n                          </InputLabel>\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\n                            placeholder={i18n.t(\n                              \"whatsappModal.form.whenExpiresTicket\"\n                            )}\n                            labelId=\"whenExpiresTicket-selection-label\"\n                            id=\"whenExpiresTicket\"\n                            name=\"whenExpiresTicket\"\n                          >\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\n                          </Field>\n                        </FormControl>\n                      </Grid>\n                    </Grid>\n                    {/* MENSAGEM POR INATIVIDADE*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"expiresInactiveMessage\"\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\n                      fullWidth\n                      name=\"timeInactiveMessage\"\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\n                    />\n                    {/* MENSAGEM POR INATIVIDADE*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"inactiveMessage\"\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"nps\"}\n                >\n                  <DialogContent dividers>\n                    {/* MENSAGEM DE AVALIAAO*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"ratingMessage\"\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\n                        helperText={touched.ratingMessage && errors.ratingMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n                    {/* QUANTIDADE MXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\n                        fullWidth\n                        name=\"maxUseBotQueuesNPS\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\n                      />\n                    </div>\n                    {/* ENCERRAR CHATS NPS APS X Minutos */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\n                        fullWidth\n                        name=\"expiresTicketNPS\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\n                      />\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                {/* Flowbuilder */}\n                {showIntegrations && (\n                  <>\n                    <TabPanel\n                      className={classes.container}\n                      value={tab}\n                      name={\"flowbuilder\"}\n                    >\n                      <DialogContent>\n                        <h3>Fluxo de boas vindas</h3>\n                        <p>Este fluxo  disparado apenas para novos contatos, pessoas que voce no possui em sua lista de contatos e que mandaram uma mensagem\n                        </p>\n                        <FormControl\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          className={classes.FormControl}\n                          fullWidth\n                        >\n                          <Select\n                            name=\"flowIdWelcome\"\n                            value={flowIdWelcome || \"\"}\n                            onChange={handleChangeFlowIdWelcome}\n                            id=\"flowIdWelcome\"\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            labelId=\"flowIdWelcome-selection-label\"                        >\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\n                            {webhooks.map(webhook => (\n                              <MenuItem key={webhook.id} value={webhook.id}>\n                                {webhook.name}\n                              </MenuItem>\n                            ))}\n                          </Select>\n                        </FormControl>\n                      </DialogContent>\n                      <DialogContent>\n                        <h3>Fluxo de resposta padro</h3>\n                        <p>Resposta Padro  enviada com qualquer caractere diferente de uma palavra chave. ATENO! Ser disparada se o atendimento ja estiver fechado.\n\n                        </p>\n                        <FormControl\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          className={classes.FormControl}\n                          fullWidth\n                        >\n                          <Select\n                            name=\"flowNotIdPhrase\"\n                            value={flowIdNotPhrase || \"\"}\n                            onChange={handleChangeFlowIdNotPhrase}\n                            id=\"flowNotIdPhrase\"\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            labelId=\"flowNotIdPhrase-selection-label\"                        >\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\n                            {webhooks.map(webhook => (\n                              <MenuItem key={webhook.id} value={webhook.id}>\n                                {webhook.name}\n                              </MenuItem>\n                            ))}\n                          </Select>\n                        </FormControl>\n                      </DialogContent>\n                    </TabPanel>\n                  </>\n                )}\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"schedules\"}\n                >\n                  {tab === \"schedules\" && (\n                    <Paper style={{ padding: 20 }}>\n                      <SchedulesForm\n                        loading={false}\n                        onSubmit={handleSaveSchedules}\n                        initialValues={schedules}\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\n                      />\n                    </Paper>\n                  )}\n\n                </TabPanel>\n              </Paper>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);","import React, { useEffect, useState, useContext } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n}))\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const [qrCode, setQrCode] = useState(\"\");\n  const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = user.companyId;\n    // const socket = socketConnection({ companyId, userId: user.id });\n\n    const onWhatsappData = (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    }\n    socket.on(`company-${companyId}-whatsappSession`, onWhatsappData);\n\n    return () => {\n      socket.off(`company-${companyId}-whatsappSession`, onWhatsappData);\n    };\n  }, [whatsAppId, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0}>\n          <Typography color=\"secondary\" gutterBottom>\n            {i18n.t(\"qrCode.message\")}\n          </Typography>\n          <div className={classes.root}>\n            {qrCode ? (\n              <QRCode value={qrCode} size={300} style={{ backgroundColor: \"white\", padding: '5px' }} />\n            ) : (\n              <span>Aguardando pelo QR Code</span>\n            )}\n          </div>\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { add, format, parseISO } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Box,\n  Card,\n  CardContent,\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp,\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450,\n  },\n  tooltipPopper: {\n    textAlign: \"center\",\n  },\n  buttonProgress: {\n    color: green[500],\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"caption\"\n          component=\"div\"\n          color=\"textSecondary\"\n        >{`${Math.round(props.value)}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper,\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = (channel) => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook style={{ color: \"#3b5998\" }} />;\n    case \"instagram\":\n      return <Instagram style={{ color: \"#e1306c\" }} />;\n    case \"whatsapp\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    default:\n      return \"error\";\n  }\n};\n\nconst Connections = () => {\n  const classes = useStyles();\n\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [statusImport, setStatusImport] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const history = useHistory();\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false,\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs)\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const responseFacebook = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const responseInstagram = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n    socket.on(`importMessages-${user.companyId}`, (data) => {\n      if (data.action === \"refresh\") {\n        setStatusImport([]);\n        history.go(0);\n      }\n      if (data.action === \"update\") {\n        setStatusImport(data.status);\n      }\n    });\n\n    /* return () => {\n      socket.disconnect();\n    }; */\n  }, [whatsApps]);\n\n  const handleStartWhatsAppSession = async (whatsAppId) => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async (whatsAppId) => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    if (action === \"closedImported\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"closedImported\") {\n      try {\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n\n  const renderImportButton = (whatsApp) => {\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\n      return (\n        <Button\n          style={{ marginLeft: 12 }}\n          size=\"small\"\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => {\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\n          }}\n        >\n          {i18n.t(\"connections.buttons.closedImported\")}\n        </Button>\n      );\n    }\n\n    if (whatsApp?.importOldMessages) {\n      let isTimeStamp = !isNaN(\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\n      );\n\n      if (isTimeStamp) {\n        const ultimoStatus = new Date(\n          Math.floor(whatsApp?.statusImportMessages)\n        ).getTime();\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\n        if (dataLimite > new Date().getTime()) {\n          return (\n            <>\n              <Button\n                disabled\n                style={{ marginLeft: 12 }}\n                size=\"small\"\n                endIcon={\n                  <CircularProgress\n                    size={12}\n                    className={classes.buttonProgress}\n                  />\n                }\n                variant=\"outlined\"\n                color=\"primary\"\n              >\n                {i18n.t(\"connections.buttons.preparing\")}\n              </Button>\n            </>\n          );\n        }\n      }\n    }\n  };\n\n  const renderActionButtons = (whatsApp) => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleOpenQrModal(whatsApp)}\n              >\n                {i18n.t(\"connections.buttons.qrcode\")}\n              </Button>\n            )}\n          />\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <>\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.tryAgain\")}\n                </Button>{\" \"}\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.newQr\")}\n                </Button>\n              </>\n            )}\n          />\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Can\n              role={user.profile}\n              perform=\"connections-page:addConnection\"\n              yes={() => (\n                <>\n                  <Button\n                    size=\"small\"\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => {\n                      handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n                    }}\n                  >\n                    {i18n.t(\"connections.buttons.disconnect\")}\n                  </Button>\n\n                  {renderImportButton(whatsApp)}\n                </>\n              )}\n            />\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = (whatsApp) => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const restartWhatsapps = async () => {\n\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"connections.waitConnection\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      {qrModalOpen && (\n        <QrcodeModal\n          open={qrModalOpen}\n          onClose={handleCloseQrModal}\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n        />\n      )}\n      <WhatsAppModal\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={restartWhatsapps}\n              >\n                {i18n.t(\"connections.restartConnections\")}\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\n              >\n                {i18n.t(\"connections.callSupport\")}\n              </Button>\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                {(popupState) => (\n                  <React.Fragment>\n                    <Can\n                      role={user.profile}\n                      perform=\"connections-page:addConnection\"\n                      yes={() => (\n                        <>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            {...bindTrigger(popupState)}\n                          >\n                            {i18n.t(\"connections.newConnection\")}\n                          </Button>\n                          <Menu {...bindMenu(popupState)}>\n                            {/* WHATSAPP */}\n                            <MenuItem\n                              disabled={planConfig?.plan?.useWhatsapp ? false : true}\n                              onClick={() => {\n                                handleOpenWhatsAppModal();\n                                popupState.close();\n                              }}\n                            >\n                              <WhatsApp\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\",\n                                  color: \"#25D366\",\n                                }}\n                              />\n                              WhatsApp\n                            </MenuItem>\n                            {/* FACEBOOK */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseFacebook}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useFacebook ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Facebook\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#3b5998\",\n                                    }}\n                                  />\n                                  Facebook\n                                </MenuItem>\n                              )}\n                            />\n                            {/* INSTAGRAM */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseInstagram}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useInstagram ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Instagram\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#e1306c\",\n                                    }}\n                                  />\n                                  Instagram\n                                </MenuItem>\n                              )}\n                            />\n                          </Menu>\n                        </>\n                      )}\n                    />\n                  </React.Fragment>\n                )}\n              </PopupState>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n\n          {\n            statusImport?.all ? (\n              <>\n                <div style={{ margin: \"auto\", marginBottom: 12 }}>\n                  <Card className={classes.root}>\n                    <CardContent className={classes.content}>\n                      <Typography component=\"h5\" variant=\"h5\">\n\n                        {statusImport?.this === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")}\n\n                      </Typography>\n                      {statusImport?.this === -1 ?\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n\n                          <CircularProgress\n                            size={24}\n                          />\n\n                        </Typography>\n                        :\n                        <>\n                          <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n                            {`${i18n.t(`connections.typography.processed`)} ${statusImport?.this} ${i18n.t(`connections.typography.in`)} ${statusImport?.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport?.date} `}\n                          </Typography>\n                          <Typography align=\"center\">\n                            <CircularProgressWithLabel\n                              style={{ margin: \"auto\" }}\n                              value={(statusImport?.this / statusImport?.all) * 100}\n                            />\n                          </Typography>\n                        </>\n                      }\n                    </CardContent>\n                  </Card>\n                </div>\n              </>\n            ) : null\n          }\n\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Channel</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\n                  <Can\n                    role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n                    perform=\"connections-page:addConnection\"\n                    yes={() => (\n                      <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\n                    )}\n                  />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loading ? (\n                  <TableRowSkeleton />\n                ) : (\n                  <>\n                    {whatsApps?.length > 0 &&\n                      whatsApps.map((whatsApp) => (\n                        <TableRow key={whatsApp.id}>\n                          <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.number && whatsApp.channel === 'whatsapp' ? (<>{formatSerializedId(whatsApp.number)}</>) : whatsApp.number}</TableCell>\n                          <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\n                          <TableCell align=\"center\">\n                            {whatsApp.isDefault && (\n                              <div className={classes.customTableCell}>\n                                <CheckCircle style={{ color: green[500] }} />\n                              </div>\n                            )}\n                          </TableCell>\n                          <Can\n                            role={user.profile}\n                            perform=\"connections-page:addConnection\"\n                            yes={() => (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\n                                >\n                                  <Edit />\n                                </IconButton>\n\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={(e) => {\n                                    handleOpenConfirmationModal(\"delete\", whatsApp.id);\n                                  }}\n                                >\n                                  <DeleteOutline />\n                                </IconButton>\n                              </TableCell>\n                            )}\n                          />\n                        </TableRow>\n                      ))}\n                  </>\n                )}\n              </TableBody>\n            </Table>\n          </Paper>\n        </>\n      }\n    </MainContainer >\n\n  );\n};\n\nexport default Connections;","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelect\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    padding: \"2px\"\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    // padding: theme.spacing(2), //comentado para retirar o scroll do Empresas\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    // overflowX: \"scroll\",\n    // ...theme.scrollbarStyles,\n    padding: \"2px\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    // paddingTop: theme.spacing(2),\n    // paddingBottom: theme.spacing(2),\n  },\n  control: {\n    // paddingRight: theme.spacing(1),\n    // paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    // padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    // campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    password: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={1} justifyContent=\"center\" container>\n              <Grid xs={12} sm={6} md={3} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"compaies.table.name\")}\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"compaies.table.email\")}\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"compaies.table.password\")}\n                  name=\"password\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"compaies.table.phone\")}\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">{i18n.t(\"compaies.table.plan\")}</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label={i18n.t(\"compaies.table.plan\")}\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={1} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">{i18n.t(\"compaies.table.active\")}</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label={i18n.t(\"compaies.table.active\")}\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>{i18n.t(\"compaies.table.yes\")}</MenuItem>\n                    <MenuItem value={false}>{i18n.t(\"compaies.table.no\")}</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              {/* <Grid xs={12} sm={6} md={3} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"payment-method-selection\">\n                    Mtodo de Pagamento\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"payment-method-selection\"\n                    label=\"Mtodo de Pagamento\"\n                    labelId=\"payment-method-selection-label\"\n                    name=\"paymentMethod\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={\"pix\"}>PIX</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid> */}\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"compaies.table.document\")}\n                  name=\"document\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              {/* <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid> */}\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"compaies.table.dueDate\")}\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                  {i18n.t(\"compaies.table.recurrence\")}\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrncia\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">{i18n.t(\"compaies.table.monthly\")}</MenuItem>\n                    <MenuItem value=\"BIMESTRAL\">{i18n.t(\"compaies.table.bimonthly\")}</MenuItem>\n                    <MenuItem value=\"TRIMESTRAL\">{i18n.t(\"compaies.table.quarterly\")}</MenuItem>\n                    <MenuItem value=\"SEMESTRAL\">{i18n.t(\"compaies.table.semester\")}</MenuItem>\n                    <MenuItem value=\"ANUAL\">{i18n.t(\"compaies.table.yearly\")}</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      {i18n.t(\"compaies.table.clear\")}\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          {i18n.t(\"compaies.table.delete\")}\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          {i18n.t(\"compaies.table.dueDate\")}\n                        </ButtonWithSpinner>\n                      </Grid>\n                      {/* <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          {i18n.t(\"compaies.table.user\")}\n                        </ButtonWithSpinner>\n                      </Grid> */}\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      {i18n.t(\"compaies.table.save\")}\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient, datetimeToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"No\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderPlanValue = (row) => {\n    return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\n  };\n\n  // const renderCampaignsStatus = (row) => {\n  //   if (\n  //     has(row, \"settings\") &&\n  //     isArray(row.settings) &&\n  //     row.settings.length > 0\n  //   ) {\n  //     const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n  //     if (setting) {\n  //       return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n  //     }\n  //   }\n  //   return \"Desabilitadas\";\n  // };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff >= 1 && diff <= 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff <= 0) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n      // else {\n      //   return { backgroundColor: \"#affa8c\" };\n      // }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        // size=\"small\"\n        padding=\"none\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>#</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.name\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.email\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.phone\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.plan\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\n            {/* <TableCell align=\"center\">Campanhas</TableCell> */}\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.active\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\" size=\"small\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"center\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"center\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"compaies.table.money\")} {renderPlanValue(row)}</TableCell>\n              {/* <TableCell align=\"center\">{renderCampaignsStatus(row)}</TableCell> */}\n              <TableCell align=\"center\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"center\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"center\">{dateToClient(row.dueDate)}<br /><span>{row.recurrence}</span></TableCell>\n              <TableCell align=\"center\">{datetimeToClient(row.lastLogin)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    // campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    password: \"\",\n    document: \"\",\n    paymentMethod: \"\"\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"No foi possvel carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operao realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"No foi possvel realizar a operao. Verifique se j existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operao realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"No foi possvel realizar a operao\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      // campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n      password: \"\",\n      document: \"\",\n      paymentMethod: \"\"\n    }));\n  };\n\n  const handleSelect = (data) => {\n    // let campaignsEnabled = false;\n\n    // const setting = data.settings.find(\n    //   (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    // );\n    // if (setting) {\n    //   campaignsEnabled = setting.value === \"true\" || setting.value === \"enabled\";\n    // }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      // campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n      password: \"\",\n      document: data.document || \"\",\n      paymentMethod: data.paymentMethod || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Excluso de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        amount: 0,\n        useWhatsapp: true,\n        useFacebook: true,\n        useInstagram: true,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n        isPublic: true\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.name\")}\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"status-selection\">{i18n.t(\"plans.form.public\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"status-selection\"\n                                    label={i18n.t(\"plans.form.public\")}\n                                    labelId=\"status-selection-label\"\n                                    name=\"isPublic\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Sim</MenuItem>\n                                    <MenuItem value={false}>No</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.users\")}\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.connections\")}\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"amount\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"text\"\n                            />\n                        </Grid>\n\n                        {/* WHATSAPP */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useWhatsapp-selection\">Whatsapp</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useWhatsapp-selection\"\n                                    label=\"Whatsapp\"\n                                    labelId=\"useWhatsapp-selection-label\"\n                                    name=\"useWhatsapp\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* FACEBOOK */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useFacebook-selection\">Facebook</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useFacebook-selection\"\n                                    label=\"Facebook\"\n                                    labelId=\"useFacebook-selection-label\"\n                                    name=\"useFacebook\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INSTAGRAM */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInstagram-selection\">Instagram</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInstagram-selection\"\n                                    label=\"Instagram\"\n                                    labelId=\"useInstagram-selection-label\"\n                                    name=\"useInstagram\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label={i18n.t(\"plans.form.campaigns\")}\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label={i18n.t(\"plans.form.schedules\")}\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={4} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* KANBAN */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useKanban-selection\"\n                                    label=\"Kanban\"\n                                    labelId=\"useKanban-selection-label\"\n                                    name=\"useKanban\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* OPENAI */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Talk.Ai</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useOpenAi-selection\"\n                                    label=\"Talk.Ai\"\n                                    labelId=\"useOpenAi-selection-label\"\n                                    name=\"useOpenAi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INTEGRACOES */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integraes</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useIntegrations-selection\"\n                                    label=\"Integraes\"\n                                    labelId=\"useIntegrations-selection-label\"\n                                    name=\"useIntegrations\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                {i18n.t(\"plans.form.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={2} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    {i18n.t(\"plans.form.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                {i18n.t(\"plans.form.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    const renderWhatsapp = (row) => {\n        return row.useWhatsapp === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderFacebook = (row) => {\n        return row.useFacebook === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInstagram = (row) => {\n        return row.useInstagram === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderKanban = (row) => {\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderOpenAi = (row) => {\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderIntegrations = (row) => {\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.public\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\n                        <TableCell align=\"center\">Filas</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">Whatsapp</TableCell>\n                        <TableCell align=\"center\">Facebook</TableCell>\n                        <TableCell align=\"center\">Instagram</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                        <TableCell align=\"center\">Kanban</TableCell>\n                        <TableCell align=\"center\">Talk.Ai</TableCell>\n                        <TableCell align=\"center\">Integraes</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.isPublic ? \"Sim\": \"No\" || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.amount ? row.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderWhatsapp(row)}</TableCell>\n                            <TableCell align=\"center\">{renderFacebook(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInstagram(row)}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        amount: 0,\n        useWhatsapp: true,\n        useFacebook: true,\n        useInstagram: true,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n        isPublic: true\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [record])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('No foi possvel carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        console.log(data)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao. Verifique se j existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            id: undefined,\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            amount: 0,\n            useWhatsapp: true,\n            useFacebook: true,\n            useInstagram: true,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n            useKanban: true,\n            useOpenAi: true,\n            useIntegrations: true,\n            isPublic: true\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useWhatsapp = data.useWhatsapp === false ? false : true\n        let useFacebook = data.useFacebook === false ? false : true\n        let useInstagram = data.useInstagram === false ? false : true\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n        let useKanban = data.useKanban === false ? false : true\n        let useOpenAi = data.useOpenAi === false ? false : true\n        let useIntegrations = data.useIntegrations === false ? false : true\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            amount: data.amount?.toLocaleString('pt-br', { minimumFractionDigits: 2 }) || 0,\n            useWhatsapp,\n            useFacebook,\n            useInstagram,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi,\n            useKanban,\n            useOpenAi,\n            useIntegrations,\n            isPublic: data.isPublic\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Excluso de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Ttulo\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"helps.settings.codeVideo\")}\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"helps.settings.description\")}\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                            {i18n.t(\"helps.settings.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                {i18n.t(\"helps.settings.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                            {i18n.t(\"helps.settings.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Ttulo</TableCell>\n                    <TableCell align=\"left\">{i18n.t(\"helps.settings.description\")}</TableCell>\n                    <TableCell align=\"left\">Video</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('No foi possvel carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao. Verifique se j existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Excluso de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import React, { useEffect, useState, useContext } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nimport useSettings from \"../../hooks/useSettings\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\n\nimport { Tab, Tabs, TextField } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  tab: {\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n  },\n}));\n\nexport default function Options(props) {\n  const { oldSettings, settings, scheduleTypeChanged, user } = props;\n\n  const classes = useStyles();\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [chatBotType, setChatBotType] = useState(\"text\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n\n  const [userCreation, setUserCreation] = useState(\"disabled\");\n  const [loadingUserCreation, setLoadingUserCreation] = useState(false);\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"enabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n\n  const [UserRandom, setUserRandom] = useState(\"enabled\");\n  const [loadingUserRandom, setLoadingUserRandom] = useState(false);\n\n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"enabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n\n  const [AcceptCallWhatsapp, setAcceptCallWhatsapp] = useState(\"enabled\");\n  const [loadingAcceptCallWhatsapp, setLoadingAcceptCallWhatsapp] = useState(false);\n\n  const [sendSignMessage, setSendSignMessage] = useState(\"enabled\");\n  const [loadingSendSignMessage, setLoadingSendSignMessage] = useState(false);\n\n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"enabled\");\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\n\n  const [sendQueuePosition, setSendQueuePosition] = useState(\"enabled\");\n  const [loadingSendQueuePosition, setLoadingSendQueuePosition] = useState(false);\n\n  const [sendFarewellWaitingTicket, setSendFarewellWaitingTicket] = useState(\"enabled\");\n  const [loadingSendFarewellWaitingTicket, setLoadingSendFarewellWaitingTicket] = useState(false);\n\n  const [acceptAudioMessageContact, setAcceptAudioMessageContact] = useState(\"enabled\");\n  const [loadingAcceptAudioMessageContact, setLoadingAcceptAudioMessageContact] = useState(false);\n\n  //LGPD\n  const [enableLGPD, setEnableLGPD] = useState(\"disabled\");\n  const [loadingEnableLGPD, setLoadingEnableLGPD] = useState(false);\n\n  const [lgpdMessage, setLGPDMessage] = useState(\"\");\n  const [loadinglgpdMessage, setLoadingLGPDMessage] = useState(false);\n\n  const [lgpdLink, setLGPDLink] = useState(\"\");\n  const [loadingLGPDLink, setLoadingLGPDLink] = useState(false);\n\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(\"disabled\");\n  const [loadingLGPDDeleteMessage, setLoadingLGPDDeleteMessage] = useState(false);\n\n  const [lgpdConsent, setLGPDConsent] = useState(\"disabled\");\n  const [loadingLGPDConsent, setLoadingLGPDConsent] = useState(false);\n\n  const [lgpdHideNumber, setLGPDHideNumber] = useState(\"disabled\");\n  const [loadingLGPDHideNumber, setLoadingLGPDHideNumber] = useState(false);\n\n  // Tag obrigatoria\n  const [requiredTag, setRequiredTag] = useState(\"enabled\")\n  const [loadingRequiredTag, setLoadingRequiredTag] = useState(false)\n\n  // Fechar ticket ao transferir para outro setor\n  const [closeTicketOnTransfer, setCloseTicketOnTransfer] = useState(false)\n  const [loadingCloseTicketOnTransfer, setLoadingCloseTicketOnTransfer] = useState(false)\n\n  // Usar carteira de clientes\n  const [directTicketsToWallets, setDirectTicketsToWallets] = useState(false)\n  const [loadingDirectTicketsToWallets, setLoadingDirectTicketsToWallets] = useState(false)\n\n  //MENSAGENS CUSTOMIZADAS\n  const [transferMessage, setTransferMessage] = useState(\"\");\n  const [loadingTransferMessage, setLoadingTransferMessage] = useState(false);\n\n  const [greetingAcceptedMessage, setGreetingAcceptedMessage] = useState(\"\");\n  const [loadingGreetingAcceptedMessage, setLoadingGreetingAcceptedMessage] = useState(false);\n  \n  const [AcceptCallWhatsappMessage, setAcceptCallWhatsappMessage] = useState(\"\");\n  const [loadingAcceptCallWhatsappMessage, setLoadingAcceptCallWhatsappMessage] = useState(false);\n\n  const [sendQueuePositionMessage, setSendQueuePositionMessage] = useState(\"\");\n  const [loadingSendQueuePositionMessage, setLoadingSendQueuePositionMessage] = useState(false);\n\n  const [showNotificationPending, setShowNotificationPending] = useState(false);\n  const [loadingShowNotificationPending, setLoadingShowNotificationPending] = useState(false);\n\n  const { update: updateUserCreation, getAll } = useSettings();\n\n  const { update } = useCompanySettings();\n\n  const isSuper = () => {\n    return user.super;\n  };\n\n\n  useEffect(() => {\n\n    if (Array.isArray(oldSettings) && oldSettings.length) {\n\n      const userPar = oldSettings.find((s) => s.key === \"userCreation\");\n\n      if (userPar) {\n        setUserCreation(userPar.value);\n      }\n    }\n  }, [oldSettings])\n\n\n  useEffect(() => {\n    for (const [key, value] of Object.entries(settings)) {\n      if (key === \"userRating\") setUserRating(value);\n      if (key === \"scheduleType\") setScheduleType(value);\n      if (key === \"chatBotType\") setChatBotType(value);\n      if (key === \"acceptCallWhatsapp\") setAcceptCallWhatsapp(value);\n      if (key === \"userRandom\") setUserRandom(value);\n      if (key === \"sendGreetingMessageOneQueues\") setSendGreetingMessageOneQueues(value);\n      if (key === \"sendSignMessage\") setSendSignMessage(value);\n      if (key === \"sendFarewellWaitingTicket\") setSendFarewellWaitingTicket(value);\n      if (key === \"sendGreetingAccepted\") setSendGreetingAccepted(value);\n      if (key === \"sendQueuePosition\") setSendQueuePosition(value);\n      if (key === \"acceptAudioMessageContact\") setAcceptAudioMessageContact(value);\n      if (key === \"enableLGPD\") setEnableLGPD(value);\n      if (key === \"requiredTag\") setRequiredTag(value);\n      if (key === \"lgpdDeleteMessage\") setLGPDDeleteMessage(value)\n      if (key === \"lgpdHideNumber\") setLGPDHideNumber(value);\n      if (key === \"lgpdConsent\") setLGPDConsent(value);\n      if (key === \"lgpdMessage\") setLGPDMessage(value);\n      if (key === \"sendMsgTransfTicket\") setSettingsTransfTicket(value);\n      if (key === \"lgpdLink\") setLGPDLink(value);\n      if (key === \"DirectTicketsToWallets\") setDirectTicketsToWallets(value);\n      if (key === \"closeTicketOnTransfer\") setCloseTicketOnTransfer(value);\n      if (key === \"transferMessage\") setTransferMessage(value);\n      if (key === \"greetingAcceptedMessage\") setGreetingAcceptedMessage(value);\n      if (key === \"AcceptCallWhatsappMessage\") setAcceptCallWhatsappMessage(value);\n      if (key === \"sendQueuePositionMessage\") setSendQueuePositionMessage(value);\n      if (key === \"showNotificationPending\") setShowNotificationPending(value);\n\n    }\n  }, [settings]);\n\n  async function handleChangeUserCreation(value) {\n    setUserCreation(value);\n    setLoadingUserCreation(true);\n    await updateUserCreation({\n      key: \"userCreation\",\n      value,\n    });\n    setLoadingUserCreation(false);\n  }\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      column: \"userRating\",\n      data: value\n    });\n    setLoadingUserRating(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      column: \"scheduleType\",\n      data: value\n    });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleChatBotType(value) {\n    setChatBotType(value);\n    await update({\n      column: \"chatBotType\",\n      data: value\n    });\n    if (typeof scheduleTypeChanged === \"function\") {\n      setChatBotType(value);\n    }\n  }\n\n  async function handleLGPDMessage(value) {\n    setLGPDMessage(value);\n    setLoadingLGPDMessage(true);\n    await update({\n      column: \"lgpdMessage\",\n      data: value\n    });\n    setLoadingLGPDMessage(false);\n  }\n\n  async function handletransferMessage(value) {\n    setTransferMessage(value);\n    setLoadingTransferMessage(true);\n    await update({\n      column: \"transferMessage\",\n      data: value\n    });\n    setLoadingTransferMessage(false);\n  }\n\n  async function handleGreetingAcceptedMessage(value) {\n    setGreetingAcceptedMessage(value);\n    setLoadingGreetingAcceptedMessage(true);\n    await update({\n      column: \"greetingAcceptedMessage\",\n      data: value\n    });\n    setLoadingGreetingAcceptedMessage(false);\n  }\n\n  async function handleAcceptCallWhatsappMessage(value) {\n    setAcceptCallWhatsappMessage(value);\n    setLoadingAcceptCallWhatsappMessage(true);\n    await update({\n      column: \"AcceptCallWhatsappMessage\",\n      data: value\n    });\n    setLoadingAcceptCallWhatsappMessage(false);\n  }\n\n  async function handlesendQueuePositionMessage(value) {\n    setSendQueuePositionMessage(value);\n    setLoadingSendQueuePositionMessage(true);\n    await update({\n      column: \"sendQueuePositionMessage\",\n      data: value\n    });\n    setLoadingSendQueuePositionMessage(false);\n  }\n\n  async function handleShowNotificationPending(value) {\n    setShowNotificationPending(value);\n    setLoadingShowNotificationPending(true);\n    await update({\n      column: \"showNotificationPending\",\n      data: value\n    });\n    setLoadingShowNotificationPending(false);\n  }\n\n  async function handleLGPDLink(value) {\n    setLGPDLink(value);\n    setLoadingLGPDLink(true);\n    await update({\n      column: \"lgpdLink\",\n      data: value\n    });\n    setLoadingLGPDLink(false);\n  }\n\n  async function handleLGPDDeleteMessage(value) {\n    setLGPDDeleteMessage(value);\n    setLoadingLGPDDeleteMessage(true);\n    await update({\n      column: \"lgpdDeleteMessage\",\n      data: value\n    });\n    setLoadingLGPDDeleteMessage(false);\n  }\n\n  async function handleLGPDConsent(value) {\n    setLGPDConsent(value);\n    setLoadingLGPDConsent(true);\n    await update({\n      column: \"lgpdConsent\",\n      data: value\n    });\n    setLoadingLGPDConsent(false);\n  }\n\n  async function handleLGPDHideNumber(value) {\n    setLGPDHideNumber(value);\n    setLoadingLGPDHideNumber(true);\n    await update({\n      column: \"lgpdHideNumber\",\n      data: value\n    });\n    setLoadingLGPDHideNumber(false);\n  }\n\n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      column: \"sendGreetingAccepted\",\n      data: value\n    });\n    setLoadingSendGreetingAccepted(false);\n  }\n\n  async function handleUserRandom(value) {\n    setUserRandom(value);\n    setLoadingUserRandom(true);\n    await update({\n      column: \"userRandom\",\n      data: value\n    });\n    setLoadingUserRandom(false);\n  }\n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      column: \"sendMsgTransfTicket\",\n      data: value\n    });\n    setLoadingSettingsTransfTicket(false);\n  }\n\n  async function handleAcceptCallWhatsapp(value) {\n    setAcceptCallWhatsapp(value);\n    setLoadingAcceptCallWhatsapp(true);\n    await update({\n      column: \"acceptCallWhatsapp\",\n      data: value\n    });\n    setLoadingAcceptCallWhatsapp(false);\n  }\n\n  async function handleSendSignMessage(value) {\n    setSendSignMessage(value);\n    setLoadingSendSignMessage(true);\n    await update({\n      column: \"sendSignMessage\",\n      data: value\n    });\n    localStorage.setItem(\"sendSignMessage\", value === \"enabled\" ? true : false); //atualiza localstorage para sesso\n    setLoadingSendSignMessage(false);\n  }\n\n  async function handleSendGreetingMessageOneQueues(value) {\n    setSendGreetingMessageOneQueues(value);\n    setLoadingSendGreetingMessageOneQueues(true);\n    await update({\n      column: \"sendGreetingMessageOneQueues\",\n      data: value\n    });\n    setLoadingSendGreetingMessageOneQueues(false);\n  }\n\n  async function handleSendQueuePosition(value) {\n    setSendQueuePosition(value);\n    setLoadingSendQueuePosition(true);\n    await update({\n      column: \"sendQueuePosition\",\n      data: value\n    });\n    setLoadingSendQueuePosition(false);\n  }\n\n  async function handleSendFarewellWaitingTicket(value) {\n    setSendFarewellWaitingTicket(value);\n    setLoadingSendFarewellWaitingTicket(true);\n    await update({\n      column: \"sendFarewellWaitingTicket\",\n      data: value\n    });\n    setLoadingSendFarewellWaitingTicket(false);\n  }\n\n  async function handleAcceptAudioMessageContact(value) {\n    setAcceptAudioMessageContact(value);\n    setLoadingAcceptAudioMessageContact(true);\n    await update({\n      column: \"acceptAudioMessageContact\",\n      data: value\n    });\n    setLoadingAcceptAudioMessageContact(false);\n  }\n\n  async function handleEnableLGPD(value) {\n    setEnableLGPD(value);\n    setLoadingEnableLGPD(true);\n    await update({\n      column: \"enableLGPD\",\n      data: value\n    });\n    setLoadingEnableLGPD(false);\n  }\n\n  async function handleRequiredTag(value) {\n    setRequiredTag(value);\n    setLoadingRequiredTag(true);\n    await update({\n      column: \"requiredTag\",\n      data: value,\n    });\n    setLoadingRequiredTag(false);\n  }\n\n  async function handleCloseTicketOnTransfer(value) {\n    setCloseTicketOnTransfer(value);\n    setLoadingCloseTicketOnTransfer(true);\n    await update({\n      column: \"closeTicketOnTransfer\",\n      data: value,\n    });\n    setLoadingCloseTicketOnTransfer(false);\n  }\n\n  async function handleDirectTicketsToWallets(value) {\n    setDirectTicketsToWallets(value);\n    setLoadingDirectTicketsToWallets(true);\n    await update({\n      column: \"DirectTicketsToWallets\",\n      data: value,\n    });\n    setLoadingDirectTicketsToWallets(false);\n  }\n\n  return (\n    <>\n      <Grid spacing={3} container>\n\n        {/* CRIAO DE COMPANY/USERS */}\n        {isSuper() ?\n          <Grid xs={12} sm={6} md={4} item>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"UserCreation-label\">\n                {i18n.t(\"settings.settings.options.creationCompanyUser\")}\n              </InputLabel>\n              <Select\n                labelId=\"UserCreation-label\"\n                value={userCreation}\n                onChange={async (e) => {\n                  handleChangeUserCreation(e.target.value);\n                }}\n              >\n                <MenuItem value={\"disabled\"}>\n                  {i18n.t(\"settings.settings.options.disabled\")}\n                </MenuItem>\n                <MenuItem value={\"enabled\"}>\n                  {i18n.t(\"settings.settings.options.enabled\")}\n                </MenuItem>\n              </Select>\n              <FormHelperText>\n                {loadingUserCreation &&\n                  i18n.t(\"settings.settings.options.updating\")}\n              </FormHelperText>\n            </FormControl>\n          </Grid>\n          : null}\n\n        {/* AVALIAES */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">{i18n.t(\"settings.settings.options.evaluations\")}</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && i18n.t(\"settings.settings.options.evaluations\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* AGENDAMENTO DE EXPEDIENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              {i18n.t(\"settings.settings.options.officeScheduling\")}\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={\"queue\"}>{i18n.t(\"settings.settings.options.queueManagement\")}</MenuItem>\n              <MenuItem value={\"company\"}>{i18n.t(\"settings.settings.options.companyManagement\")}</MenuItem>\n              <MenuItem value={\"connection\"}>{i18n.t(\"settings.settings.options.connectionManagement\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR SAUDAO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">\n              {i18n.t(\"settings.settings.options.sendGreetingAccepted\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ESCOLHER OPERADOR ALEATORIO */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"userRandom-label\">\n              {i18n.t(\"settings.settings.options.userRandom\")}\n            </InputLabel>\n            <Select\n              labelId=\"userRandom-label\"\n              value={UserRandom}\n              onChange={async (e) => {\n                handleUserRandom(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRandom && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">\n              {i18n.t(\"settings.settings.options.sendMsgTransfTicket\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* TIPO DO BOT */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">{i18n.t(\"settings.settings.options.chatBotType\")}</InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={chatBotType}\n              onChange={async (e) => {\n                handleChatBotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n              {/* <MenuItem value={\"button\"}>{i18n.t(\"settings.settings.options.buttons\")}</MenuItem>\n              <MenuItem value={\"list\"}>Lista</MenuItem> */}\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* AVISO SOBRE LIGAO DO WHATSAPP */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"acceptCallWhatsapp-label\">\n              {i18n.t(\"settings.settings.options.acceptCallWhatsapp\")}\n            </InputLabel>\n            <Select\n              labelId=\"acceptCallWhatsapp-label\"\n              value={AcceptCallWhatsapp}\n              onChange={async (e) => {\n                handleAcceptCallWhatsapp(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingAcceptCallWhatsapp && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* HABILITAR PARA O ATENDENTE RETIRAR O ASSINATURA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendSignMessage-label\">\n              {i18n.t(\"settings.settings.options.sendSignMessage\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendSignMessage-label\"\n              value={sendSignMessage}\n              onChange={async (e) => {\n                handleSendSignMessage(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendSignMessage && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR SAUDAO QUANDO HOUVER SOMENTE 1 FILA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">\n              {i18n.t(\"settings.settings.options.sendGreetingMessageOneQueues\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendGreetingMessageOneQueues-label\"\n              value={sendGreetingMessageOneQueues}\n              onChange={async (e) => {\n                handleSendGreetingMessageOneQueues(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingMessageOneQueues && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM COM A POSIO DA FILA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendQueuePosition-label\">\n              {i18n.t(\"settings.settings.options.sendQueuePosition\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendQueuePosition-label\"\n              value={sendQueuePosition}\n              onChange={async (e) => {\n                handleSendQueuePosition(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendQueuePosition && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM DE DESPEDIDA NO AGUARDANDO */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendFarewellWaitingTicket-label\">\n              {i18n.t(\"settings.settings.options.sendFarewellWaitingTicket\")}\n            </InputLabel>\n            <Select\n              labelId=\"sendFarewellWaitingTicket-label\"\n              value={sendFarewellWaitingTicket}\n              onChange={async (e) => {\n                handleSendFarewellWaitingTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendFarewellWaitingTicket && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"acceptAudioMessageContact-label\">\n              {i18n.t(\"settings.settings.options.acceptAudioMessageContact\")}\n            </InputLabel>\n            <Select\n              labelId=\"acceptAudioMessageContact-label\"\n              value={acceptAudioMessageContact}\n              onChange={async (e) => {\n                handleAcceptAudioMessageContact(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>\n                {i18n.t(\"settings.settings.options.disabled\")}\n              </MenuItem>\n              <MenuItem value={\"enabled\"}>\n                {i18n.t(\"settings.settings.options.enabled\")}\n              </MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingAcceptAudioMessageContact && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"enableLGPD-label\"> {i18n.t(\"settings.settings.options.enableLGPD\")}</InputLabel>\n            <Select\n              labelId=\"enableLGPD-label\"\n              value={enableLGPD}\n              onChange={async (e) => {\n                handleEnableLGPD(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingEnableLGPD && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"requiredTag-label\"> {i18n.t(\"settings.settings.options.requiredTag\")}</InputLabel>\n            <Select\n              labelId=\"requiredTag-label\"\n              value={requiredTag}\n              onChange={async (e) => {\n                handleRequiredTag(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingRequiredTag && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"closeTicketOnTransfer-label\"> {i18n.t(\"settings.settings.options.closeTicketOnTransfer\")}</InputLabel>\n            <Select\n              labelId=\"closeTicketOnTransfer-label\"\n              value={closeTicketOnTransfer}\n              onChange={async (e) => {\n                handleCloseTicketOnTransfer(e.target.value);\n              }}\n            >\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCloseTicketOnTransfer && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"showNotificationPending-label\"> {i18n.t(\"settings.settings.options.showNotificationPending\")}</InputLabel>\n            <Select\n              labelId=\"showNotificationPending-label\"\n              value={showNotificationPending}\n              onChange={async (e) => {\n                handleShowNotificationPending(e.target.value);\n              }}\n            >\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingShowNotificationPending && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        {/* <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"DirectTicketsToWallets-label\"> {i18n.t(\"settings.settings.options.DirectTicketsToWallets\")}</InputLabel>\n            <Select\n              labelId=\"DirectTicketsToWallets-label\"\n              value={directTicketsToWallets}\n              onChange={async (e) => {\n                handleDirectTicketsToWallets(e.target.value);\n              }}\n            >\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingDirectTicketsToWallets && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid> */}\n      </Grid>\n      <br></br>\n      {/*-----------------LGPD-----------------*/}\n      {enableLGPD === \"enabled\" && (\n        <>\n          <Grid spacing={3} container\n            style={{ marginBottom: 10 }}>\n            <Tabs\n              value={0}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              scrollButtons=\"on\"\n              variant=\"scrollable\"\n              className={classes.tab}\n            >\n              <Tab\n\n                label={i18n.t(\"settings.settings.LGPD.title\")} />\n\n            </Tabs>\n          </Grid>\n          <Grid spacing={1} container>\n            <Grid xs={12} sm={6} md={12} item>\n              <FormControl className={classes.selectContainer}>\n                <TextField\n                  id=\"lgpdMessage\"\n                  name=\"lgpdMessage\"\n                  margin=\"dense\"\n                  multiline\n                  rows={3}\n                  label={i18n.t(\"settings.settings.LGPD.welcome\")}\n                  variant=\"outlined\"\n                  value={lgpdMessage}\n                  onChange={async (e) => {\n                    handleLGPDMessage(e.target.value);\n                  }}\n                >\n                </TextField>\n                <FormHelperText>\n                  {loadinglgpdMessage && i18n.t(\"settings.settings.options.updating\")}\n                </FormHelperText>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} sm={6} md={12} item>\n              <FormControl className={classes.selectContainer}>\n                <TextField\n                  id=\"lgpdLink\"\n                  name=\"lgpdLink\"\n                  margin=\"dense\"\n                  label={i18n.t(\"settings.settings.LGPD.linkLGPD\")}\n                  variant=\"outlined\"\n                  value={lgpdLink}\n                  onChange={async (e) => {\n                    handleLGPDLink(e.target.value);\n                  }}\n                >\n                </TextField>\n                <FormHelperText>\n                  {loadingLGPDLink && i18n.t(\"settings.settings.options.updating\")}\n                </FormHelperText>\n              </FormControl>\n            </Grid>\n            {/* LGPD Manter ou nao mensagem deletada pelo contato */}\n            <Grid xs={12} sm={6} md={4} item>\n              <FormControl className={classes.selectContainer}>\n                <InputLabel id=\"lgpdDeleteMessage-label\">{i18n.t(\"settings.settings.LGPD.obfuscateMessageDelete\")}</InputLabel>\n                <Select\n                  labelId=\"lgpdDeleteMessage-label\"\n                  value={lgpdDeleteMessage}\n                  onChange={async (e) => {\n                    handleLGPDDeleteMessage(e.target.value);\n                  }}\n                >\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\n                </Select>\n                <FormHelperText>\n                  {loadingLGPDDeleteMessage && i18n.t(\"settings.settings.options.updating\")}\n                </FormHelperText>\n              </FormControl>\n            </Grid>\n            {/* LGPD Sempre solicitar confirmaao / conscentimento dos dados */}\n            <Grid xs={12} sm={6} md={4} item>\n              <FormControl className={classes.selectContainer}>\n                <InputLabel id=\"lgpdConsent-label\">\n                  {i18n.t(\"settings.settings.LGPD.alwaysConsent\")}\n                </InputLabel>\n                <Select\n                  labelId=\"lgpdConsent-label\"\n                  value={lgpdConsent}\n                  onChange={async (e) => {\n                    handleLGPDConsent(e.target.value);\n                  }}\n                >\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\n                </Select>\n                <FormHelperText>\n                  {loadingLGPDConsent && i18n.t(\"settings.settings.options.updating\")}\n                </FormHelperText>\n              </FormControl>\n            </Grid>\n            {/* LGPD Ofuscar nmero telefone para usurios */}\n            <Grid xs={12} sm={6} md={4} item>\n              <FormControl className={classes.selectContainer}>\n                <InputLabel id=\"lgpdHideNumber-label\">\n                  {i18n.t(\"settings.settings.LGPD.obfuscatePhoneUser\")}\n                </InputLabel>\n                <Select\n                  labelId=\"lgpdHideNumber-label\"\n                  value={lgpdHideNumber}\n                  onChange={async (e) => {\n                    handleLGPDHideNumber(e.target.value);\n                  }}\n                >\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\n                </Select>\n                <FormHelperText>\n                  {loadingLGPDHideNumber && i18n.t(\"settings.settings.options.updating\")}\n                </FormHelperText>\n              </FormControl>\n            </Grid>\n          </Grid>\n        </>\n      )}\n      <Grid spacing={1} container>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"transferMessage\"\n              name=\"transferMessage\"\n              margin=\"dense\"\n              multiline\n              rows={3}\n              label={i18n.t(\"settings.settings.customMessages.transferMessage\")}\n              variant=\"outlined\"\n              value={transferMessage}\n              required={SettingsTransfTicket === \"enabled\"}\n              onChange={async (e) => {\n                handletransferMessage(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingTransferMessage && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"greetingAcceptedMessage\"\n              name=\"greetingAcceptedMessage\"\n              margin=\"dense\"\n              multiline\n              rows={3}\n              label={i18n.t(\"settings.settings.customMessages.greetingAcceptedMessage\")}\n              variant=\"outlined\"\n              value={greetingAcceptedMessage}\n              required={SendGreetingAccepted === \"enabled\"}\n              onChange={async (e) => {\n                handleGreetingAcceptedMessage(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingGreetingAcceptedMessage && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"AcceptCallWhatsappMessage\"\n              name=\"AcceptCallWhatsappMessage\"\n              margin=\"dense\"\n              multiline\n              rows={3}\n              label={i18n.t(\"settings.settings.customMessages.AcceptCallWhatsappMessage\")}\n              variant=\"outlined\"\n              required={AcceptCallWhatsapp === \"disabled\"}\n              value={AcceptCallWhatsappMessage}\n              onChange={async (e) => {\n                handleAcceptCallWhatsappMessage(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAcceptCallWhatsappMessage && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"sendQueuePositionMessage\"\n              name=\"sendQueuePositionMessage\"\n              margin=\"dense\"\n              multiline\n              required={sendQueuePosition === \"enabled\"}\n              rows={3}\n              label={i18n.t(\"settings.settings.customMessages.sendQueuePositionMessage\")}\n              variant=\"outlined\"\n              value={sendQueuePositionMessage}\n              onChange={async (e) => {\n                handlesendQueuePositionMessage(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingSendQueuePositionMessage && i18n.t(\"settings.settings.options.updating\")}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        \n              \n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState } from \"react\";\nimport { Dialog } from \"@material-ui/core\";\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    onChange(color.hex);\n  };\n\n  const handleDialogClose = (event, reason) => {\n    if (reason === \"backdropClick\") {\n      handleClose();\n    }\n  };\n\n  const colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n  ];\n\n  return (\n    <Dialog\n      onClose={handleDialogClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <BlockPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={color => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles } from \"@material-ui/core\";\nimport { ColorBox } from \"material-ui-color\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    btnWrapper: {\n        position: \"relative\",\n    },\n}));\n\nconst ColorBoxModal = ({ onChange, currentColor, handleClose, open }) => {\n\n    const classes = useStyles();\n    const [selectedColor, setSelectedColor] = useState(currentColor);\n\n    useEffect(() => {\n        setSelectedColor(currentColor);\n    }, [currentColor]);\n\n    const handleOk = () => {\n        onChange(selectedColor);\n        handleClose();\n    };\n\n    return (\n\n        <Dialog open={open} onClose={handleClose}>\n\n            <DialogTitle>Escolha uma cor</DialogTitle>\n            <DialogContent>\n                <ColorBox\n                    disableAlpha={true}\n                    hslGradient={false}\n                    style={{ margin: '20px auto 0' }}\n                    value={selectedColor}\n                    onChange={setSelectedColor} />\n            </DialogContent>\n\n            <DialogActions>\n\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                    onClick={handleOk} >\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\nexport default ColorBoxModal;","import React, { useEffect, useState, useContext, useRef } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport OnlyForSuperUser from \"../OnlyForSuperUser\";\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\n\nimport {\n  IconButton,\n  InputAdornment,\n} from \"@material-ui/core\";\n\nimport { Colorize, AttachFile, Delete } from \"@material-ui/icons\";\nimport ColorPicker from \"../ColorPicker\";\nimport ColorModeContext from \"../../layout/themeContext\";\nimport api from \"../../services/api\";\nimport { getBackendUrl } from \"../../config\";\n\nimport defaultLogoLight from \"../../assets/logo.png\";\nimport defaultLogoDark from \"../../assets/logo-black.png\";\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\nimport ColorBoxModal from \"../ColorBoxModal/index.js\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: \"#128c7e\"\n    },\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  appLogoLightPreviewDiv: {\n    backgroundColor: \"white\",\n    padding: \"10px\",\n    borderStyle: \"solid\",\n    borderWidth: \"1px\",\n    borderColor: \"#424242\",\n    textAlign: \"center\",\n  },\n\n  appLogoDarkPreviewDiv: {\n    backgroundColor: \"#424242\",\n    padding: \"10px\",\n    borderStyle: \"solid\",\n    borderWidth: \"1px\",\n    borderColor: \"white\",\n    textAlign: \"center\",\n  },\n\n  appLogoFaviconPreviewDiv: {\n    padding: \"10px\",\n    borderStyle: \"solid\",\n    borderWidth: \"1px\",\n    borderColor: \"black\",\n    textAlign: \"center\",\n  },\n\n  appLogoLightPreviewImg: {\n    width: \"100%\",\n    maxHeight: 72,\n    content: \"url(\" + theme.calculatedLogoLight() + \")\"\n  },\n\n  appLogoDarkPreviewImg: {\n    width: \"100%\",\n    maxHeight: 72,\n    content: \"url(\" + theme.calculatedLogoDark() + \")\"\n  },\n\n  appLogoFaviconPreviewImg: {\n    width: \"100%\",\n    maxHeight: 72,\n    content: \"url(\" + ((theme.appLogoFavicon) ? theme.appLogoFavicon : \"\") + \")\"\n  }\n}));\n\nexport default function Whitelabel(props) {\n  const { settings } = props;\n  const classes = useStyles();\n  const [settingsLoaded, setSettingsLoaded] = useState({});\n\n  const { getCurrentUserInfo } = useAuth();\n  const [currentUser, setCurrentUser] = useState({});\n\n  const { colorMode } = useContext(ColorModeContext);\n  const [primaryColorLightModalOpen, setPrimaryColorLightModalOpen] = useState(false);\n  const [primaryColorDarkModalOpen, setPrimaryColorDarkModalOpen] = useState(false);\n\n  const logoLightInput = useRef(null);\n  const logoDarkInput = useRef(null);\n  const logoFaviconInput = useRef(null);\n  const appNameInput = useRef(null);\n  const [appName, setAppName] = useState(settingsLoaded.appName || \"\");\n\n  const { update } = useSettings();\n\n  function updateSettingsLoaded(key, value) {\n    console.log(\"|=========== updateSettingsLoaded ==========|\")\n    console.log(key, value)\n    console.log(\"|===========================================|\")\n    if (key === 'primaryColorLight' || key === 'primaryColorDark' || key === 'appName') {\n      localStorage.setItem(key, value);\n    };\n    const newSettings = { ...settingsLoaded };\n    newSettings[key] = value;\n    setSettingsLoaded(newSettings);\n  }\n\n  useEffect(() => {\n    getCurrentUserInfo().then(\n      (u) => {\n        setCurrentUser(u);\n      }\n    );\n\n    if (Array.isArray(settings) && settings.length) {\n      const primaryColorLight = settings.find((s) => s.key === \"primaryColorLight\")?.value;\n      const primaryColorDark = settings.find((s) => s.key === \"primaryColorDark\")?.value;\n      const appLogoLight = settings.find((s) => s.key === \"appLogoLight\")?.value;\n      const appLogoDark = settings.find((s) => s.key === \"appLogoDark\")?.value;\n      const appLogoFavicon = settings.find((s) => s.key === \"appLogoFavicon\")?.value;\n      const appName = settings.find((s) => s.key === \"appName\")?.value;\n\n      setAppName(appName || \"\");\n      setSettingsLoaded({ ...settingsLoaded, primaryColorLight, primaryColorDark, appLogoLight, appLogoDark, appLogoFavicon, appName });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleSaveSetting(key, value) {\n\n    await update({\n      key,\n      value,\n    });\n    updateSettingsLoaded(key, value);\n    toast.success(\"Operao atualizada com sucesso.\");\n  }\n\n  const uploadLogo = async (e, mode) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const file = e.target.files[0];\n    const formData = new FormData();\n\n    formData.append(\"typeArch\", \"logo\");\n    formData.append(\"mode\", mode);\n    formData.append(\"file\", file);\n\n    await api.post(\"/settings-whitelabel/logo\", formData, {\n      onUploadProgress: (event) => {\n        let progress = Math.round(\n          (event.loaded * 100) / event.total\n        );\n        console.log(\n          `A imagem  est ${progress}% carregada... `\n        );\n      },\n    }).then((response) => {\n      updateSettingsLoaded(`appLogo${mode}`, response.data);\n      colorMode[`setAppLogo${mode}`](getBackendUrl() + \"/public/\" + response.data);\n    }).catch((err) => {\n      console.error(\n        `Houve um problema ao realizar o upload da imagem.`\n      );\n      console.log(err);\n    });\n  };\n\n  return (\n    <>\n      <Grid spacing={3} container>\n        {/* <Grid xs={12} item>\n                    <Title>Configuraes Gerais</Title>\n                </Grid> */}\n        <OnlyForSuperUser\n          user={currentUser}\n          yes={() => (\n            <>\n              <Grid xs={12} sm={6} md={4} item>\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"primary-color-light-field\"\n                    label=\"Cor Primria Modo Claro\"\n                    variant=\"standard\"\n                    value={settingsLoaded.primaryColorLight || \"\"}\n                    onClick={() => setPrimaryColorLightModalOpen(true)}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          <div\n                            style={{ backgroundColor: settingsLoaded.primaryColorLight }}\n                            className={classes.colorAdorment}\n                          ></div>\n                        </InputAdornment>\n                      ),\n                      endAdornment: (\n                        <IconButton\n                          size=\"small\"\n                          color=\"default\"\n                          onClick={() => setPrimaryColorLightModalOpen(true)}\n                        >\n                          <Colorize />\n                        </IconButton>\n                      ),\n                    }}\n                  />\n                </FormControl>\n                <ColorBoxModal\n                  open={primaryColorLightModalOpen}\n                  handleClose={() => setPrimaryColorLightModalOpen(false)}\n                  onChange={(color) => {\n                    handleSaveSetting(\"primaryColorLight\", `#${color.hex}`);\n                    colorMode.setPrimaryColorLight(`#${color.hex}`);\n                  }}\n\n\n                  currentColor={settingsLoaded.primaryColorLight}\n                />\n\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"primary-color-dark-field\"\n                    label=\"Cor Primria Modo Escuro\"\n                    variant=\"standard\"\n                    value={settingsLoaded.primaryColorDark || \"\"}\n                    onClick={() => setPrimaryColorDarkModalOpen(true)}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          <div\n                            style={{ backgroundColor: settingsLoaded.primaryColorDark }}\n                            className={classes.colorAdorment}\n                          ></div>\n                        </InputAdornment>\n                      ),\n                      endAdornment: (\n                        <IconButton\n                          size=\"small\"\n                          color=\"default\"\n                          onClick={() => setPrimaryColorDarkModalOpen(true)}\n                        >\n                          <Colorize />\n                        </IconButton>\n                      ),\n                    }}\n                  />\n                </FormControl>\n                <ColorBoxModal\n                  open={primaryColorDarkModalOpen}\n                  handleClose={() => setPrimaryColorDarkModalOpen(false)}\n                  onChange={(color) => {\n                    handleSaveSetting(\"primaryColorDark\", `#${color.hex}`);\n                    colorMode.setPrimaryColorDark(`#${color.hex}`);\n                  }}\n                  currentColor={settingsLoaded.primaryColorDark}\n                />\n              </Grid>\n\n              <Grid xs={12} sm={6} md={4} item>\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"appname-field\"\n                    label=\"Nome do sistema\"\n                    variant=\"standard\"\n                    name=\"appName\"\n                    value={appName}\n                    inputRef={appNameInput}\n                    onChange={(e) => {\n                      setAppName(e.target.value);\n                    }}\n                    onBlur={async (_) => {\n                      await handleSaveSetting(\"appName\", appName);\n                      colorMode.setAppName(appName || \"Multi100\");\n                    }}\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"logo-light-upload-field\"\n                    label=\"Logotipo claro\"\n                    variant=\"standard\"\n                    value={settingsLoaded.appLogoLight || \"\"}\n                    InputProps={{\n                      endAdornment: (\n                        <>\n                          {settingsLoaded.appLogoLight &&\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={() => {\n                                handleSaveSetting(\"appLogoLight\", \"\");\n                                colorMode.setAppLogoLight(defaultLogoLight);\n                              }\n                              }\n                            >\n                              <Delete />\n                            </IconButton>\n                          }\n                          <input\n                            type=\"file\"\n                            id=\"upload-logo-light-button\"\n                            ref={logoLightInput}\n                            className={classes.uploadInput}\n                            onChange={(e) => uploadLogo(e, \"Light\")}\n                          />\n                          <label htmlFor=\"upload-logo-light-button\">\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={\n                                () => {\n                                  logoLightInput.current.click();\n                                }\n                              }\n                            >\n                              <AttachFile />\n                            </IconButton>\n                          </label>\n                        </>\n                      ),\n                    }}\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"logo-dark-upload-field\"\n                    label=\"Logotipo escuro\"\n                    variant=\"standard\"\n                    value={settingsLoaded.appLogoDark || \"\"}\n                    InputProps={{\n                      endAdornment: (\n                        <>\n                          {settingsLoaded.appLogoDark &&\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={() => {\n                                handleSaveSetting(\"appLogoDark\", \"\");\n                                colorMode.setAppLogoDark(defaultLogoDark);\n                              }\n                              }\n                            >\n                              <Delete />\n                            </IconButton>\n                          }\n                          <input\n                            type=\"file\"\n                            id=\"upload-logo-dark-button\"\n                            ref={logoDarkInput}\n                            className={classes.uploadInput}\n                            onChange={(e) => uploadLogo(e, \"Dark\")}\n                          />\n                          <label htmlFor=\"upload-logo-dark-button\">\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={\n                                () => {\n                                  logoDarkInput.current.click();\n                                }\n                              }\n                            >\n                              <AttachFile />\n                            </IconButton>\n                          </label>\n                        </>\n                      ),\n                    }}\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <FormControl className={classes.selectContainer}>\n                  <TextField\n                    id=\"logo-favicon-upload-field\"\n                    label=\"Favicon\"\n                    variant=\"standard\"\n                    value={settingsLoaded.appLogoFavicon || \"\"}\n                    InputProps={{\n                      endAdornment: (\n                        <>\n                          {settingsLoaded.appLogoFavicon &&\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={() => {\n                                handleSaveSetting(\"appLogoFavicon\", \"\");\n                                colorMode.setAppLogoFavicon(defaultLogoFavicon);\n                              }\n                              }\n                            >\n                              <Delete />\n                            </IconButton>\n                          }\n                          <input\n                            type=\"file\"\n                            id=\"upload-logo-favicon-button\"\n                            ref={logoFaviconInput}\n                            className={classes.uploadInput}\n                            onChange={(e) => uploadLogo(e, \"Favicon\")}\n                          />\n                          <label htmlFor=\"upload-logo-favicon-button\">\n                            <IconButton\n                              size=\"small\"\n                              color=\"default\"\n                              onClick={\n                                () => {\n                                  logoFaviconInput.current.click();\n                                }\n                              }\n                            >\n                              <AttachFile />\n                            </IconButton>\n                          </label>\n                        </>\n                      ),\n                    }}\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <div className={classes.appLogoLightPreviewDiv}>\n                  <img className={classes.appLogoLightPreviewImg} alt=\"light-logo-preview\" />\n                </div>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <div className={classes.appLogoDarkPreviewDiv}>\n                  <img className={classes.appLogoDarkPreviewImg} alt=\"dark-logo-preview\" />\n                </div>\n              </Grid>\n              <Grid xs={12} sm={6} md={4} item>\n                <div className={classes.appLogoFaviconPreviewDiv}>\n                  <img className={classes.appLogoFaviconPreviewImg} alt=\"favicon-preview\" />\n                </div>\n              </Grid>\n            </>\n          )}\n        />\n      </Grid>\n    </>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\nimport Whitelabel from \"../../components/Settings/Whitelabel\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport useSettings from \"../../hooks/useSettings\";\nimport ForbiddenPage from \"../../components/ForbiddenPage/index.js\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    // background: \"#f2f5f3\",\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [oldSettings, setOldSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { find, updateSchedules } = useCompanies();\n\n  //novo hook\n  const { getAll: getAllSettings } = useCompanySettings();\n  const { getAll: getAllSettingsOld } = useSettings();\n  const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = user.companyId;\n        const company = await find(companyId);\n\n        const settingList = await getAllSettings(companyId);\n\n        const settingListOld = await getAllSettingsOld();\n\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n        setOldSettings(settingListOld);\n\n        /*  if (Array.isArray(settingList)) {\n           const scheduleType = settingList.find(\n             (d) => d.key === \"scheduleType\"\n           );\n           if (scheduleType) {\n             setSchedulesEnabled(scheduleType.value === \"company\");\n           }\n         } */\n        setSchedulesEnabled(settingList.scheduleType === \"company\");\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horrios atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"settings.title\")}</Title>\n          </MainHeader>\n          <Paper className={classes.mainPaper} elevation={1}>\n            <Tabs\n              value={tab}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              scrollButtons=\"on\"\n              variant=\"scrollable\"\n              onChange={handleTabChange}\n              className={classes.tab}\n            >\n              <Tab label={i18n.t(\"settings.tabs.options\")} value={\"options\"} />\n              {schedulesEnabled && <Tab label=\"Horrios\" value={\"schedules\"} />}\n              {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.plans\")} value={\"plans\"} /> : null}\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.helps\")} value={\"helps\"} /> : null}\n              {isSuper() ? <Tab label=\"Whitelabel\" value={\"whitelabel\"} /> : null}\n            </Tabs>\n            <Paper className={classes.paper} elevation={0}>\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"schedules\"}\n              >\n                <SchedulesForm\n                  loading={loading}\n                  onSubmit={handleSubmitSchedules}\n                  initialValues={schedules}\n                />\n              </TabPanel>\n              <OnlyForSuperUser\n                user={currentUser}\n                yes={() => (\n                  <>\n                    <TabPanel\n                      className={classes.container}\n                      value={tab}\n                      name={\"companies\"}\n                    >\n                      <CompaniesManager />\n                    </TabPanel>\n\n                    <TabPanel\n                      className={classes.container}\n                      value={tab}\n                      name={\"plans\"}\n                    >\n                      <PlansManager />\n                    </TabPanel>\n\n                    <TabPanel\n                      className={classes.container}\n                      value={tab}\n                      name={\"helps\"}\n                    >\n                      <HelpsManager />\n                    </TabPanel>\n                    <TabPanel\n                      className={classes.container}\n                      value={tab}\n                      name={\"whitelabel\"}\n                    >\n                      <Whitelabel\n                        settings={oldSettings}\n                      />\n                    </TabPanel>\n                  </>\n                )}\n              />\n              <TabPanel className={classes.container} value={tab} name={\"options\"}>\n                <Options\n                  settings={settings}\n                  oldSettings={oldSettings}\n                  user={currentUser}\n                  scheduleTypeChanged={(value) =>\n                    setSchedulesEnabled(value === \"company\")\n                  }\n                />\n              </TabPanel>\n            </Paper>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nexport default function AddressForm(props) {\n\n  const { user, socket } = useContext(AuthContext);\n\n  const [billingName, setBillingName] = useState(user.company.name);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.document);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n  \n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={6} sm={6}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        \n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\nimport usePlans from \"../../../hooks/usePlans\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const { user, socket } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadPlans();\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyId = user.companyId;\n      const _planList = await getPlanCompany(undefined, companyId);\n\n      const planList = _planList.plan;\n\n      const plans = []\n\n      plans.push({\n        title: planList.name,\n        planId: planList.id,\n        price: planList.amount,\n        description: [\n          `${planList.users} Usurios`,\n          `${planList.connections} Conexo`,\n          `${planList.queues} Filas`\n        ],\n        users: planList.users,\n        connections: planList.connections,\n        queues: planList.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n\n      setStoragePlans(plans);\n    } catch (e) {\n      // toast.error(\"No foi possvel carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {storagePlans?.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 6} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n                      tier.custom ?\n                        <React.Fragment>\n                          R${customValuePlans.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                        </React.Fragment>\n                        :\n                        <React.Fragment>\n                          R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                        </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /ms\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n\n                  {\n                    tier.custom && (\n                      <div className={classes.customCard}>\n                        <div className={classes.custom}>\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <MinimizeIcon fontSize=\"inherit\" onClick={e => handleChangeMin(e, usersPlans - 1)} />\n                            </IconButton>\n                            {usersPlans} Usurios\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <AddIcon fontSize=\"inherit\" onClick={e => handleChangeAdd(e, usersPlans + 1)} />\n                            </IconButton>\n                          </Typography>\n                        </div>\n\n                        <div className={classes.custom}>\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <MinimizeIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsMin(e, connectionsPlans - 1)} />\n                            </IconButton>\n                            {connectionsPlans} Conexo\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <AddIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsAdd(e, connectionsPlans + 1)} />\n                            </IconButton>\n                          </Typography>\n                        </div>\n                      </div>\n\n                    )\n                  }\n\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n\n  const { users, connections, queues } = newPlan;\n  return (\n    <Grid item xs={12} sm={6}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usurios: {users}</Typography>\n      <Typography gutterBottom>Conexo: {connections}</Typography>\n      <Typography gutterBottom>Filas: {queues}</Typography>\n      <Typography gutterBottom>Cobrana: Mensal</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import React, { useContext } from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { firstName, address2, city, zipcode, state, country, plan } = formValues;\n  const { user } = useContext(AuthContext);\n\n\n  const newPlan = JSON.parse(plan);\n  const { price } = newPlan;\n\n  return (\n    <Grid item container direction=\"column\" xs={6} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Informao de pagamento\n      </Typography>\n      <Grid container>\n        <React.Fragment>\n          <Grid item xs={6}>\n            <Typography gutterBottom>Email:</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography gutterBottom>{user.email}</Typography>\n          </Grid>\n        </React.Fragment>\n        <React.Fragment>\n          <Grid item xs={6}>\n            <Typography gutterBottom>Nome:</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography gutterBottom>{firstName}</Typography>\n          </Grid>\n        </React.Fragment>\n        <React.Fragment>\n          <Grid item xs={6}>\n            <Typography gutterBottom>CPF/CNPJ:</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography gutterBottom>{zipcode}</Typography>\n          </Grid>\n        </React.Fragment>\n        <React.Fragment>\n          <Grid item xs={6}>\n            <Typography gutterBottom>Total:</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography gutterBottom>R${price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</Typography>\n          </Grid>\n        </React.Fragment>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\nimport PaymentDetails from './PaymentDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n        <PaymentDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const { dateToClient } = useDate();\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    if (companyId) {\n      // const socket = socketManager.GetSocket();\n\n      const onCompanyPayment = (data) => {\n\n        if (data.action === \"CONCLUIDA\") {\n          toast.success(`Sua licena foi renovada at ${dateToClient(data.company.dueDate)}!`);\n          setTimeout(() => {\n            history.push(\"/\");\n          }, 4000);\n        }\n      }\n\n      socket.on(`company-${companyId}-payment`, onCompanyPayment);\n\n      return () => {\n        socket.off(`company-${companyId}-payment`, onCompanyPayment);\n      }\n    }\n  }, [socket]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar cdigo QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          cdigo Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo  obrigatrio'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereo*',\n      requiredErrorMsg: 'O Endereo  obrigatrio'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade  obrigatria'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade  obrigatria'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CPF/CNPJ*',\n      requiredErrorMsg: 'CEP  obrigatrio',\n      invalidErrorMsg: 'Formato de CEP invlido'\n    },\n    country: {\n      name: 'country',\n      label: 'Pas*',\n      requiredErrorMsg: 'Pas  obrigatrio'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user, socket } = useContext(AuthContext);\n\n  function _renderStepContent(step, setFieldValue, setActiveStep, values) {\n\n    switch (step) {\n      case 0:\n        return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue} />;\n      case 1:\n        return <PaymentForm\n          formField={formField}\n          setFieldValue={setFieldValue}\n          setActiveStep={setActiveStep}\n          activeStep={step}\n          invoiceId={invoiceId}\n          values={values}\n        />;\n      case 2:\n        return <ReviewOrder />;\n      default:\n        return <div>Not Found</div>;\n    }\n  }\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(false);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realizao do pagamento\");\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user,\n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && activeStep !== 0 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport moment from \"moment\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\n// Novo componente \"Invoice\"\nconst Invoice = ({ invoice, onPayClick }) => {\n  const handlePayClick = () => {\n    // Aqui voc pode abrir o link da fatura com base no \"invoice.detail\"\n    // Certifique-se de que \"invoice.detail\" contenha o URL correto da fatura.\n    // Exemplo:\n    window.open(invoice.linkInvoice, \"_blank\");\n  };\n\n  return (\n    <TableRow key={invoice.id}>\n      <TableCell align=\"center\">{invoice.detail}</TableCell>\n      <TableCell align=\"center\">{invoice.users}</TableCell>\n      <TableCell align=\"center\">{invoice.connections}</TableCell>\n      <TableCell align=\"center\">\n        {moment(invoice.dueDate).format(\"DD/MM/YYYY\")}\n      </TableCell> {/* Adicione esta coluna para a data de vencimento */}\n      <TableCell align=\"center\">\n        {invoice.value ? invoice.value.toLocaleString(\"pt-br\", {\n          style: \"currency\",\n          currency: \"BRL\",\n        }) : 'N/A'}\n      </TableCell>\n      <TableCell align=\"center\">\n        {invoice.status !== \"Pago\" ? (\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={handlePayClick}\n          >\n            PAGAR\n          </Button>\n        ) : (\n          <Button size=\"small\" variant=\"outlined\">\n            PAGO\n          </Button>\n        )}\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices\", {\n            params: { searchParam, pageNumber },\n          });\n\n          dispatch({ type: \"LOAD_INVOICES\", payload: data.invoices });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>Faturas ({invoices.length})</Title>\n          </MainHeader>\n          <Paper\n            className={classes.mainPaper}\n            variant=\"outlined\"\n            onScroll={handleScroll}\n          >\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Detalhes</TableCell>\n                  <TableCell align=\"center\">Usurios</TableCell>\n                  <TableCell align=\"center\">Conexes</TableCell>\n                  <TableCell align=\"center\">Vencimento</TableCell> {/* Adicione esta coluna */}\n                  <TableCell align=\"center\">Valor</TableCell>\n                  <TableCell align=\"center\">Ao</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {invoices.map((invoice) => (\n                    <Invoice\n                      key={invoice.id}\n                      invoice={invoice}\n                    />\n                  ))}\n                  {loading && <TableRowSkeleton columns={6} />}\n                </>\n              </TableBody>\n            </Table>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default Invoices;","import { createContext } from \"react\";\nimport openSocket from \"socket.io-client\";\n// import config from \"../../services/config\";\n\nconst socketManager = {\n\tcurrentSocket: null,\n\n\tGetSocket: function () {\n\t\tconst publicToken = localStorage.getItem(\"public-token\");\n\n\t\tif (publicToken !== this.currentToken) {\n\t\t\tif (this.currentSocket) {\n\t\t\t\tthis.currentSocket.disconnect();\n\t\t\t}\n\n\t\t\tthis.currentToken = publicToken;\n\t\t\tthis.currentSocket = openSocket(process.env.REACT_APP_BACKEND_URL, {\n\t\t\t\ttransports: [\"websocket\"],\n\t\t\t\tpingTimeout: 18000,\n\t\t\t\tpingInterval: 18000,\n\t\t\t\tquery: publicToken ? { token: publicToken } : {},\n\t\t\t\t// auth: publicToken ? { token: publicToken } : {},\n\t\t\t});\n\t\t}\n\t\treturn this.currentSocket;\n\t},\n\n\tonConnect: function (callbackConnect) {\n\t\tif (this.currentSocket && this.currentSocket.connected) {\n\t\t\tcallbackConnect();\n\t\t}\n\t\tthis.currentSocket.on(\"connect\", callbackConnect);\n\t},\n};\n\nconst SocketContext = createContext()\n\nexport { SocketContext, socketManager };\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport whatsappIcon from '../../assets/nopicture.png'\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext, socketManager } from \"../../context/Socket/SocketContext\";\nimport UserStatusIcon from \"../../components/UserModal/statusIcon\";\nimport { getBackendUrl } from \"../../config\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Avatar } from \"@material-ui/core\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst backendUrl = getBackendUrl();\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  userAvatar: {\n    width: theme.spacing(6),\n    height: theme.spacing(6),\n  },\n  avatarDiv: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  loadingContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(3),\n  },\n  loadingText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n  const { user: loggedInUser, socket } = useContext(AuthContext)\n  const { profileImage } = loggedInUser;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchUsers = async () => {\n      try {\n        const { data } = await api.get(\"/users/\", {\n          params: { searchParam, pageNumber },\n        });\n        dispatch({ type: \"LOAD_USERS\", payload: data.users });\n        setHasMore(data.hasMore);\n      } catch (err) {\n        toastError(err);\n      } finally {\n        setLoading(false);\n        setLoadingMore(false);\n      }\n    };\n    fetchUsers();\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (loggedInUser) {\n      const companyId = loggedInUser.companyId;\n      const onCompanyUser = (data) => {\n        if (data.action === \"update\" || data.action === \"create\") {\n          dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n        }\n        if (data.action === \"delete\") {\n          dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n        }\n      };\n      socket.on(`company-${companyId}-user`, onCompanyUser);\n      return () => {\n        socket.off(`company-${companyId}-user`, onCompanyUser);\n      };\n    }\n  }, [socket]);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setLoadingMore(true);\n    setPageNumber((prevPage) => prevPage + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const renderProfileImage = (user) => {\n    if (user.id === loggedInUser.id) {\n      return (\n        <Avatar\n          src={`${backendUrl}/public/company${user.companyId}/user/${profileImage ? profileImage : whatsappIcon}`}\n          alt={user.name}\n          className={classes.userAvatar}\n        />\n      )\n    }\n    if (user.id !== loggedInUser.id) {\n      return (\n        <Avatar\n          src={user.profileImage ? `${backendUrl}/public/company${user.companyId}/user/${user.profileImage}` : whatsappIcon}\n          alt={user.name}\n          className={classes.userAvatar}\n        />\n      )\n    }\n    return (\n      <AccountCircle />\n    )\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      {loggedInUser.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"users.title\")} ({users.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <TextField\n                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                type=\"search\"\n                value={searchParam}\n                onChange={handleSearch}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon style={{ color: \"gray\" }} />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenUserModal}\n              >\n                {i18n.t(\"users.buttons.add\")}\n              </Button>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n          <Paper\n            className={classes.mainPaper}\n            variant=\"outlined\"\n            onScroll={handleScroll}\n          >\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.ID\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.status\")}</TableCell>\n                  <TableCell align=\"center\">\n                    Avatar\n                  </TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.email\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.profile\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.startWork\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.endWork\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"users.table.actions\")}</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {users.map((user) => (\n                    <TableRow key={user.id}>\n                      <TableCell align=\"center\">{user.id}</TableCell>\n                      <TableCell align=\"center\"><UserStatusIcon user={user} /></TableCell>\n                      <TableCell align=\"center\" >\n                        <div className={classes.avatarDiv}>\n                          {renderProfileImage(user)}\n                        </div>\n                      </TableCell>\n                      <TableCell align=\"center\">{user.name}</TableCell>\n                      <TableCell align=\"center\">{user.email}</TableCell>\n                      <TableCell align=\"center\">{user.profile}</TableCell>\n                      <TableCell align=\"center\">{user.startWork}</TableCell>\n                      <TableCell align=\"center\">{user.endWork}</TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditUser(user)}\n                        >\n                          <EditIcon />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmModalOpen(true);\n                            setDeletingUser(user);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {loadingMore && (\n                    <TableRow>\n                      <TableCell colSpan={9} align=\"center\">\n                        <CircularProgress />\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </>\n              </TableBody>\n            </Table>\n            {loading && !loadingMore && (\n              <div className={classes.loadingContainer}>\n                <CircularProgress />\n                <span className={classes.loadingText}>{i18n.t(\"loading\")}</span>\n              </div>\n            )}\n          </Paper>\n        </>\n      }\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Dialog, DialogTitle, DialogActions, Button, Box, } from '@material-ui/core';\nimport { i18n } from '../../translate/i18n';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { Can } from \"../Can\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport * as XLSX from \"xlsx\";\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport toastError from '../../errors/toastError';\nconst useStyles = makeStyles((theme) => ({\n  multFieldLine: {\n    display: \"flex\",\n    // \"& > *:not(:last-child)\": {\n    //   marginRight: theme.spacing(1),\n    // },\n    marginTop: 8,\n  },\n  uploadInput: {\n    display: \"none\",\n  },\n\n  btns: {\n\n    margin: 15,\n\n  },\n  label: {\n    padding: 18,\n    width: \"100%\",\n    textTransform: 'uppercase',\n    display: 'block',\n    marginTop: 10,\n    border: \"solid 2px grey\",\n    textAlign: 'center',\n    cursor: 'pointer',\n    borderRadius: 8\n\n  },\n\n}));\n\nconst ContactImportWpModal = ({ isOpen, handleClose, selectedTags, hideNum, userProfile }) => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const initialContact = { name: \"\", number: \"\", error: \"\" }\n\n  const [contactsToImport, setContactsToImport] = useState([])\n  const [statusMessage, setStatusMessage] = useState(\"\")\n  const [currentContact, setCurrentContact] = useState(initialContact)\n\n  const handleClosed = () => {\n    setContactsToImport([])\n    setStatusMessage(\"\")\n    setCurrentContact(initialContact)\n    handleClose()\n  }\n\n  useEffect(() => {\n    console.log(contactsToImport?.length)\n    if (contactsToImport?.length) {\n      contactsToImport.map(async (item, index) => {\n        setTimeout(async () => {\n          try {\n            if (index >= contactsToImport?.length - 1) {\n              setStatusMessage(`importao concluda com exito a importao`)\n              //setContactsToImport([])\n              setCurrentContact(initialContact)\n\n              setTimeout(() => {\n                handleClosed()\n              }, 15000);\n            }\n            if (index % 5 === 0) {\n\n              setStatusMessage(`importao em andamento ${index} de ${contactsToImport?.length} no saia desta tela at concluir a importao`)\n              // toast.info(\n              // );\n            }\n            console.log(\"antes do import: \", item[0])\n            await api.post(`/contactsImport`, {\n              name: item.name,\n              number: item.number.toString(),\n              email: item.email,\n            });\n\n            setCurrentContact({ name: item.name, number: item.number, error: \"success\" })\n          } catch (err) {\n            setCurrentContact({ name: item.name, number: item.number, error: err })\n          }\n        }, 330 * index);\n      });\n    }\n  }, [contactsToImport]);\n\n  const handleOnExportContacts = async (model = false) => {\n    const allDatas = []; //const { data } = await api.get(\"/contacts\");\n\n    let i = 1;\n    if (!model) {\n      while (i !== 0) {\n        const { data } = await api.get(\"/contacts/\", {\n          params: { searchParam: \"\", pageNumber: i, contactTag: JSON.stringify(selectedTags) },\n        });\n        console.log(data)\n        data.contacts.forEach((element) => {\n          const tagsContact = element?.tags?.map(tag => tag?.name).join(', '); // Concatenando as tags com vrgula\n          const contactWithTags = { ...element, tags: tagsContact }; // Substituindo as tags pelo valor concatenado\n          allDatas.push(contactWithTags);\n        });\n\n        const pages = data?.count / 20;\n        i++;\n        if (i > pages) {\n          i = 0;\n        }\n      }\n    } else {\n      allDatas.push({\n        name: \"Joo\",\n        number: \"5599999999999\",\n        email: \"\",\n      });\n    }\n\n    const exportData = allDatas.map((e) => {\n      return { name: e.name, number: (hideNum && userProfile === \"user\" ? e.isGroup ? e.number : e.number.slice(0, -6) + \"**-**\" + e.number.slice(-2) : e.number), email: e.email, tags: e.tags };\n    });\n    //console.log({ allDatas });\n    let wb = XLSX.utils.book_new();\n    let ws = XLSX.utils.json_to_sheet(exportData);\n    XLSX.utils.book_append_sheet(wb, ws, \"Contatos\");\n    XLSX.writeFile(wb, \"backup_contatos.xlsx\");\n  };\n\n  const handleImportChange = (e) => {\n    const [file] = e.target.files;\n    const reader = new FileReader();\n\n    reader.onload = (evt) => {\n      try {\n        const bstr = evt.target.result;\n        const wb = XLSX.read(bstr, { type: \"binary\" });\n        const wsname = wb.SheetNames[0];\n        const ws = wb.Sheets[wsname];\n        const data = XLSX.utils.sheet_to_json(ws);\n        setContactsToImport(data)\n      } catch (err) {\n        console.log(err);\n        setContactsToImport([]);\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n  const handleimportContact = async () => {\n    try {\n      history.push('/contacts/import');\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog fullWidth open={isOpen} onClose={handleClosed}>\n      <DialogTitle>{i18n.t(\"Exportar / Importar contatos\")}</DialogTitle>\n      <div>\n        <Box style={{ padding: \"0px 10px 10px\" }} >\n          <Can\n            role={user.profile}\n            perform=\"contacts-page:deleteContact\"\n            yes={() => (\n              <div className={classes.multFieldLine}>\n                <Button\n                  fullWidth\n                  size=\"small\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  onClick={() => handleOnExportContacts(false)}\n                >\n                  {i18n.t(\"contactImportWpModal.title\")}\n                </Button>\n              </div>\n            )}\n          />\n          <div className={classes.multFieldLine}>\n            <Button\n              fullWidth\n              size=\"small\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => handleOnExportContacts(true)}\n            >\n              {i18n.t(\"contactImportWpModal.buttons.downloadModel\")}\n            </Button>\n          </div>\n          <div className={classes.multFieldLine}>\n            <Button\n              fullWidth\n              size=\"small\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => handleimportContact()}\n            >\n              {i18n.t(\"contactImportWpModal.buttons.import\")}\n            </Button>\n          </div>\n          {/* <div className={classes.multFieldLine}>\n            <div style={{ minWidth: \"100%\" }}>\n              {contactsToImport?.length ?\n                <>\n                  <div className={classes.label}>\n                    <h4>{statusMessage}</h4>\n                    {currentContact?.name ?\n                      <Button\n                        fullWidth\n                        disabled\n                        size=\"small\"\n                        color={currentContact?.error === \"success\" ? \"primary\" : \"error\"}\n                        variant=\"text\"\n                      >\n                        {`${currentContact?.name} => ${currentContact?.number} `}\n                      </Button>\n                      : <></>}\n                  </div>\n                </> :\n                <>\n                  <label className={classes.label} htmlFor=\"contacts\"> <AttachFileIcon /> <div> {i18n.t(\"contactImportWpModal.buttons.import\")}</div> </label>\n                  <input className={classes.uploadInput} name='contacts' id='contacts' type=\"file\" accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n                    onChange={handleImportChange}\n                  />\n                </>\n              }\n            </div>\n          </div> */}\n        </Box>\n      </div>\n\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          {i18n.t(\"contactImportWpModal.buttons.closed\")}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ContactImportWpModal;\n","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useContext,\n    useRef,\n} from \"react\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { TagsFilter } from \"../../components/TagsFilter\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport {\n    ArrowDropDown,\n    Backup,\n    ContactPhone,\n} from \"@material-ui/icons\";\nimport { Menu, MenuItem } from \"@material-ui/core\";\n\nimport ContactImportWpModal from \"../../components/ContactImportWpModal\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_CONTACTS\") {\n        const contacts = action.payload;\n        const newContacts = [];\n\n        contacts.forEach((contact) => {\n            const contactIndex = state.findIndex((c) => c.id === contact.id);\n            if (contactIndex !== -1) {\n                state[contactIndex] = contact;\n            } else {\n                newContacts.push(contact);\n            }\n        });\n\n        return [...state, ...newContacts];\n    }\n\n    if (action.type === \"UPDATE_CONTACTS\") {\n        const contact = action.payload;\n        const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n        if (contactIndex !== -1) {\n            state[contactIndex] = contact;\n            return [...state];\n        } else {\n            return [contact, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_CONTACT\") {\n        const contactId = action.payload;\n\n        const contactIndex = state.findIndex((c) => c.id === contactId);\n        if (contactIndex !== -1) {\n            state.splice(contactIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst Contacts = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    //   const socketManager = useContext(SocketContext);\n    const { user, socket } = useContext(AuthContext);\n\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [contacts, dispatch] = useReducer(reducer, []);\n    const [selectedContactId, setSelectedContactId] = useState(null);\n    const [contactModalOpen, setContactModalOpen] = useState(false);\n\n    const [importContactModalOpen, setImportContactModalOpen] = useState(false);\n    const [deletingContact, setDeletingContact] = useState(null);\n    const [ImportContacts, setImportContacts] = useState(null);\n    const [blockingContact, setBlockingContact] = useState(null);\n    const [unBlockingContact, setUnBlockingContact] = useState(null);\n    const [confirmOpen, setConfirmOpen] = useState(false);\n    const [exportContact, setExportContact] = useState(false);\n    const [confirmChatsOpen, setConfirmChatsOpen] = useState(false);\n    const [hasMore, setHasMore] = useState(false);\n    const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n    const [contactTicket, setContactTicket] = useState({});\n    const fileUploadRef = useRef(null);\n    const [selectedTags, setSelectedTags] = useState([]);\n    const { setCurrentTicket } = useContext(TicketsContext);\n\n\n    const { getAll: getAllSettings } = useCompanySettings();\n    const [hideNum, setHideNum] = useState(false);\n    const [enableLGPD, setEnableLGPD] = useState(false);\n    useEffect(() => {\n\n        async function fetchData() {\n\n            const settingList = await getAllSettings(user.companyId);\n\n            for (const [key, value] of Object.entries(settingList)) {\n                \n                if (key === \"enableLGPD\") setEnableLGPD(value === \"enabled\");\n                if (key === \"lgpdHideNumber\") setHideNum(value === \"enabled\");\n                \n              }\n\n            // if (settingHideNumber.lgpdHideNumber === \"enabled\") {\n            //     setHideNum(true);\n            // }\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleImportExcel = async () => {\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", fileUploadRef.current.files[0]);\n            await api.request({\n                url: `/contacts/upload`,\n                method: \"POST\",\n                data: formData,\n            });\n            history.go(0);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam, selectedTags]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts/\", {\n                        params: { searchParam, pageNumber, contactTag: JSON.stringify(selectedTags) },\n                    });\n                    dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n                    setHasMore(data.hasMore);\n                    setLoading(false);\n                } catch (err) {\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, selectedTags]);\n\n    useEffect(() => {\n        const companyId = user.companyId;\n        //    const socket = socketManager.GetSocket();\n\n        const onContactEvent = (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n            }\n        };\n        socket.on(`company-${companyId}-contact`, onContactEvent);\n\n        return () => {\n            socket.off(`company-${companyId}-contact`, onContactEvent);\n        };\n    }, [socket]);\n\n    const handleSelectTicket = (ticket) => {\n        const code = uuidv4();\n        const { id, uuid } = ticket;\n        setCurrentTicket({ id, uuid, code });\n    }\n\n    const handleCloseOrOpenTicket = (ticket) => {\n        setNewTicketModalOpen(false);\n        if (ticket !== undefined && ticket.uuid !== undefined) {\n            handleSelectTicket(ticket);\n            history.push(`/tickets/${ticket.uuid}`);\n        }\n    };\n\n    const handleSelectedTags = (selecteds) => {\n        const tags = selecteds.map((t) => t.id);\n        setSelectedTags(tags);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleOpenContactModal = () => {\n        setSelectedContactId(null);\n        setContactModalOpen(true);\n    };\n\n    const handleCloseContactModal = () => {\n        setSelectedContactId(null);\n        setContactModalOpen(false);\n    };\n\n    const hadleEditContact = (contactId) => {\n        setSelectedContactId(contactId);\n        setContactModalOpen(true);\n    };\n\n    const handleDeleteContact = async (contactId) => {\n        try {\n            await api.delete(`/contacts/${contactId}`);\n            toast.success(i18n.t(\"contacts.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const handleBlockContact = async (contactId) => {\n        try {\n            await api.put(`/contacts/block/${contactId}`, { active: false });\n            toast.success(\"Contato bloqueado\");\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n        setBlockingContact(null);\n    };\n\n    const handleUnBlockContact = async (contactId) => {\n        try {\n            await api.put(`/contacts/block/${contactId}`, { active: true });\n            toast.success(\"Contato desbloqueado\");\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n        setUnBlockingContact(null);\n    };\n\n    const handleimportContact = async () => {\n        try {\n            await api.post(\"/contacts/import\");\n            history.go(0);\n            setImportContacts(false);\n        } catch (err) {\n            toastError(err);\n            setImportContacts(false);\n        }\n    };\n\n    const handleimportChats = async () => {\n        try {\n            await api.post(\"/contacts/import/chats\");\n            history.go(0);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    // function getDateLastMessage(contact) {\n    //     if (!contact) return null;\n    //     if (!contact.tickets) return null;\n\n    //     if (contact.tickets.length > 0) {\n    //         const date = new Date(contact.tickets[contact.tickets.length - 1].updatedAt);\n\n    //         const day = date.getDate() > 9 ? date.getDate() : `0${date.getDate()}`;\n    //         const month = date.getMonth() + 1 > 9 ? date.getMonth() + 1 : `0${date.getMonth() + 1}`;\n    //         const year = date.getFullYear();\n    //         const hours = date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`;\n    //         const minutes = date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`;\n\n    //         return `${day}/${month}/${year} ${hours}:${minutes}`;\n    //     }\n\n    //     return null;\n    // }\n\n\n    return (\n\n        <MainContainer className={classes.mainContainer}>\n            <NewTicketModal\n                modalOpen={newTicketModalOpen}\n                initialContact={contactTicket}\n                onClose={(ticket) => {\n                    handleCloseOrOpenTicket(ticket);\n                }}\n            />\n            <ContactModal\n                open={contactModalOpen}\n                onClose={handleCloseContactModal}\n                aria-labelledby=\"form-dialog-title\"\n                contactId={selectedContactId}\n            ></ContactModal>\n            <ConfirmationModal\n                title={\n                    deletingContact\n                        ? `${i18n.t(\n                            \"contacts.confirmationModal.deleteTitle\"\n                        )} ${deletingContact.name}?`\n                        : blockingContact\n                            ? `Bloquear Contato ${blockingContact.name}?`\n                            : unBlockingContact\n                                ? `Desbloquear Contato ${unBlockingContact.name}?`\n                                : ImportContacts\n                                    ? `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n                                    : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n                }\n                open={confirmOpen}\n                onClose={setConfirmOpen}\n                onConfirm={(e) =>\n                    deletingContact\n                        ? handleDeleteContact(deletingContact.id)\n                        : blockingContact\n                            ? handleBlockContact(blockingContact.id)\n                            : unBlockingContact\n                                ? handleUnBlockContact(unBlockingContact.id)\n                                : ImportContacts\n                                    ? handleimportContact()\n                                    : handleImportExcel()\n                }\n            >\n                {exportContact\n                    ?\n                    `${i18n.t(\"contacts.confirmationModal.exportContact\")}`\n                    : deletingContact\n                        ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n                        : blockingContact\n                            ? `${i18n.t(\"contacts.confirmationModal.blockContact\")}`\n                            : unBlockingContact\n                                ? `${i18n.t(\"contacts.confirmationModal.unblockContact\")}`\n                                : ImportContacts\n                                    ? `${i18n.t(\"contacts.confirmationModal.importMessage\")}`\n                                    : `${i18n.t(\n                                        \"contactListItems.confirmationModal.importMessage\"\n                                    )}`}\n            </ConfirmationModal>\n            <ConfirmationModal\n                title={i18n.t(\"contacts.confirmationModal.importChat\")}\n                open={confirmChatsOpen}\n                onClose={setConfirmChatsOpen}\n                onConfirm={(e) => handleimportChats()}\n            >\n                {i18n.t(\"contacts.confirmationModal.wantImport\")}\n            </ConfirmationModal>\n            <MainHeader>\n                <Title>{i18n.t(\"contacts.title\")} ({contacts.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TagsFilter\n                        onFiltered={handleSelectedTags}\n                    />\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon color=\"secondary\" />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                        {(popupState) => (\n                            <React.Fragment>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    {...bindTrigger(popupState)}\n                                >\n                                    Importar / Exportar\n                                    <ArrowDropDown />\n                                </Button>\n                                <Menu {...bindMenu(popupState)}>\n                                    <MenuItem\n                                        onClick={() => {\n                                            setConfirmOpen(true);\n                                            setImportContacts(true);\n                                            popupState.close();\n                                        }}\n                                    >\n                                        <ContactPhone\n                                            fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            }}\n                                        />\n                                        {i18n.t(\"contacts.menu.importYourPhone\")}\n                                    </MenuItem>\n                                    <MenuItem\n                                        onClick={() => { setImportContactModalOpen(true) }}\n\n                                    >\n                                        <Backup\n                                            fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            }}\n                                        />\n                                        {i18n.t(\"contacts.menu.importToExcel\")}\n\n                                    </MenuItem>\n                                    {/* {<MenuItem>\n                        \n                                       <CSVLink\n                                            className={classes.csvbtn}\n                                            separator=\";\"\n                                            filename={'contacts.csv'}\n                                            data={\n                                                contacts.map((contact) => ({\n                                                    number: hideNum && user.profile === \"user\" ? contact.isGroup ? contact.number : formatSerializedId(contact.number).slice(0,-6)+\"**-**\"+ contact.number.slice(-2): contact.isGroup ? contact.number : formatSerializedId(contact.number),\n                                                    firstName: contact.name.split(' ')[0],\n                                                    lastname: String(contact.name).replace(contact.name.split(' ')[0],''),\n                                                    tags: contact?.tags?.name\n                                                }))\n\n                                            }\n                                            \n                                            >\n                                        \n                                        <CloudDownload fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            \n                                                }}                                                \n                                        />        \n                                        Exportar Excel                                \n                                   </CSVLink>\n                                        \n                                    </MenuItem> } */}\n                                </Menu>\n                            </React.Fragment>\n                        )}\n                    </PopupState>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenContactModal}\n                    >\n                        {i18n.t(\"contacts.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n\n            {importContactModalOpen && (\n                <ContactImportWpModal\n                    isOpen={importContactModalOpen}\n                    handleClose={() => setImportContactModalOpen(false)}\n                    selectedTags={selectedTags}\n                    hideNum={hideNum}\n                    userProfile={user.profile}\n                />\n            )}\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <>\n                    <input\n                        style={{ display: \"none\" }}\n                        id=\"upload\"\n                        name=\"file\"\n                        type=\"file\"\n                        accept=\".xls,.xlsx\"\n                        onChange={() => {\n                            setConfirmOpen(true);\n                        }}\n                        ref={fileUploadRef}\n                    />\n                </>\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell padding=\"checkbox\" />\n                            <TableCell>\n                                {i18n.t(\"contacts.table.name\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.whatsapp\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.email\")}\n                            </TableCell>\n                            {/* <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.lastMessage\")}\n                            </TableCell> */}\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.whatsapp\")}\n                            </TableCell>\n                            <TableCell align=\"center\">{\"Status\"}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {contacts.map((contact) => (\n                                <TableRow key={contact.id}>\n                                    <TableCell style={{ paddingRight: 0 }}>\n                                        {<Avatar src={`${contact?.urlPicture}`} />}\n                                    </TableCell>\n                                    <TableCell>{contact.name}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {((enableLGPD && hideNum && user.profile === \"user\")\n                                            ? contact.isGroup\n                                                ? contact.number :\n                                                formatSerializedId(contact?.number) === null ? contact.number.slice(0, -6) + \"**-**\" + contact?.number.slice(-2) :\n                                                    formatSerializedId(contact?.number)?.slice(0, -6) + \"**-**\" + contact?.number?.slice(-2) :\n                                                    contact.isGroup ? contact.number : formatSerializedId(contact?.number)\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.email}\n                                    </TableCell>\n                                    {/* <TableCell align=\"center\">\n                                        {getDateLastMessage(contact)}\n                                    </TableCell> */}\n                                    <TableCell>{contact?.whatsapp?.name}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.active ? (\n                                            <CheckCircleIcon\n                                                style={{ color: \"green\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        ) : (\n                                            <CancelIcon\n                                                style={{ color: \"red\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton\n                                            size=\"small\"\n                                            disabled={!contact.active}\n                                            onClick={() => {\n                                                setContactTicket(contact);\n                                                setNewTicketModalOpen(true);\n                                                // handleSaveTicket(contact.id);\n                                            }}\n                                        >\n                                            {contact.channel === \"whatsapp\" && (<WhatsApp style={{ color: \"green\" }} />)}\n                                            {contact.channel === \"instagram\" && (<Instagram style={{ color: \"purple\" }} />)}\n                                            {contact.channel === \"facebook\" && (<Facebook style={{ color: \"blue\" }} />)}\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                                hadleEditContact(contact.id)\n                                            }\n                                        >\n                                            <EditIcon color=\"secondary\" />\n                                        </IconButton>\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={\n                                                contact.active\n                                                    ? () => {\n                                                        setConfirmOpen(true);\n                                                        setBlockingContact(\n                                                            contact\n                                                        );\n                                                    }\n                                                    : () => {\n                                                        setConfirmOpen(true);\n                                                        setUnBlockingContact(\n                                                            contact\n                                                        );\n                                                    }\n                                            }\n                                        >\n                                            {contact.active ? (\n                                                <BlockIcon color=\"secondary\" />\n                                            ) : (\n                                                <CheckCircleIcon color=\"secondary\" />\n                                            )}\n                                        </IconButton>\n                                        <Can\n                                            role={user.profile}\n                                            perform=\"contacts-page:deleteContact\"\n                                            yes={() => (\n                                                <IconButton\n                                                    size=\"small\"\n                                                    onClick={(e) => {\n                                                        setConfirmOpen(true);\n                                                        setDeletingContact(\n                                                            contact\n                                                        );\n                                                    }}\n                                                >\n                                                    <DeleteOutlineIcon color=\"secondary\" />\n                                                </IconButton>\n                                            )}\n                                        />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton avatar columns={6} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer >\n    );\n};\n\nexport default Contacts;\n","export default __webpack_public_path__ + \"static/media/upload.c42899bb.gif\";","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { read, utils } from \"xlsx\";\nimport {\n  Button,\n  FormControlLabel,\n  FormGroup,\n  MenuItem,\n  Select,\n  Switch,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport upload from \"../../assets/upload.gif\";\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\nimport { toast } from \"react-toastify\";\n\nfunction WorksheetToDatagrid(ws) {\n  /* create an array of arrays */\n  const rows = utils.sheet_to_json(ws, { header: 1, defval: \"\" });\n\n  /* create column array */\n  const range = utils.decode_range(ws[\"!ref\"] || \"A1\");\n  const columns = Array.from({ length: range.e.c + 1 }, (_, i) => ({\n    key: String(i), // RDG will access row[\"0\"], row[\"1\"], etc\n    name: utils.encode_col(i), // the column labels will be A, B, etc\n    //editor: textEditor // enable cell editing\n  }));\n\n  return { rows, columns }; // these can be fed to setRows / setColumns\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n  xlsTable: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    flex: 1,\n    padding: 1,\n    overflowX: \"auto\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  actions: {\n    padding: 2,\n    border: \"1px solid #CCC\",\n    boxShadow: \"1px 1px 5px #CCC\",\n    marginTop: 2,\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  importOptions: {\n    padding: 2,\n    border: \"1px solid #CCC\",\n    boxShadow: \"1px 1px 5px #CCC\",\n    marginTop: 2,\n    marginBottom: 2,\n  },\n  error: {\n    color: \"red\",\n    marginTop: 1,\n  },\n  buttonImport: {\n    marginRight: 1,\n  },\n  select: {\n    minWidth: 200,\n  },\n  backButtonContainer: {\n    textAlign: \"center\",\n    marginTop: 20,\n  },\n}));\n\nconst ContactImport = () => {\n  const size = useWindowDimensions();\n\n  const [rows, setRows] = useState(null);\n  const [columns, setColumns] = useState(null);\n  const classes = useStyles();\n  const history = useHistory();\n  const [contactFieldsAvailable, setContactFieldsAvailable] = useState([]);\n  const [columnValue, setColumnValue] = useState({});\n  const [selectedFields, setSelectedFields] = useState({}); // Para rastrear selees nicas\n\n  const [openingFile, setOpeningFile] = useState(false);\n  const [selection, setSelection] = useState({});\n  const [invalidFile, setInvalidFile] = useState(false);\n  const [error, setError] = useState(null);\n  const [countCreated, setCountCreated] = useState(0);\n  const [countIgnored, setCountIgnored] = useState(0);\n  const [uploading, setUploading] = useState(false);\n  const [imported, setImported] = useState(false);\n  const [selectedRows, setSelectedRows] = useState({});\n  const [validateContact, setValidateContact] = useState(false);\n  const contactFields = [\n    { id: \"name\", label: \"Nome\", required: true },\n    { id: \"number\", label: \"Nmero\", required: true },\n    { id: \"email\", label: \"E-mail\", required: false },\n    { id: \"tags\", label: \"Tags\", required: false },\n  ];\n\n  useEffect(() => {\n    setContactFieldsAvailable(contactFields);\n  }, []);\n\n  const processImport = async () => {\n    setUploading(true);\n\n    console.log(selection)\n\n    if (!selection.number) {\n      toastError(\"No foi selecionado o campo de nmero do contato\");\n      setUploading(false);\n      return;\n    }\n\n    if (!selection.name) {\n      toastError(\"No foi selecionado o campo de nome do contato\");\n      setUploading(false);\n      return;\n    }\n\n    if (Object.keys(selectedRows).length === 0) {\n      toastError(\"Nenhum contato selecionado\");\n      setUploading(false);\n      return;\n    }\n\n    if (rows?.length > 1) {\n      for (let index = 1; index < rows.length; index++) {\n        if (selectedRows[index]) { // Importar apenas as linhas selecionadas\n          const item = rows[index];\n          const contactData = {};\n\n          for (let columnIndex = 0; columnIndex < columns.length; columnIndex++) {\n            const column = columns[columnIndex];\n            const selectedField = columnValue[column.key];\n\n            if (selectedField) {\n              contactData[selectedField] = item[columnIndex];\n            }\n          }\n          // Verificar se os campos obrigatrios esto presentes\n          const missingRequiredFields = contactFields.some(field => field.required && !contactData[field.id]);\n\n          if (missingRequiredFields) {\n            setCountIgnored(prevCount => prevCount + 1);\n            continue;\n          }\n\n          try {\n            const data = await api.post('/contactsImport', {\n              ...contactData,\n              validateContact: validateContact ? \"true\" : \"false\",\n            });\n\n            if (data.status === 200) {\n              setCountCreated(prevCount => prevCount + 1);\n            } else {\n              setCountIgnored(prevCount => prevCount + 1);\n            }\n          } catch (error) {\n            setCountIgnored(prevCount => prevCount + 1);\n          }\n        }\n      }\n      setValidateContact(false);\n      setSelectedRows({});\n      setImported(true);\n      setUploading(false);\n      \n      if (countIgnored === 0) {\n        toast.success(\"Importao realizada com sucesso\");\n      } else {\n        toast.alert(\"Importao realizada com sucesso, mas houveram alguns erros\");\n      }\n    }\n  };\n\n  const onChangeFile = (acceptedFiles) => {\n    if (acceptedFiles.length === 0) return;\n    setOpeningFile(true);\n    setInvalidFile(false);\n    setImported(false);\n    setUploading(false);\n    const file = acceptedFiles[0];\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      try {\n        const data = e.target.result;\n        const wb = read(data);\n        const ws = wb.Sheets[wb.SheetNames[0]];\n        const { rows, columns } = WorksheetToDatagrid(ws);\n        setRows(rows);\n        setColumns(columns);\n        setOpeningFile(false);\n      } catch (e) {\n        console.error(e);\n        setInvalidFile(true);\n        setOpeningFile(false);\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n\n  const handleSelectChange = (event) => {\n    const newValue = event.target.value;\n    const columnKey = event.target.name;\n  \n    // Remover antiga seleo\n    if (columnValue[columnKey]) {\n      const oldValue = columnValue[columnKey];\n      setSelectedFields((prevSelectedFields) => {\n        const newSelectedFields = { ...prevSelectedFields };\n        delete newSelectedFields[oldValue];\n        return newSelectedFields;\n      });\n    }\n  \n    // Se o novo valor for vazio, limpar a seleo\n    if (newValue === \"\") {\n      setColumnValue((prevColumnValue) => {\n        const newColumnValue = { ...prevColumnValue };\n        delete newColumnValue[columnKey];\n        return newColumnValue;\n      });\n      setSelection((prevSelection) => {\n        const newSelection = { ...prevSelection };\n        Object.keys(newSelection).forEach((key) => {\n          if (newSelection[key] === columnKey) {\n            delete newSelection[key];\n          }\n        });\n        return newSelection;\n      });\n      return;\n    }\n  \n    // Verificar se o novo valor j foi selecionado\n    if (selectedFields[newValue]) {\n      toastError(`O campo ${newValue} j foi selecionado.`);\n      return;\n    }\n  \n    // Atualizar seleo\n    setSelection((selection) => ({ ...selection, [newValue]: columnKey }));\n    setSelectedFields((prevSelectedFields) => ({ ...prevSelectedFields, [newValue]: columnKey }));\n    setColumnValue((columnValue) => ({ ...columnValue, [columnKey]: newValue }));\n  };\n  \n\n  const renderSelectbox = (column) => {\n    return (\n      <Select value={columnValue[column.key]} name={column.key} onChange={handleSelectChange}>\n        <MenuItem value=\"\">&nbsp;</MenuItem>\n        {contactFieldsAvailable.map((contactField) => (\n          <MenuItem value={contactField.id}>{contactField.label}</MenuItem>\n        ))}\n      </Select>\n    );\n  };\n\n  const renderXls = () => {\n    return (\n      <TableContainer className={classes.tableContainer} style={{ height: size.height * 0.75 }}>\n        <Table stickyHeader>\n          <TableHead key={columns.length}>\n            <TableRow>\n              <TableCell>\n                <input\n                  type=\"checkbox\"\n                  checked={Object.keys(selectedRows).length === rows.length - 1} // Se todas as linhas, exceto a primeira, estiverem marcadas\n                  onChange={(event) => {\n                    const isChecked = event.target.checked;\n                    const newSelectedRows = {};\n                    if (isChecked) {\n                      // Marcar todas as linhas, exceto a primeira\n                      for (let i = 1; i < rows.length; i++) {\n                        newSelectedRows[i] = true;\n                      }\n                    }\n                    setSelectedRows(newSelectedRows);\n                  }}\n                />\n              </TableCell>\n              {columns.map((column) => (\n                <TableCell key={column.key}>{column.name}</TableCell>\n              ))}\n            </TableRow>\n            <TableRow>\n              <TableCell></TableCell>\n              {columns.map((column) => (\n                <TableCell key={column.key}>{renderSelectbox(column)}</TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowIndex) => (\n              <TableRow key={rowIndex}>\n                {rowIndex !== 0 && (\n                  <TableCell>\n                    <input\n                      type=\"checkbox\"\n                      checked={!!selectedRows[rowIndex]}\n                      onChange={() => {\n                        setSelectedRows((prevSelectedRows) => ({\n                          ...prevSelectedRows,\n                          [rowIndex]: !prevSelectedRows[rowIndex],\n                        }));\n                      }}\n                    />\n                  </TableCell>\n                )}\n                {rowIndex !== 0 && (\n                  row.map((column, columnIndex) => (\n                    <TableCell key={columnIndex}>{column}</TableCell>\n                  ))\n                )}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  };\n\n\n  const handleCloseImport = async () => {\n    try {\n      history.push(\"/contacts\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const renderContent = () => {\n    return (\n      <div>\n        <div className={classes.importOptions}>\n          <FormGroup row style={{ width: '100%', display: 'flex', justifyContent: 'space-around' }}>\n            <FormControlLabel\n              control={\n                <Switch checked={validateContact} onChange={(event) => setValidateContact(event.target.checked)} color=\"primary\" />\n              }\n              label=\"Validar contatos no WhatsApp\"\n            />\n          </FormGroup>\n        </div>\n        {renderXls()}\n        <div className={classes.actions}>\n          {uploading && <div>Importando... Aguarde</div>}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={uploading}\n            className={classes.buttonImport}\n            onClick={() => processImport()}\n          >\n            Importar contatos\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={uploading}\n            onClick={() => {\n              setRows(null);\n              setColumns(null);\n            }}\n          >\n            Cancelar\n          </Button>\n          {error && <div className={classes.error}>{error}</div>}\n        </div>\n      </div>\n    );\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop: onChangeFile,\n    maxFiles: 1,\n  });\n\n  return (\n    <div style={{ alignContent: \"center\" }}>\n      {imported && (\n        <div>\n          <ul>\n            <li>{countCreated} contatos criados</li>\n            <li>{countIgnored} contatos ignorados (nmero invlido ou no marcados para atualizar)</li>\n          </ul>\n        </div>\n      )}\n      {openingFile && <div>Processando arquivo...</div>}\n      {invalidFile && <div>Arquivo invlido!</div>}\n      {!imported && rows && columns ? renderContent() : (\n        <>\n          <div\n            {...getRootProps()}\n            className=\"uploaderDrop\"\n            style={{\n              borderRadius: 20,\n              maxWidth: 500,\n              margin: \"20px auto\",\n              border: \"3px dotted #ddd\",\n              padding: 20,\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <img src={upload} height={200} alt=\"Upload\" />\n            <h5>Clique ou arraste um arquivo</h5>\n            <p style={{ color: \"#e74c3c\", fontWeight: \"bold\", textAlign: \"center\" }}>\n              * Importante: Arquivos somente com extenses so aceitas: xls, xslx, csv, txt\n            </p>\n          </div>\n\n          <input {...getInputProps()} />\n\n          <div className={classes.backButtonContainer}>\n            <Button variant=\"contained\" color=\"secondary\" disabled={uploading} onClick={handleCloseImport}>\n              Voltar\n            </Button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ContactImport;\n","import { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport ContactImport from \"../../components/ContactImport\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nconst useStyles = makeStyles(theme => ({\n    mainPaper: {\n        flex: 1,\n        padding: 1,\n        borderRadius: 0,\n        overflowY: \"scroll\",\n        padding: 1,\n        ...theme.scrollbarStylesSoftBig\n    },\n}));\n\nconst ContactImportPage = () => {\n    const classes = useStyles();\n    return <MainContainer className={classes.mainContainer}>\n        <MainHeader>\n            <Title>Importar contatos de arquivo</Title>\n        </MainHeader>\n        <Paper\n            className={classes.mainPaper}\n            variant=\"outlined\">\n            <ContactImport />\n        </Paper>\n    </MainContainer>\n}\n\nexport default ContactImportPage;","import React, { Fragment, useContext, useEffect, useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  ReportProblem, VisibilityOutlined } from \"@mui/icons-material\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { toast } from \"react-toastify\";\nimport { yellow } from \"@mui/material/colors\";\nimport { Avatar, CardHeader, Divider, List, ListItem, ListItemAvatar, ListItemText, Paper, Typography, Card, makeStyles, Container, Badge, Grid, Tooltip } from \"@material-ui/core\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { getBackendUrl } from \"../../config\";\n\nconst backendUrl = getBackendUrl();\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  cardHeader: {\n    width: \"380px\",\n    height: \"78px\",\n    padding: 10,\n    backgroundColor: \"#DCDCDC\",\n  },\n  cardHeaderPending: {\n    width: \"380px\",\n    height: \"78px\",\n    padding: 10,\n    backgroundColor: \"#C0C0C0\",\n  },\n  card: {\n    height: \"300px\",\n    width: \"380px\",\n    margin: \"3px\",\n    borderRadius: 5,\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n  changeWarap: {\n    width: '380px',\n    padding: 0,\n    margin: 0\n  },\n  pending: {\n    color: yellow[600],\n    fontSize: '20px'\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    // paddingLeft: 5,\n    // paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.6em\",\n    // whiteSpace: \"nowrap\"\n  },\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    // top: -30,\n    marginRight: \"1px\",\n    color: grey[400],\n  },\n\n  lastMessageTimeUnread: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    // top: -30,\n    color: \"green\",\n    fontWeight: \"bold\",\n    marginRight: \"1px\",\n  },\n  pending: {\n    color: yellow[600],\n    fontSize: '20px'\n  },\n}));\n\nconst DashboardManage = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const [tickets, setTickets] = useState([]);\n  const [update, setUpdate] = useState(false);\n  const [ticketNot, setTicketNot] = useState(0);\n  const companyId = user.companyId;\n\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n \n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/usersMoments\");\n        console.log(data)\n        setTickets(data);\n        setUpdate(!update);\n      } catch (err) {\n        if (err.response?.status !== 500) {\n          toastError(err);\n        } else {\n          toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\n        }\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    console.log(\"socket painel\")\n    // const socket = socketManager.GetSocket();\n  \n    // const onConnect = () => {\n    //   socket.emit(\"joinChatBox\", `${ticketId}`);\n    // }\n    const onAppMessage = (data) => {\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\n        (async () => {\n          try {\n            const { data } = await api.get(\"/usersMoments\");\n            setTickets(data);\n            setUpdate(!update);\n          } catch (err) {\n            if (err.response?.status !== 500) {\n              toastError(err);\n            } else {\n              toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\n            }\n          }\n        })();\n      }\n    }\n  \n    // socket.on(\"connect\", onConnect);\n    socket.on(`company-${companyId}-ticket`, onAppMessage)\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\n  \n    return () => {\n      // socket.off(\"connect\", onConnect);\n      socket.off(`company-${companyId}-ticket`, onAppMessage)\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\n    };\n  }, [socket]);\n\n  const Moments = useMemo(() => {\n    // console.log(tickets)\n    if (tickets && tickets.length > 0) {\n      const ticketsByUser = tickets.reduce((userTickets, ticket) => {\n        const user = ticket.user;\n\n        if (user) {\n          const userIndex = userTickets.findIndex((group) => group.user.id === user.id);\n          if (userIndex === -1) {\n            userTickets.push({\n              user,\n              userTickets: [ticket],\n            });\n          } else {\n            userTickets[userIndex].userTickets.push(ticket);\n          }\n        }\n        return userTickets;\n      }, []);\n\n      return ticketsByUser.map((group, index) => (\n        <Grid item key={index}>\n          <div padding={20} className={classes.main} key={index}>\n            <div className={classes.changeWarap}>\n              <Paper elevation={3} className={classes.cardHeader}>\n                <CardHeader\n                  style={{ maxWidth: '380px', width: '100%' }}\n                  avatar={<Avatar alt={`${group.user.profileImage}`} src={group.user.profileImage ? `${backendUrl}/public/company${companyId}/user/${group.user.profileImage}` : null} />}\n                  title={(\n                    <span>{group?.user?.name || \"Pendentes\"} <br />\n                      {`Atendimentos: ${group.userTickets?.length}`}\n                    </span>\n                  )}\n                />\n              </Paper>\n              <Paper square elevation={1} className={classes.card}>\n                {group.userTickets.map((ticket) => (\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\n                    <ListItem dense button>\n                      <ListItemAvatar>\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\n                      </ListItemAvatar>\n                      <ListItemText\n                        disableTypography\n                        primary={ticket?.contact?.name?.length > 30 ? ticket?.contact?.name.substring(0, 25) + '...' : ticket?.contact?.name}\n                        secondary={\n                          <Fragment>\n                            <div>\n                              <Typography\n                                style={{ display: 'inline' }}\n                                component=\"span\"\n                                variant=\"body2\"\n                              >\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\n                              </Typography>\n                            </div>\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\n                          </Fragment>\n                        }\n                      />\n                      <Typography\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\n                        component=\"span\"\n                        variant=\"body2\"\n                      >\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                        ) : (\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                        )}\n                      </Typography>\n                      {(user.profile === \"admin\" || ticket.userId === user.id) && (\n                        <Tooltip title=\"Acessar Ticket\">\n                          <VisibilityOutlined\n                            onClick={() => history.push(`/tickets/${ticket.uuid}`)}\n                            fontSize=\"small\"\n                            style={{\n                              color: grey[500],\n                              cursor: \"pointer\",\n                              marginRight: 5,\n                              bottom: \"-15px\"\n                            }}\n                          />\n                        </Tooltip>\n                      )}\n                    </ListItem>\n                    <Divider variant=\"inset\" component=\"li\" />\n                  </List>\n                ))}\n              </Paper>\n            </div>\n          </div>\n        </Grid>\n      )\n      );\n    } else {\n      return null;\n    }\n  }, [update]);\n\n  const MomentsPending = useMemo(() => {\n    if (tickets && tickets.length > 0) {\n      const pendingTickets = tickets.filter((ticket) => !ticket.user);\n\n      return (\n        <Grid item >\n          <div className={classes.main}>\n            <div padding={2} className={classes.changeWarap}>\n              <Paper elevation={3} className={classes.cardHeaderPending}>\n                <CardHeader\n                  style={{ maxWidth: '380px', width: '100%' }}\n                  avatar={<Avatar />}\n                  title={(\n                    <span>{\"Pendentes\"}\n                      <ReportProblem className={classes.pending} />\n                      <div>\n                        Atendimentos: {pendingTickets?.length}\n                      </div>\n                    </span>\n                  )}\n                />\n              </Paper>\n              <Paper square elevation={1} className={classes.card}>\n                {pendingTickets.map((ticket) => (\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\n                    <ListItem dense button>\n                      <ListItemAvatar>\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\n                      </ListItemAvatar>\n                      <ListItemText\n                        disableTypography\n                        primary={ticket?.contact?.name}\n                        secondary={\n                          <Fragment>\n                            <div>\n                              <Typography\n                                style={{ display: 'inline' }}\n                                component=\"span\"\n                                variant=\"body2\"\n                              >\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\n                              </Typography>\n                            </div>\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\n                          </Fragment>\n                        }\n                      />\n                      <Typography\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\n                        component=\"span\"\n                        variant=\"body2\"\n                      >\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                        ) : (\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                        )}\n                      </Typography>\n                    </ListItem>\n                    <Divider variant=\"inset\" component=\"li\" />\n                  </List>\n                ))}\n              </Paper>\n            </div>\n          </div>\n        </Grid>\n      );\n    } else {\n      return null;\n    }\n  }, [update]);\n\n  return (\n    <Fragment>\n      <Grid container spacing={2}>\n        {Moments}\n        {MomentsPending}\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default DashboardManage;\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MomentsUser from \"../../components/MomentsUser\";\n// import MomentsQueues from \"../../components/MomentsQueues\";\n\nimport MainHeader from \"../../components/MainHeader\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport Title from \"../../components/Title\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingLeft: \"5px\",\n    maxWidth: \"100%\"\n  },\n  mainPaper: {\n    display: \"flex\",\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    alignItems: \"center\"\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 100,\n  },\n  chatPapper: {\n    display: \"flex\",\n    height: \"100%\",\n  },\n  contactsHeader: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    padding: \"0px 6px 6px 6px\",\n  }\n}));\n\nconst ChatMoments = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext)\n  return (\n\n    user.profile === \"user\" && user.allowRealTime === \"disabled\" ?\n      <ForbiddenPage />\n      :\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container justifyContent=\"center\" alignItems=\"flex-start\">\n          <Grid xs={12} sm={8} xl={4} item >\n            <Title>{\"Painel de Atendimentos\"}</Title>\n          </Grid>\n          <Grid style={{ width: \"100%\", height: \"100vh\" }} item >\n            <Paper\n              className={classes.mainPaper}\n              variant=\"outlined\"\n              style={{ maxWidth: \"100%\" }}\n            >\n              <MomentsUser />\n            </Paper>\n          </Grid>\n        </Grid>\n      </MainHeader>\n  );\n};\n\nexport default ChatMoments;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\";\n\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst ToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n      // placement=\"bottom\"\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nexport default ToolTip","import React, { Fragment, useContext, useEffect, useRef, useState } from \"react\";\nimport * as Yup from \"yup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport api from \"../../services/api\";\nimport Typography from \"@material-ui/core/Typography\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { CircularProgress, Grid, IconButton, InputLabel, MenuItem, Select, Checkbox } from \"@material-ui/core\";\nimport { Formik, Field, FieldArray } from \"formik\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport TextField from \"@material-ui/core/TextField\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport CustomToolTip from \"../ToolTips\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { FormControlLabel, FormControl } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport useQueues from \"../../hooks/useQueues\";\nimport UserStatusIcon from \"../UserModal/statusIcon\";\n\nconst QueueSchema = Yup.object().shape({\n  options: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst useStyles = makeStyles((theme) => ({\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  Box: {\n    cursor: \"pointer\",\n    alignItems: \"center\",\n  },\n  textField1: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n  customHeight: {\n    height: '48px',\n  },\n}));\n\nfunction getStepContent(step) {\n  return <VerticalLinearStepper chatBotId={step} />;\n}\n\nexport default function VerticalLinearStepper(props) {\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    options: [],\n    closeTicket: false,\n    optQueueId: \"\"\n  };\n\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(-1);\n  const [steps, setSteps] = useState(initialState);\n  const [loading, setLoading] = useState(false);\n  const [isStepContent, setIsStepContent] = useState(true);\n  const [isNameEdit, setIsNamedEdit] = useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [queues, setQueues] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [integrations, setIntegrations] = useState([]);\n  const [file, setFile] = useState([]);\n  const { user, socket } = useContext(AuthContext);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\n\n  const { findAll: findAllQueues } = useQueues();\n  const [allQueues, setAllQueues] = useState([]);\n  const [userOptions, setUserOptions] = useState([]);\n  const isMounted = useRef(true);\n\n  const companyId = user.companyId;\n\n  const handleSaveBot = async (values) => {\n    try {\n      if (props.chatBotId) {\n        await api.put(`/chatbot/${props.chatBotId}`, values);\n      } else {\n        await api.post(\"/chatbot\", values);\n      }\n      toast.success(\"Bot saved successfully\");\n      // setActiveStep(-1)\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n\n      setSteps(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (searchParam.length < 3) {\n      setLoading(false);\n      setSelectedQueueOption(\"\");\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      //setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\");\n          setUserOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\", {\n          params: { companyId }\n        });\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n\n    const delayDebounceFn = setTimeout(() => {\n      const fetchList = async () => {\n        try {\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n\n          if (data?.user)\n            setSelectedUser(data.user);\n\n          if (data.optQueueId !== null && data.optQueueId !== undefined)\n            setSelectedQueueOption(data.optQueueId)\n\n          setSteps(data);\n          setLoading(false);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      fetchList();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [props.chatBotId]);\n\n  useEffect(() => {\n    if (steps.options[activeStep])\n      setSelectedQueueOption(steps.options[activeStep]?.optQueueId)\n\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const filterOptions = createFilterOptions({\n    trim: true,\n  });\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/chatbot/${queueId}`);\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      setSteps(data);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"Tem certeza? Todas as opes internas tambm sero excludas\")}\n      </ConfirmationModal>\n\n      {!loading && (\n        <div>\n          <Formik\n            initialValues={steps}\n            validateOnChange={false}\n            enableReinitialize={true}\n            validationSchema={QueueSchema}\n            render={({\n              touched,\n              errors,\n              isSubmitting,\n              values,\n              setFieldValue,\n            }) => (\n              <FieldArray name=\"options\">\n                {({ push, remove }) => (\n                  <>\n                    <Stepper\n                      nonLinear\n                      activeStep={activeStep}\n                      orientation=\"vertical\"\n                    >\n                      {values.options &&\n                        values.options.length > 0 &&\n                        values.options.map((info, index) => (\n                          <Step\n                            key={`${info.id ? info.id : index}-options`}\n                            onClick={() => setActiveStep(index)}\n                          >\n                            <StepLabel key={`${info.id}-options`}>\n                              {isNameEdit !== index &&\n                                steps.options[index]?.name ? (\n                                <div\n                                  className={classes.greetingMessage}\n                                  variant=\"body1\"\n                                >\n                                  {values.options[index].name}\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => {\n                                      setIsNamedEdit(index);\n                                      setIsStepContent(false);\n                                    }}\n                                  >\n                                    <EditIcon />\n                                  </IconButton>\n\n                                  <IconButton\n                                    onClick={() => {\n                                      setSelectedQueue(info);\n                                      setConfirmModalOpen(true);\n                                    }}\n                                    size=\"small\"\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </div>\n                              ) : (\n                                <Grid container spacing={2}>\n                                  <Grid xs={12} md={12} item>\n                                    <Field\n                                      as={TextField}\n                                      name={`options[${index}].name`}\n                                      variant=\"outlined\"\n                                      margin=\"dense\"\n                                      label={i18n.t(\"queueModal.form.greetingMessage\")}\n                                      color=\"primary\"\n                                      disabled={isSubmitting}\n                                      autoFocus\n                                      fullWidth\n                                      error={\n                                        touched?.options?.[index]?.name &&\n                                        Boolean(errors.options?.[index]?.name)\n                                      }\n                                    //className={classes.textField}\n                                    />\n                                  </Grid>\n                                  <Grid xs={12} md={8} item>\n                                    <FormControl\n                                      variant=\"outlined\"\n                                      margin=\"dense\"\n                                      className={classes.FormControl}\n                                      fullWidth\n                                    >\n                                      <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\n                                      <Field\n                                        as={Select}\n                                        name={`options[${index}].queueType`}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        labelId=\"queueType-selection-label\"\n                                        label={i18n.t(\"queueModal.form.queueType\")}\n                                        error={touched?.options?.[index]?.queueType &&\n                                          Boolean(errors?.options?.[index]?.queueType)}\n                                      // helpertext={touched?.options?.[index]?.queueType && errors?.options?.[index]?.queueType}\n                                      // value={`chatbots[${index}].queueType`}\n                                      //className={classes.textField1}\n                                      >\n                                        <MenuItem value={\"text\"}>Texto</MenuItem>\n                                        <MenuItem value={\"attendent\"}>Atendente</MenuItem>\n                                        <MenuItem value={\"queue\"}>Fila</MenuItem>\n                                        <MenuItem value={\"integration\"}>Integrao</MenuItem>\n                                        <MenuItem value={\"file\"}>Arquivo</MenuItem>\n                                      </Field>\n                                    </FormControl>\n                                  </Grid>\n                                  <Grid xs={12} md={4} item>\n                                    <FormControlLabel\n                                      control={\n                                        <Field\n                                          as={Checkbox}\n                                          color=\"primary\"\n                                          name={`options[${index}].closeTicket`}\n                                          checked={values.options[index].closeTicket || false}\n                                        />\n                                      }\n                                      labelPlacement=\"top\"\n                                      label={i18n.t(\"queueModal.form.closeTicket\")}\n                                    />\n                                    <IconButton\n                                      size=\"small\"\n                                      onClick={() =>\n                                        values.options[index].name\n                                          ? handleSaveBot(values)\n                                          : null\n                                      }\n                                      disabled={isSubmitting}\n                                    >\n                                      <SaveIcon />\n                                    </IconButton>\n\n                                    <IconButton\n                                      size=\"small\"\n                                      onClick={() => remove(index)}\n                                      disabled={isSubmitting}\n                                    >\n                                      <DeleteOutline />\n                                    </IconButton>\n                                  </Grid>\n                                </Grid>\n                              )}\n                            </StepLabel>\n\n                            {isStepContent && steps.options[index] && (\n                              <StepContent>\n                                <>\n                                  <CustomToolTip\n                                    title=\"A mensagem  obrigatria para seguir ao prximo nvel\"\n                                    content=\"Se a mensagem no estiver definida, o bot no seguir adiante\"\n                                  >\n                                    <HelpOutlineOutlinedIcon\n                                      color=\"secondary\"\n                                      style={{ marginLeft: \"4px\" }}\n                                      fontSize=\"small\"\n                                    />\n                                  </CustomToolTip>\n                                  {isGreetingMessageEdit !== index ? (\n                                    <div className={classes.greetingMessage}>\n                                      <Typography\n                                        color=\"textSecondary\"\n                                        variant=\"body1\"\n                                      >\n                                        Message:\n                                      </Typography>\n\n                                      {values.options[index].greetingMessage}\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() =>\n                                          setGreetingMessageEdit(index)\n                                        }\n                                      >\n                                        <EditIcon />\n                                      </IconButton>\n                                    </div>\n                                  ) : (\n                                    <Grid spacing={2} container>\n                                      <div\n                                        className={classes.greetingMessage}\n                                      >\n                                        {steps.options[index].queueType === \"text\" && (\n                                          <Grid xs={12} md={12} item>\n                                            <Field\n                                              as={TextField}\n                                              name={`options[${index}].greetingMessage`}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              color=\"primary\"\n                                              fullWidth\n                                              multiline\n                                              error={\n                                                touched.greetingMessage &&\n                                                Boolean(errors.greetingMessage)\n                                              }\n                                              helperText={\n                                                touched.greetingMessage &&\n                                                errors.greetingMessage\n                                              }\n                                              className={classes.textField}\n                                            />\n\n                                          </Grid>\n                                        )}\n                                      </div>\n\n                                      {steps.options[index].queueType === \"queue\" && (\n                                        <>\n                                          <Grid xs={12} md={12} item>\n                                            <Field\n                                              as={TextField}\n                                              name={`options[${index}].greetingMessage`}\n                                              label={i18n.t(\"queueModal.form.message\")}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              multiline\n                                              error={\n                                                touched.greetingMessage &&\n                                                Boolean(errors.greetingMessage)\n                                              }\n                                              helperText={\n                                                touched.greetingMessage &&\n                                                errors.greetingMessage\n                                              }\n                                              className={classes.textField}\n                                            />\n                                          </Grid>\n                                          <Grid xs={12} md={8} item>\n                                            <FormControl\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              className={classes.FormControl}\n                                              fullWidth\n                                            >\n                                              <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\n                                              <Field\n                                                as={Select}\n                                                name={`options[${index}].optQueueId`}\n                                                labelId=\"queue-selection-label\"\n                                                label={i18n.t(\"queueModal.form.queue\")}\n                                                error={touched?.options?.[index]?.optQueueId &&\n                                                  Boolean(errors?.options?.[index]?.optQueueId)}\n                                                helpertext={touched?.options?.[index]?.optQueueId && errors?.options?.[index]?.optQueueId}\n                                                // value={`options[${index}].optQueueId`}\n                                                fullWidth\n                                                variant=\"outlined\"\n                                                margin=\"dense\"\n                                              >\n                                                {queues.map(queue => (\n                                                  <MenuItem key={queue.id} value={queue.id}>\n                                                    {queue.name}\n                                                  </MenuItem>\n                                                ))}\n                                              </Field>\n                                            </FormControl>\n                                          </Grid>\n                                        </>\n                                      )}\n                                      {steps.options[index].queueType === \"attendent\" && (\n                                        <>\n                                          <Grid xs={12} md={12} item>\n                                            <Field\n                                              as={TextField}\n                                              name={`options[${index}].greetingMessage`}\n                                              label={i18n.t(\"queueModal.form.message\")}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              multiline\n                                              error={\n                                                touched.greetingMessage &&\n                                                Boolean(errors.greetingMessage)\n                                              }\n                                              helperText={\n                                                touched.greetingMessage &&\n                                                errors.greetingMessage\n                                              }\n                                              className={classes.textField}\n                                            />\n                                          </Grid>\n                                          {/* SELECIONAR USUARIO */}\n                                          <Grid xs={12} md={4} item>\n                                            <Autocomplete\n                                              style={{ marginTop: '8px' }}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              getOptionLabel={(option) => `${option.name}`}\n                                              value={steps.options[index].user}\n                                              onChange={(e, newValue) => {\n                                                setSelectedUser(newValue);\n                                                if (newValue != null) {\n                                                  setFieldValue(`options[${index}].optUserId`, newValue.id);\n                                                } else {\n                                                  setFieldValue(`options[${index}].optUserId`, null);\n\n                                                }\n                                                if (newValue != null && Array.isArray(newValue.queues)) {\n                                                  if (newValue.queues.length === 1) {\n                                                    setSelectedQueueOption(newValue.queues[0].id);\n                                                    setFieldValue(`options[${index}].optQueueId`, newValue.queues[0].id);\n                                                  }\n                                                  setQueues(newValue.queues);\n\n                                                } else {\n                                                  setQueues(allQueues);\n                                                  setSelectedQueueOption(\"\");\n                                                }\n                                              }}\n                                              options={userOptions}\n                                              filterOptions={filterOptions}\n                                              freeSolo\n                                              fullWidth\n                                              autoHighlight\n                                              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n                                              loading={loading}\n                                              size=\"small\"\n                                              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\n                                              renderInput={(params) => (\n                                                <TextField\n                                                  {...params}\n                                                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                                                  variant=\"outlined\"\n                                                  onChange={(e) => setSearchParam(e.target.value)}\n                                                  InputProps={{\n                                                    ...params.InputProps,\n                                                    endAdornment: (\n                                                      <Fragment>\n                                                        {loading ? (\n                                                          <CircularProgress color=\"inherit\" size={20} />\n                                                        ) : null}\n                                                        {params.InputProps.endAdornment}\n                                                      </Fragment>\n                                                    ),\n                                                  }}\n                                                />\n                                              )}\n                                            />\n                                          </Grid>\n                                          <Grid xs={12} md={4} item>\n                                            <FormControl\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              className={classes.formControl}\n                                            >\n                                              <InputLabel>\n                                                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n                                              </InputLabel>\n                                              <Select\n                                                value={selectedQueueOption}\n                                                onChange={(e) => {\n                                                  setSelectedQueueOption(e.target.value)\n                                                  setFieldValue(`options[${index}].optQueueId`, e.target.value);\n                                                }}\n                                                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n                                              >\n                                                {queues.map((queue) => (\n                                                  <MenuItem key={queue.id} value={queue.id}>\n                                                    {queue.name}\n                                                  </MenuItem>\n                                                ))}\n                                              </Select>\n                                            </FormControl>\n                                          </Grid>\n                                        </>\n                                      )}\n                                      {steps.options[index].queueType === \"integration\" && (\n                                        <>\n                                          <Grid xs={12} md={12} item>\n                                            <Field\n                                              as={TextField}\n                                              name={`options[${index}].greetingMessage`}\n                                              label={i18n.t(\"queueModal.form.message\")}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              multiline\n                                              error={\n                                                touched.greetingMessage &&\n                                                Boolean(errors.greetingMessage)\n                                              }\n                                              helperText={\n                                                touched.greetingMessage &&\n                                                errors.greetingMessage\n                                              }\n                                              className={classes.textField}\n                                            />\n                                          </Grid>\n                                          <Grid xs={12} md={8} item>\n                                            <FormControl\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              className={classes.formControl}\n                                            >\n                                              <InputLabel id=\"optIntegrationId-selection-label\">\n                                                {i18n.t(\"queueModal.form.integration\")}\n                                              </InputLabel>\n                                              <Field\n                                                as={Select}\n                                                name={`options[${index}].optIntegrationId`}\n                                                labelId=\"optIntegrationId-selection-label\"\n                                                label={i18n.t(\"queueModal.form.integration\")}\n                                                variant=\"outlined\"\n                                                margin=\"dense\"\n                                                fullWidth\n                                                error={touched?.options?.[index]?.optIntegrationId &&\n                                                  Boolean(errors?.options?.[index]?.optIntegrationId)}\n                                                helpertext={touched?.options?.[index]?.optIntegrationId && errors?.options?.[index]?.optIntegrationId}\n                                              // value={`options[${index}].optQueueId`}\n                                              >\n                                                {integrations.map(integration => (\n                                                  <MenuItem key={integration.id} value={integration.id}>\n                                                    {integration.name}\n                                                  </MenuItem>\n                                                ))}\n                                              </Field>\n                                            </FormControl>\n                                          </Grid>\n                                        </>\n                                      )}\n                                      {steps.options[index].queueType === \"file\" && (\n                                        <>\n                                          <Grid xs={12} md={12} item>\n                                            <Field\n                                              as={TextField}\n                                              name={`options[${index}].greetingMessage`}\n                                              label={i18n.t(\"queueModal.form.message\")}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              multiline\n                                              error={\n                                                touched.greetingMessage &&\n                                                Boolean(errors.greetingMessage)\n                                              }\n                                              helperText={\n                                                touched.greetingMessage &&\n                                                errors.greetingMessage\n                                              }\n                                              className={classes.textField}\n                                            />\n                                          </Grid>\n\n                                          <Grid xs={12} md={8} item>\n                                            <FormControl\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              className={classes.formControl}\n                                            >\n                                              <InputLabel id=\"optFileId-selection-label\">\n                                                {i18n.t(\"queueModal.form.file\")}\n                                              </InputLabel>\n                                              <Field\n                                                as={Select}\n                                                name={`options[${index}].optFileId`}\n                                                labelId=\"optFileId-selection-label\"\n                                                label={i18n.t(\"queueModal.form.file\")}\n                                                error={touched?.options?.[index]?.optFileId &&\n                                                  Boolean(errors?.options?.[index]?.optFileId)}\n                                                helpertext={touched?.options?.[index]?.optFileId && errors?.options?.[index]?.optFileId}\n                                                // value={`options[${index}].optQueueId`}\n                                                variant=\"outlined\"\n                                                margin=\"dense\"\n                                              >\n                                                {file.map(f => (\n                                                  <MenuItem key={f.id} value={f.id}>\n                                                    {f.name}\n                                                  </MenuItem>\n                                                ))}\n                                              </Field>\n                                            </FormControl>\n                                          </Grid>\n                                        </>\n                                      )}\n                                      <Grid xs={2} md={4} item>\n                                        <IconButton\n                                          size=\"small\"\n                                          onClick={() => handleSaveBot(values)}\n                                          disabled={isSubmitting}\n                                          style={{ marginTop: '8px' }}\n                                        >\n                                          {\" \"}\n                                          <SaveIcon />\n                                        </IconButton>\n                                      </Grid>\n                                    </Grid>\n\n                                  )}\n                                  {getStepContent(info.id)}\n                                </>\n                              </StepContent>\n                            )}\n                          </Step>\n                        ))}\n\n                      <Step>\n                        <StepLabel\n                          onClick={() =>\n                            push({\n                              name: undefined,\n                              greetingMessage: undefined,\n                            })\n                          }\n                        >\n                          {i18n.t(\"fileModal.buttons.fileOptions\")}\n                        </StepLabel>\n                      </Step>\n                    </Stepper>\n                  </>\n                )}\n              </FieldArray>\n            )}\n          />\n        </div>\n      )\n      }\n    </div >\n  );\n}\n","import React, { useState, useEffect, useRef, useContext, Fragment } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { FormControl, FormControlLabel, Grid, InputLabel, MenuItem, Paper, Select, Tab, Tabs } from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { isArray } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport Checkbox from '@mui/material/Checkbox';\n\nimport OptionsChatBot from \"../ChatBots/options\";\nimport CustomToolTip from \"../ToolTips\";\n\nimport SchedulesForm from \"../SchedulesForm\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport useQueues from \"../../hooks/useQueues\";\nimport UserStatusIcon from \"../UserModal/statusIcon\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ColorBoxModal from \"../ColorBoxModal\";\n// import { ColorBox } from \"material-ui-color\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  textField1: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n  chatbots: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    chatbots: [],\n    outOfHoursMessage: \"\",\n    orderQueue: \"\",\n    tempoRoteador: 0,\n    ativarRoteador: false,\n    integrationId: \"\",\n    fileListId: \"\",\n    closeTicket: false\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const greetingRef = useRef();\n  const [activeStep, setActiveStep] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [isStepContent, setIsStepContent] = useState(true);\n  const [isNameEdit, setIsNamedEdit] = useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\n  const [queues, setQueues] = useState([]);\n\n  const [integrations, setIntegrations] = useState([]);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const [tab, setTab] = useState(0);\n  const [file, setFile] = useState(null);\n  const { user, socket } = useContext(AuthContext);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\n  const { findAll: findAllQueues } = useQueues();\n  const [allQueues, setAllQueues] = useState([]);\n  const [userOptions, setUserOptions] = useState([]);\n  const isMounted = useRef(true);\n\n  const initialStateSchedule = [\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: \"Sbado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" }\n  ];\n\n\n  const [schedules, setSchedules] = useState(initialStateSchedule);\n\n  const companyId = user.companyId;\n\n  const { get: getSetting } = useCompanySettings();\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false);\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n\n      const setting = await getSetting({\n        \"column\": \"scheduleType\"\n      });\n      if (setting.scheduleType === \"queue\") setSchedulesEnabled(true);\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n\n        if (isArray(data.schedules) && data.schedules.length > 0)\n          setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        chatbots: [],\n        outOfHoursMessage: \"\",\n        orderQueue: \"\",\n        tempoRoteador: \"\",\n        ativarRoteador: false,\n        integrationId: \"\",\n        fileListId: \"\",\n        closeTicket: false\n      });\n    };\n  }, [queueId, open]);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (searchParam.length < 3) {\n      setLoading(false);\n      setSelectedQueueOption(\"\");\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      //setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\");\n          setUserOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n\n    if (activeStep) {\n      setSelectedQueueOption(queue.chatbots[activeStep]?.optQueueId)\n    }\n\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleClose = () => {\n    onClose();\n    setIsNamedEdit(null);\n    setActiveStep(null);\n    setGreetingMessageEdit(null);\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alteraes\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  const filterOptions = createFilterOptions({\n    trim: true,\n  });\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (optionsId) => {\n    try {\n      await api.delete(`/chatbot/${optionsId}`);\n      const { data } = await api.get(`/queue/${queueId}`);\n      setQueue(initialState);\n      setQueue(data);\n\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      toast.success(`${i18n.t(\"queues.toasts.deleted\")}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, { ...values, schedules });\n      } else {\n        await api.post(\"/queue\", { ...values, schedules });\n      }\n\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveBot = async (values) => {\n    console.log(values)\n    try {\n      if (queueId) {\n        const { data } = await api.put(`/queue/${queueId}`, values);\n        if (data.chatbots && data.chatbots.length) {\n          onEdit(data);\n          setQueue(data);\n        }\n      } else {\n        const { data } = await api.post(\"/queue\", values);\n        if (data.chatbots && data.chatbots.length) {\n          setQueue(data);\n          onEdit(data);\n          handleClose();\n        }\n      }\n\n      setIsNamedEdit(null)\n      setGreetingMessageEdit(null)\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\n\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // const renderColorBox = (open, handleClose, color, handleColorChange) => {\n  //   return (\n  //     <Dialog open={open} onClose={handleClose}>\n\n  //       <DialogTitle>Escolha uma cor</DialogTitle>\n  //       <DialogContent>\n  //         <ColorBox\n  //           disableAlpha={true}\n  //           hslGradient={false}\n  //           style={{ margin: '20px auto 0' }}\n  //           value={color}\n  //           onChange={handleColorChange} />\n  //       </DialogContent>\n  //       <DialogActions>\n  //         <Button onClick={handleClose} color=\"primary\">\n  //           Cancelar\n  //         </Button>\n  //         <Button\n  //           color=\"primary\"\n  //           variant=\"contained\"\n  //           className={classes.btnWrapper}\n  //           onClick={handleClose} >\n  //           OK\n  //         </Button>\n  //       </DialogActions>\n  //     </Dialog>\n  //   )\n  // }\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queueModal.title.confirmationDelete\")}\n      </ConfirmationModal>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n        </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(e, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label={i18n.t(\"queueModal.title.queueData\")} />\n          {schedulesEnabled && <Tab label={i18n.t(\"queueModal.title.text\")} />}\n        </Tabs>\n        {tab === 0 && (\n          <Formik\n            initialValues={queue}\n            validateOnChange={false}\n            enableReinitialize={true}\n            validationSchema={QueueSchema}\n            onSubmit={(values, actions) => {\n              setTimeout(() => {\n                handleSaveQueue(values);\n                actions.setSubmitting(false);\n              }, 400);\n            }}\n          >\n            {({ setFieldValue, touched, errors, isSubmitting, values }) => (\n              <Form>\n                <DialogContent dividers>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.color\")}\n                    name=\"color\"\n                    id=\"color\"\n                    onFocus={() => {\n                      setColorPickerModalOpen(true);\n                      greetingRef.current.focus();\n                    }}\n                    error={touched.color && Boolean(errors.color)}\n                    helperText={touched.color && errors.color}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          <div\n                            style={{ backgroundColor: values.color }}\n                            className={classes.colorAdorment}\n                          ></div>\n                        </InputAdornment>\n                      ),\n                      endAdornment: (\n                        <IconButton\n                          size=\"small\"\n                          color=\"default\"\n                          onClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n                        >\n                          <Colorize />\n\n                        </IconButton>\n                      ),\n                    }}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                  <ColorBoxModal\n                    open={colorPickerModalOpen}\n                    handleClose={() => setColorPickerModalOpen(false)}\n                    onChange={(color) => {\n                      setFieldValue(\"color\", `#${color.hex}`);\n                    }}\n                    currentColor={values.color}\n                  />\n                  \n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.orderQueue\")}\n                    name=\"orderQueue\"\n                    type=\"orderQueue\"\n                    error={touched.orderQueue && Boolean(errors.orderQueue)}\n                    helperText={touched.orderQueue && errors.orderQueue}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField1}\n                  />\n                  <FormControlLabel\n                    control={\n                      <Field\n                        as={Switch}\n                        color=\"primary\"\n                        name=\"closeTicket\"\n                        checked={values.closeTicket}\n                      />\n                    }\n                    label={i18n.t(\"queueModal.form.closeTicket\")}\n                  />\n                  <div>\n                    <FormControlLabel\n                      control={\n                        <Field\n                          as={Switch}\n                          color=\"primary\"\n                          name=\"ativarRoteador\"\n                          checked={values.ativarRoteador}\n                        />\n                      }\n                      label={i18n.t(\"queueModal.form.rotate\")}\n                    />\n                    <Field\n                      as={Select}\n                      label={i18n.t(\"queueModal.form.timeRotate\")}\n                      name=\"tempoRoteador\"\n                      id=\"tempoRoteador\"\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.selectField}\n                    >\n                      <MenuItem value=\"0\" selected disabled>{i18n.t(\"queueModal.form.timeRotate\")}</MenuItem>\n                      <MenuItem value=\"2\">2 minutos</MenuItem>\n                      <MenuItem value=\"5\">5 minutos</MenuItem>\n                      <MenuItem value=\"10\">10 minutos</MenuItem>\n                      <MenuItem value=\"15\">15 minutos</MenuItem>\n                      <MenuItem value=\"30\">30 minutos</MenuItem>\n                      <MenuItem value=\"45\">45 minutos</MenuItem>\n                      <MenuItem value=\"60\">60 minutos</MenuItem>\n                    </Field>\n                  </div>\n                  <div>\n                    {showIntegrations && (\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          id=\"integrationId\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"\n                          value={values.integrationId || \"\"}\n                        >\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n\n                      </FormControl>\n                    )}\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"queueModal.form.fileListId\")}</InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"queueModal.form.fileListId\")}\n                        name=\"fileListId\"\n                        id=\"fileListId\"\n                        placeholder={i18n.t(\"queueModal.form.fileListId\")}\n                        labelId=\"fileListId-selection-label\"\n                        value={values.fileListId || \"\"}\n                      >\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                        {file.map(f => (\n                          <MenuItem key={f.id} value={f.id}>\n                            {f.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                  </div>\n                  <div>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.greetingMessage\")}\n                      type=\"greetingMessage\"\n                      multiline\n                      inputRef={greetingRef}\n                      minRows={5}\n                      fullWidth\n                      name=\"greetingMessage\"\n                      error={\n                        touched.greetingMessage && Boolean(errors.greetingMessage)\n                      }\n                      helperText={\n                        touched.greetingMessage && errors.greetingMessage\n                      }\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                    />\n                    {schedulesEnabled && (\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                        type=\"outOfHoursMessage\"\n                        multiline\n                        rows={5}\n                        fullWidth\n                        required={schedulesEnabled}\n                        name=\"outOfHoursMessage\"\n                        error={\n                          touched.outOfHoursMessage &&\n                          Boolean(errors.outOfHoursMessage)\n                        }\n                        helperText={\n                          touched.outOfHoursMessage && errors.outOfHoursMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    )}\n                  </div>\n\n                  <Typography variant=\"subtitle1\">\n                    {i18n.t(\"queueModal.bot.title\")}\n                    <CustomToolTip\n                      title={i18n.t(\"queueModal.bot.toolTipTitle\")}\n                      content={i18n.t(\"queueModal.bot.toolTip\")}\n                    >\n                      <HelpOutlineOutlinedIcon\n                        style={{ marginLeft: \"14px\" }}\n                        fontSize=\"small\"\n                      />\n                    </CustomToolTip>\n                  </Typography>\n\n                  <div>\n                    <FieldArray name=\"chatbots\">\n                      {({ push, remove }) => (\n                        <>\n                          <Stepper\n                            nonLinear\n                            activeStep={activeStep}\n                            orientation=\"vertical\"\n                          >\n                            {values.chatbots &&\n                              values.chatbots.length > 0 &&\n                              values.chatbots.map((info, index) => (\n                                <Step\n                                  key={`${info.id ? info.id : index}-chatbots`}\n                                  onClick={() => setActiveStep(index)}\n                                >\n                                  <StepLabel key={`${info.id}-chatbots`}>\n                                    {isNameEdit !== index &&\n                                      queue.chatbots[index]?.name ? (\n                                      <div\n                                        className={classes.greetingMessage}\n                                        variant=\"body1\"\n                                      >\n                                        {values.chatbots[index].name}\n\n                                        <IconButton\n                                          size=\"small\"\n                                          onClick={() => {\n                                            setIsNamedEdit(index);\n                                            setIsStepContent(false);\n                                          }}\n                                        >\n                                          <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                          onClick={() => {\n                                            setSelectedQueue(info);\n                                            setConfirmModalOpen(true);\n                                          }}\n                                          size=\"small\"\n                                        >\n                                          <DeleteOutline />\n                                        </IconButton>\n                                      </div>\n                                    ) : (\n                                      <Grid spacing={2} container>\n                                        <Grid xs={12} md={12} item>\n\n                                          <Field\n                                            as={TextField}\n                                            name={`chatbots[${index}].name`}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            color=\"primary\"\n                                            label={i18n.t(\"queueModal.form.greetingMessage\")}\n                                            disabled={isSubmitting}\n                                            autoFocus\n                                            fullWidth\n                                            size=\"small\"\n                                            error={\n                                              touched?.chatbots?.[index]?.name &&\n                                              Boolean(\n                                                errors.chatbots?.[index]?.name\n                                              )\n                                            }\n                                            className={classes.textField}\n                                          />\n                                        </Grid>\n                                        <Grid xs={12} md={8} item>\n                                          <FormControl\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            className={classes.formControl}\n                                            fullWidth\n                                          >\n                                            <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\n\n                                            <Field\n                                              as={Select}\n                                              name={`chatbots[${index}].queueType`}\n                                              variant=\"outlined\"\n                                              margin=\"dense\"\n                                              fullWidth\n                                              labelId=\"queueType-selection-label\"\n                                              label={i18n.t(\"queueModal.form.queueType\")}\n                                              error={touched?.chatbots?.[index]?.queueType &&\n                                                Boolean(errors?.chatbots?.[index]?.queueType)}\n                                            // helpertext={touched?.chatbots?.[index]?.queueType && errors?.chatbots?.[index]?.queueType}\n                                            // value={`chatbots[${index}].queueType`}\n                                            >\n                                              <MenuItem value={\"text\"}>{i18n.t(\"queueModal.bot.text\")}</MenuItem>\n                                              <MenuItem value={\"attendent\"}>{i18n.t(\"queueModal.bot.attendent\")}</MenuItem>\n                                              <MenuItem value={\"queue\"}>{i18n.t(\"queueModal.bot.queue\")}</MenuItem>\n                                              <MenuItem value={\"integration\"}>{i18n.t(\"queueModal.bot.integration\")}</MenuItem>\n                                              <MenuItem value={\"file\"}>{i18n.t(\"queueModal.bot.file\")}</MenuItem>\n                                            </Field>\n                                          </FormControl>\n                                        </Grid>\n\n                                        <Grid xs={12} md={4} item>\n                                          <FormControlLabel\n                                            control={\n                                              <Field\n                                                as={Checkbox}\n                                                color=\"primary\"\n                                                name={`chatbots[${index}].closeTicket`}\n                                                checked={values.chatbots[index].closeTicket || false}\n                                              />\n                                            }\n                                            labelPlacement=\"top\"\n                                            label={i18n.t(\"queueModal.form.closeTicket\")}\n                                          />\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                              values.chatbots[index].name\n                                                ? handleSaveBot(values)\n                                                : null\n                                            }\n                                            disabled={isSubmitting}\n                                          >\n                                            <SaveIcon />\n                                          </IconButton>\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() => remove(index)}\n                                            disabled={isSubmitting}\n                                          >\n                                            <DeleteOutline />\n                                          </IconButton>\n                                        </Grid>\n                                      </Grid>\n                                    )}\n                                  </StepLabel>\n\n                                  {isStepContent && queue.chatbots[index] && (\n                                    <StepContent>\n                                      <>\n                                        {isGreetingMessageEdit !== index ? (\n                                          <div\n                                            className={classes.greetingMessage}\n                                          >\n                                            <Typography\n                                              color=\"textSecondary\"\n                                              variant=\"body1\"\n                                            >\n                                              Message:\n                                            </Typography>\n\n                                            {\n                                              values.chatbots[index]\n                                                .greetingMessage\n                                            }\n\n                                            {!queue.chatbots[index]\n                                              ?.greetingMessage && (\n                                                <CustomToolTip\n                                                  title={i18n.t(\"queueModal.bot.toolTipMessageTitle\")}\n                                                  content={i18n.t(\"queueModal.bot.toolTipMessageContent\")}\n                                                >\n                                                  <HelpOutlineOutlinedIcon\n                                                    color=\"secondary\"\n                                                    style={{ marginLeft: \"4px\" }}\n                                                    fontSize=\"small\"\n                                                  />\n                                                </CustomToolTip>\n                                              )}\n\n                                            <IconButton\n                                              size=\"small\"\n                                              onClick={() =>\n                                                setGreetingMessageEdit(index)\n                                              }\n                                            >\n                                              <EditIcon />\n                                            </IconButton>\n                                          </div>\n                                        ) : (\n                                          <Grid spacing={2} container>\n                                            <div\n                                              className={classes.greetingMessage}\n                                            >\n                                              {queue.chatbots[index].queueType === \"text\" && (\n                                                <Grid xs={12} md={12} item>\n                                                  <Field\n                                                    as={TextField}\n                                                    name={`chatbots[${index}].greetingMessage`}\n                                                    label={i18n.t(\"queueModal.form.message\")}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    multiline\n                                                    error={\n                                                      touched.greetingMessage &&\n                                                      Boolean(errors.greetingMessage)\n                                                    }\n                                                    helperText={\n                                                      touched.greetingMessage &&\n                                                      errors.greetingMessage\n                                                    }\n                                                    className={classes.textField}\n                                                  />\n\n                                                </Grid>\n                                              )}\n                                            </div>\n                                            {queue.chatbots[index].queueType === \"queue\" && (\n                                              <>\n                                                <Grid xs={12} md={12} item>\n                                                  <Field\n                                                    as={TextField}\n                                                    name={`chatbots[${index}].greetingMessage`}\n                                                    label={i18n.t(\"queueModal.form.message\")}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    multiline\n                                                    error={\n                                                      touched.greetingMessage &&\n                                                      Boolean(errors.greetingMessage)\n                                                    }\n                                                    helperText={\n                                                      touched.greetingMessage &&\n                                                      errors.greetingMessage\n                                                    }\n                                                    className={classes.textField}\n                                                  />\n                                                </Grid>\n                                                <Grid xs={12} md={8} item>\n                                                  <FormControl\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    className={classes.FormControl}\n                                                    fullWidth\n                                                  >\n                                                    <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\n                                                    <Field\n                                                      as={Select}\n                                                      name={`chatbots[${index}].optQueueId`}\n                                                      error={touched?.chatbots?.[index]?.optQueueId &&\n                                                        Boolean(errors?.chatbots?.[index]?.optQueueId)}\n                                                      helpertext={touched?.chatbots?.[index]?.optQueueId && errors?.chatbots?.[index]?.optQueueId}\n                                                      // value={`chatbots[${index}].optQueueId`}\n                                                      className={classes.textField1}\n                                                    >\n                                                      {queues.map(queue => (\n                                                        <MenuItem key={queue.id} value={queue.id}>\n                                                          {queue.name}\n                                                        </MenuItem>\n                                                      ))}\n                                                    </Field>\n                                                  </FormControl>\n                                                </Grid>\n                                              </>\n                                            )}\n                                            {queue.chatbots[index].queueType === \"attendent\" && (\n                                              <>\n                                                <Grid xs={12} md={12} item>\n                                                  <Field\n                                                    as={TextField}\n                                                    name={`chatbots[${index}].greetingMessage`}\n                                                    label={i18n.t(\"queueModal.form.message\")}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    multiline\n                                                    error={\n                                                      touched.greetingMessage &&\n                                                      Boolean(errors.greetingMessage)\n                                                    }\n                                                    helperText={\n                                                      touched.greetingMessage &&\n                                                      errors.greetingMessage\n                                                    }\n                                                    className={classes.textField}\n                                                  />\n                                                </Grid>\n                                                {/* SELECIONAR USUARIO */}\n                                                <Grid xs={12} md={4} item>\n                                                  <Autocomplete\n                                                    style={{ marginTop: '8px' }}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    getOptionLabel={(option) => `${option.name}`}\n                                                    value={queue.chatbots[index].user}\n                                                    onChange={(e, newValue) => {\n                                                      if (newValue != null) {\n                                                        setFieldValue(`chatbots[${index}].optUserId`, newValue.id);\n                                                      } else {\n                                                        setFieldValue(`chatbots[${index}].optUserId`, null);\n\n                                                      }\n                                                      if (newValue != null && Array.isArray(newValue.queues)) {\n                                                        if (newValue.queues.length === 1) {\n                                                          setSelectedQueueOption(newValue.queues[0].id);\n                                                          setFieldValue(`chatbots[${index}].optQueueId`, newValue.queues[0].id);\n                                                        }\n                                                        setQueues(newValue.queues);\n\n                                                      } else {\n                                                        setQueues(allQueues);\n                                                        setSelectedQueueOption(\"\");\n                                                      }\n                                                    }}\n                                                    options={userOptions}\n                                                    filterOptions={filterOptions}\n                                                    freeSolo\n                                                    fullWidth\n                                                    autoHighlight\n                                                    noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n                                                    loading={loading}\n                                                    size=\"small\"\n                                                    renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\n                                                    renderInput={(params) => (\n                                                      <TextField\n                                                        {...params}\n                                                        label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                                                        variant=\"outlined\"\n                                                        onChange={(e) => setSearchParam(e.target.value)}\n                                                        InputProps={{\n                                                          ...params.InputProps,\n                                                          endAdornment: (\n                                                            <Fragment>\n                                                              {loading ? (\n                                                                <CircularProgress color=\"inherit\" size={20} />\n                                                              ) : null}\n                                                              {params.InputProps.endAdornment}\n                                                            </Fragment>\n                                                          ),\n                                                        }}\n                                                      />\n                                                    )}\n                                                  />\n                                                </Grid>\n                                                <Grid xs={12} md={4} item>\n                                                  <FormControl\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    className={classes.formControl}\n                                                  >\n                                                    <InputLabel>\n                                                      {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n                                                    </InputLabel>\n                                                    <Select\n                                                      value={selectedQueueOption}\n                                                      onChange={(e) => {\n                                                        setSelectedQueueOption(e.target.value)\n                                                        setFieldValue(`chatbots[${index}].optQueueId`, e.target.value);\n                                                      }}\n                                                      label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n                                                    >\n                                                      {queues.map((queue) => (\n                                                        <MenuItem key={queue.id} value={queue.id}>\n                                                          {queue.name}\n                                                        </MenuItem>\n                                                      ))}\n                                                    </Select>\n                                                  </FormControl>\n                                                </Grid>\n                                              </>\n                                            )}\n                                            {queue.chatbots[index].queueType === \"integration\" && (\n                                              <>\n                                                <Grid xs={12} md={12} item>\n                                                  <Field\n                                                    as={TextField}\n                                                    name={`chatbots[${index}].greetingMessage`}\n                                                    label={i18n.t(\"queueModal.form.message\")}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    multiline\n                                                    error={\n                                                      touched.greetingMessage &&\n                                                      Boolean(errors.greetingMessage)\n                                                    }\n                                                    helperText={\n                                                      touched.greetingMessage &&\n                                                      errors.greetingMessage\n                                                    }\n                                                    className={classes.textField}\n                                                  />\n                                                </Grid>\n                                                <Grid xs={12} md={8} item>\n                                                  <FormControl\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    className={classes.FormControl}\n                                                    fullWidth\n                                                  >\n                                                    <InputLabel id=\"optIntegrationId-selection-label\">{i18n.t(\"queueModal.form.integration\")}</InputLabel>\n                                                    <Field\n                                                      as={Select}\n                                                      name={`chatbots[${index}].optIntegrationId`}\n                                                      error={touched?.chatbots?.[index]?.optIntegrationId &&\n                                                        Boolean(errors?.chatbots?.[index]?.optIntegrationId)}\n                                                      helpertext={touched?.chatbots?.[index]?.optIntegrationId && errors?.chatbots?.[index]?.optIntegrationId}\n                                                      // value={`chatbots[${index}].optQueueId`}\n                                                      className={classes.textField1}\n                                                    >\n                                                      {integrations.map(integration => (\n                                                        <MenuItem key={integration.id} value={integration.id}>\n                                                          {integration.name}\n                                                        </MenuItem>\n                                                      ))}\n                                                    </Field>\n                                                  </FormControl>\n                                                </Grid>\n                                              </>\n                                            )}\n                                            {queue.chatbots[index].queueType === \"file\" && (\n                                              <>\n                                                <Grid xs={12} md={12} item>\n                                                  <Field\n                                                    as={TextField}\n                                                    name={`chatbots[${index}].greetingMessage`}\n                                                    label={i18n.t(\"queueModal.form.message\")}\n                                                    variant=\"outlined\"\n                                                    margin=\"dense\"\n                                                    fullWidth\n                                                    multiline\n                                                    error={\n                                                      touched.greetingMessage &&\n                                                      Boolean(errors.greetingMessage)\n                                                    }\n                                                    helperText={\n                                                      touched.greetingMessage &&\n                                                      errors.greetingMessage\n                                                    }\n                                                    className={classes.textField}\n                                                  />\n                                                </Grid>\n                                                <InputLabel>{\"Selecione um Arquivo\"}</InputLabel>\n                                                <Field\n                                                  as={Select}\n                                                  name={`chatbots[${index}].optFileId`}\n                                                  error={touched?.chatbots?.[index]?.optFileId &&\n                                                    Boolean(errors?.chatbots?.[index]?.optFileId)}\n                                                  helpertext={touched?.chatbots?.[index]?.optFileId && errors?.chatbots?.[index]?.optFileId}\n                                                  className={classes.textField1}\n                                                >\n                                                  {file.map(f => (\n                                                    <MenuItem key={f.id} value={f.id}>\n                                                      {f.name}\n                                                    </MenuItem>\n                                                  ))}\n                                                </Field>\n                                              </>\n                                            )}\n                                            <IconButton\n                                              size=\"small\"\n                                              onClick={() =>\n                                                handleSaveBot(values)\n                                              }\n                                              disabled={isSubmitting}\n                                            >\n                                              {\" \"}\n                                              <SaveIcon />\n                                            </IconButton>\n                                          </Grid>\n                                        )}\n\n                                        <OptionsChatBot chatBotId={info.id} />\n                                      </>\n                                    </StepContent>\n                                  )}\n                                </Step>\n                              ))}\n\n                            <Step>\n                              <StepLabel\n                                onClick={() => push({ name: \"\", value: \"\" })}\n                              >\n                                {i18n.t(\"queueModal.bot.addOptions\")}\n                              </StepLabel>\n                            </Step>\n                          </Stepper>\n                        </>\n                      )}\n                    </FieldArray>\n                  </div>\n                </DialogContent>\n                <DialogActions>\n                  <Button\n                    onClick={handleClose}\n                    // color=\"secondary\"\n                    disabled={isSubmitting}\n                  // variant=\"outlined\"\n                  >\n                    {i18n.t(\"queueModal.buttons.cancel\")}\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {queueId\n                      ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                      : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                </DialogActions>\n              </Form>\n            )}\n          </Formik>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueModal;","import React, { useEffect, useReducer, useState, useContext } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n  const companyId = user.companyId;\n\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n\n    const onQueueEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    };\n    socket.on(`company-${companyId}-queue`, onQueueEvent);\n\n    return () => {\n      socket.off(`company-${companyId}-queue`, onQueueEvent);\n    };\n  }, [socket, companyId]);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n        onEdit={(res) => {\n          if (res) {\n            setTimeout(() => {\n              handleEditQueue(res)\n            }, 500)\n          }\n        }}\n      />\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"queues.title\")} ({queues.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenQueueModal}\n              >\n                {i18n.t(\"queues.buttons.add\")}\n              </Button>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.ID\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.name\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.color\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.orderQueue\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.greeting\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queues.table.actions\")}\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {queues.map((queue) => (\n                    <TableRow key={queue.id}>\n                      <TableCell align=\"center\">{queue.id}</TableCell>\n                      <TableCell align=\"center\">{queue.name}</TableCell>\n                      <TableCell align=\"center\">\n                        <div className={classes.customTableCell}>\n                          <span\n                            style={{\n                              backgroundColor: queue.color,\n                              width: 60,\n                              height: 20,\n                              alignSelf: \"center\",\n                            }}\n                          />\n                        </div>\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <div className={classes.customTableCell}>\n                          <Typography\n                            style={{ width: 300, align: \"center\" }}\n                            noWrap\n                            variant=\"body2\"\n                          >\n                            {queue.orderQueue}\n                          </Typography>\n                        </div>\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <div className={classes.customTableCell}>\n                          <Typography\n                            style={{ width: 300, align: \"center\" }}\n                            noWrap\n                            variant=\"body2\"\n                          >\n                            {queue.greetingMessage}\n                          </Typography>\n                        </div>\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditQueue(queue)}\n                        >\n                          <Edit />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setSelectedQueue(queue);\n                            setConfirmModalOpen(true);\n                          }}\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {loading && <TableRowSkeleton columns={4} />}\n                </>\n              </TableBody>\n            </Table>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { FormControl, IconButton, InputAdornment, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\")\n});\n\nconst TagModal = ({ open, onClose, tagId, kanban }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [lanes, setLanes] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [selectedLane, setSelectedLane] = useState([]);\n\tconst [selectedRollbackLane, setSelectedRollbackLane] = useState([]);\n\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: getRandomHexColor(),\n\t\tkanban: kanban,\n\t\ttimeLane: 0,\n\t\tnextLaneId: 0,\n\t\tgreetingMessageLane: \"\",\n\t\trollbackLaneId: 0,\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchTags = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/tags/\", {\n\t\t\t\t\t\tparams: { kanban: 1, tagId },\n\t\t\t\t\t});\n\t\t\t\t\tsetLanes(data.tags);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tfetchTags();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, []);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tif (data.nextLaneId) {\n\t\t\t\t\tsetSelectedLane(data.nextLaneId);\n\t\t\t\t}\n\t\t\t\tif (data.rollbackLaneId) {\n\t\t\t\t\tsetSelectedRollbackLane(data.rollbackLaneId);\n\t\t\t\t}\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user?.id, kanban: kanban, nextLaneId: selectedLane || null, rollbackLaneId: selectedRollbackLane || null };\n\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(kanban === 0 ? `${i18n.t(\"tagModal.success\")}` : `${i18n.t(\"tagModal.successKanban\")}`);\n\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\tfunction getRandomHexColor() {\n\t\t// Gerar valores aleatrios para os componentes de cor\n\t\tconst red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\t\tconst green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\t\tconst blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\n\t\t// Converter os componentes de cor em uma cor hexadecimal\n\t\tconst hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\n\n\t\treturn hexColor;\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{(tagId ? (kanban === 0 ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.editKanban\")}`) :\n\t\t\t\t\t\t(kanban === 0 ? `${i18n.t(\"tagModal.title.add\")}` : `${i18n.t(\"tagModal.title.addKanban\")}`))\n\t\t\t\t\t}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t{kanban === 1 && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.timeLane\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"timeLane\"\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.timeLane && Boolean(errors.timeLane)}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.timeLane && errors.timeLane}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, timeLane: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.nextLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.nextLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.nextLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"nextLaneId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nextLaneId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.nextLaneId && Boolean(errors.nextLaneId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedLane}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedLane(e.target.value || null)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.greetingMessageLane\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"greetingMessageLane\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.greetingMessageLane && Boolean(errors.greetingMessageLane)}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.greetingMessageLane && errors.greetingMessageLane}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, greetingMessageLane: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.rollbackLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.rollbackLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.rollbackLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"rollbackLaneId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"rollbackLaneId\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.rollbackLaneId && Boolean(errors.rollbackLaneId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedRollbackLane}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedRollbackLane(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  makeStyles,\n  Modal,\n  Backdrop,\n  Fade,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  IconButton,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    borderRadius: \"8px\",\n    overflow: \"auto\",\n    maxHeight: \"80vh\",\n  },\n  closeButton: {\n    position: \"absolute\",\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n  },\n}));\n\nconst handleRemoveContactTag = async (contactId, tagId) => {\n  await api.delete(`/tags-contacts/${tagId}/${contactId}`);\n}\n\nconst ContactTagListModal = ({ open, onClose, tag }) => {\n  const classes = useStyles();\n  const [tagList, setTagList] = useState(tag.contacts);\n  const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    console.log(\"tagList\", tagList)\n  }, [tagList])\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n    const onCompanyTags = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        if (data.tag.id === tag.id && data.tag?.contacts?.length > 0) {\n          setTagList(data.tag.contacts);\n        }\n        if (data.tag.id === tag.id && data.tag?.contacts?.length === 0) {\n          setTagList([]);\n          onClose();\n        }\n      }\n    };\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\n\n    return () => {\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\n    };\n  }, []); // Dependncia do estado auxiliar updateFlag\n\n  return tagList.length > 0 ? (\n    <Modal\n      className={classes.modal}\n      open={open}\n      onClose={onClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={open}>\n        <div className={classes.paper}>\n          <IconButton className={classes.closeButton} onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n          <h2 id=\"transition-modal-title\">{tag.name} - Contatos</h2>\n          <TableContainer component={Paper}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>ID</TableCell>\n                  <TableCell>Nome</TableCell>\n                  <TableCell>Nmero</TableCell>\n                  <TableCell>Aes</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {tagList?.map((contact) => (\n                  <TableRow key={contact.id}>\n                    <TableCell>{contact.id}</TableCell>\n                    <TableCell>{contact.name}</TableCell>\n                    <TableCell>{contact.number}</TableCell>\n                    <TableCell>\n                      <IconButton onClick={() => handleRemoveContactTag(contact.id, tag.id)}>\n                        <DeleteIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </div>\n      </Fade>\n    </Modal>\n  ) : (\n    <></>\n  )\n};\n\nexport default ContactTagListModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip, Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { MoreHoriz } from \"@material-ui/icons\";\nimport ContactTagListModal from \"../../components/ContactTagListModal\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOAD_TAGS\":\n      return [...state, ...action.payload];\n    case \"UPDATE_TAGS\":\n      const tag = action.payload;\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n        return [...state];\n      } else {\n        return [tag, ...state];\n      }\n    case \"DELETE_TAGS\":\n      const tagId = action.payload;\n      return state.filter((tag) => tag.id !== tagId);\n    case \"RESET\":\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n\n  const [selectedTagContacts, setSelectedTagContacts] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTagName, setSelectedTagName] = useState(\"\");\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n  const pageNumberRef = useRef(1);\n\n  useEffect(() => {\n    const fetchMoreTags = async () => {\n      try {\n        const { data } = await api.get(\"/tags/\", {\n          params: { searchParam, pageNumber, kanban: 0 },\n        });\n        dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n        setHasMore(data.hasMore);\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    if (pageNumber > 0) {\n      setLoading(true);\n      fetchMoreTags();\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const onCompanyTags = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\n      }\n    };\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\n\n    return () => {\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\n    };\n  }, [socket, user.companyId]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    const newSearchParam = event.target.value.toLowerCase();\n    setSearchParam(newSearchParam);\n    setPageNumber(1);\n    dispatch({ type: \"RESET\" });\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleShowContacts = (contacts, tag) => {\n    setSelectedTagContacts(contacts);\n    setContactModalOpen(true);\n    setSelectedTagName(tag);\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);\n    setSelectedTagContacts([]);\n    setSelectedTagName(\"\");\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      {contactModalOpen && (\n        <ContactTagListModal\n          open={contactModalOpen}\n          onClose={handleCloseContactModal}\n          tag={selectedTagName}\n        />\n      )}\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n        kanban={0}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")} ({tags.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">{tag.id}</TableCell>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {tag?.contacts?.length}\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleShowContacts(tag?.contacts, tag)}\n                      disabled={tag?.contacts?.length === 0}\n                    >\n                      <MoreHoriz />\n                    </IconButton>\n                  </TableCell>\n\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n\n              {loading && <TableRowSkeleton key=\"skeleton\" columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\n\nimport axios from \"axios\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    padding: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '', userId: '', queueId: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '', body:'', userId: '', queueId: '' })\n  const [file, setFile] = useState({})\n  const { user, socket } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useExternalApi) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body, userId, queueId } = values;\n    const data = { number, body, userId, queueId };\n    try {\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${values.token}` \n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleSendMediaMessage = async (values) => {\n    try {\n      const firstFile = file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', values.body ? values.body: firstFile.name);\n      data.append('userId', values.userId);\n      data.append('queueId', values.queueId);\n      data.append('medias', firstFile);\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'multipart/form-data',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}  md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\n                  name=\"userId\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                />\n              </Grid>\n              <Grid item xs={12}  md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\n                  name=\"queueId\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                />\n              </Grid>\n              <Grid item xs={12}  md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\n                  name=\"userId\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                />\n              </Grid>\n              <Grid item xs={12}  md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\n                  name=\"queueId\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      style={{marginLeft: \"5px\"}}\n      // className={classes.elementMargin}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        {i18n.t(\"messagesAPI.API.title\")}\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n      {i18n.t(\"messagesAPI.API.methods.title\")}\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesText\")}</li>\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesMidia\")}</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n      {i18n.t(\"messagesAPI.API.instructions.title\")}\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>{i18n.t(\"messagesAPI.API.instructions.comments\")}</b><br />\n        <ul>\n          <li>{i18n.t(\"messagesAPI.API.instructions.comments1\")}</li>\n          <li>\n          {i18n.t(\"messagesAPI.API.instructions.comments2\")}\n            <ul>\n              <li>{i18n.t(\"messagesAPI.API.instructions.codeCountry\")}</li>\n              <li>{i18n.t(\"messagesAPI.API.instructions.code\")}</li>\n              <li>{i18n.t(\"messagesAPI.API.instructions.number\")}</li>\n            </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n      {i18n.t(\"messagesAPI.API.text.title\")}\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>{i18n.t(\"messagesAPI.API.text.instructions\")}</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Mtodo: </b> POST <br />\n            <b>Headers: </b> Authorization Bearer (token registrado) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{\"} <br></br>\n             \"number\": \"558599999999\" <br></br>\n             \"body\": \"Message\" <br></br> \n             \"userId\": ID usurio ou \"\" <br></br>\n             \"queueId\": ID Fila ou \"\"<br></br>\n             \"sendSignature\": Assinar mensagem - true/false <br></br>\n             \"closeTicket\": Encerrar o ticket - true/false<br></br>\n             {\"}\"} \n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n      {i18n.t(\"messagesAPI.API.media.title\")}\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>{i18n.t(\"messagesAPI.API.media.instructions\")}</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Mtodo: </b> POST <br />\n            <b>Headers: </b> Authorization Bearer (token cadastrado) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 558599999999\n              </li>\n              <li>\n                <b>body:</b> Message\n              </li>\n              <li>\n                <b>userId:</b> ID usurio ou \"\"\n              </li>\n              <li>\n                <b>queueId:</b> ID da fila ou \"\"\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n              <li>\n                <b>sendSignature:</b> Assinar mensagem true/false\n              </li>\n              <li>\n                <b>closeTicket:</b> Encerrar ticket true/false\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaperContainer: {\n    overflowY: 'auto',\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  mainPaper: {\n    width: '100%',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: theme.spacing(3),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  helpPaper: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '340px',\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows[3],\n    borderRadius: theme.spacing(1),\n    cursor: 'pointer',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxWidth: '340px',\n  },\n  paperHover: {\n    transition: 'transform 0.3s, box-shadow 0.3s',\n    '&:hover': {\n      transform: 'scale(1.03)',\n      boxShadow: `0 0 8px`,\n      color: theme.palette.primary.main,\n    },\n  },\n  videoThumbnail: {\n    width: '100%',\n    height: 'calc(100% - 56px)',\n    objectFit: 'cover',\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\n  },\n  videoTitle: {\n    marginTop: theme.spacing(1),\n    flex: 1,\n  },\n  videoDescription: {\n    maxHeight: '100px',\n    overflow: 'hidden',\n  },\n  videoModal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  videoModalContent: {\n    outline: 'none',\n    width: '90%',\n    maxWidth: 1024,\n    aspectRatio: '16/9',\n    position: 'relative',\n    backgroundColor: 'white',\n    borderRadius: theme.spacing(1),\n    overflow: 'hidden',\n  },\n}));\n\nconst Helps = () => {\n  const classes = useStyles();\n  const [records, setRecords] = useState([]);\n  const { list } = useHelps();\n  const [selectedVideo, setSelectedVideo] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const helps = await list();\n      setRecords(helps);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n  };\n\n  const closeVideoModal = () => {\n    setSelectedVideo(null);\n  };\n\n  const handleModalClose = useCallback((event) => {\n    if (event.key === \"Escape\") {\n      closeVideoModal();\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleModalClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleModalClose);\n    };\n  }, [handleModalClose]);\n\n  const renderVideoModal = () => {\n    return (\n      <Modal\n        open={Boolean(selectedVideo)}\n        onClose={closeVideoModal}\n        className={classes.videoModal}\n      >\n        <div className={classes.videoModalContent}>\n          {selectedVideo && (\n            <iframe\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </div>\n      </Modal>\n    );\n  };\n\n  const renderHelps = () => {\n    return (\n      <>\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\n          {records.length ? records.map((record, key) => (\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\n              <img\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\n                alt=\"Thumbnail\"\n                className={classes.videoThumbnail}\n              />\n              <Typography variant=\"button\" className={classes.videoTitle}>\n                {record.title}\n              </Typography>\n              <Typography variant=\"caption\" className={classes.videoDescription}>\n                {record.description}\n              </Typography>\n            </Paper>\n          )) : null}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\n      </MainHeader>\n      <div className={classes.mainPaper}>\n        {renderHelps()}\n      </div>\n      {renderVideoModal()}\n    </MainContainer>\n  );\n};\n\nexport default Helps;","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onContactListEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    };\n\n    socket.on(`company-${companyId}-ContactList`, onContactListEvent);\n\n    return () => {\n      socket.off(`company-${companyId}-ContactList`, onContactListEvent);\n    };\n  }, []);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.contacts\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">{contactList.contactsCount || 0}</TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onCompanyContactLists = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    }\n    socket.on(`company-${companyId}-ContactListItem`, onCompanyContactLists);\n\n    return () => {\n      socket.off(`company-${companyId}-ContactListItem`, onCompanyContactLists);\n    };\n  }, [contactListId]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${deletingContact.name\n            }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      {\n        user.profile === \"user\" ?\n          <ForbiddenPage />\n          :\n          <>\n            <MainHeader>\n              <Grid style={{ width: \"99.6%\" }} container>\n                <Grid xs={12} sm={5} item>\n                  <Title>{contactList.name}</Title>\n                </Grid>\n                <Grid xs={12} sm={7} item>\n                  <Grid spacing={2} container>\n                    <Grid xs={12} sm={6} item>\n                      <TextField\n                        fullWidth\n                        placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <SearchIcon style={{ color: \"gray\" }} />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </Grid>\n                    <Grid xs={4} sm={2} item>\n                      <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={goToContactLists}\n                      >\n                        {i18n.t(\"contactListItems.buttons.lists\")}\n                      </Button>\n                    </Grid>\n                    <Grid xs={4} sm={2} item>\n                      <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => {\n                          fileUploadRef.current.value = null;\n                          fileUploadRef.current.click();\n                        }}\n                      >\n                        {i18n.t(\"contactListItems.buttons.import\")}\n                      </Button>\n                    </Grid>\n                    <Grid xs={4} sm={2} item>\n                      <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenContactListItemModal}\n                      >\n                        {i18n.t(\"contactListItems.buttons.add\")}\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </MainHeader>\n            <Paper\n              className={classes.mainPaper}\n              variant=\"outlined\"\n              onScroll={handleScroll}\n            >\n              <>\n                <input\n                  style={{ display: \"none\" }}\n                  id=\"upload\"\n                  name=\"file\"\n                  type=\"file\"\n                  accept=\".xls,.xlsx\"\n                  onChange={() => {\n                    setConfirmOpen(true);\n                  }}\n                  ref={fileUploadRef}\n                />\n              </>\n              <Table size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                      #\n                    </TableCell>\n                    <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"contactListItems.table.number\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"contactListItems.table.email\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"contactListItems.table.actions\")}\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <>\n                    {contacts.map((contact) => (\n                      <TableRow key={contact.id}>\n                        <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                          <IconButton>\n                            {contact.isWhatsappValid ? (\n                              <CheckCircleIcon\n                                titleAccess=\"Whatsapp Vlido\"\n                                htmlColor=\"green\"\n                              />\n                            ) : (\n                              <BlockIcon\n                                titleAccess=\"Whatsapp Invlido\"\n                                htmlColor=\"grey\"\n                              />\n                            )}\n                          </IconButton>\n                        </TableCell>\n                        <TableCell>{contact.name}</TableCell>\n                        <TableCell align=\"center\">{contact.number}</TableCell>\n                        <TableCell align=\"center\">{contact.email}</TableCell>\n                        <TableCell align=\"center\">\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => hadleEditContact(contact.id)}\n                          >\n                            <EditIcon />\n                          </IconButton>\n                          <Can\n                            role={user.profile}\n                            perform=\"contacts-page:deleteContact\"\n                            yes={() => (\n                              <IconButton\n                                size=\"small\"\n                                onClick={() => {\n                                  setConfirmOpen(true);\n                                  setDeletingContact(contact);\n                                }}\n                              >\n                                <DeleteOutlineIcon />\n                              </IconButton>\n                            )}\n                          />\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                    {loading && <TableRowSkeleton columns={4} />}\n                  </>\n                </TableBody>\n              </Table>\n            </Paper>\n          </>}\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton,\n\tFormControlLabel,\n\tSwitch\n} from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst CompanySchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Nome  obrigatrio\"),\n\temail: Yup.string().email(\"Email  invlido\").required(\"E-mail  obrigatrio\"),\n\tnumberAttendants: Yup.number(),\n\tnumberConections: Yup.number(),\n});\n\nconst CompanyModal = ({ open, onClose, companyId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpasswordDefault: \"\",\n\t\tnumberAttendants: 1,\n\t\tnumberConections: 1,\n\t\tstatus: false\n\t};\n\n\tconst [company, setCompany] = useState(initialState);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst fetchCompany = async () => {\n\t\t\tif (!companyId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/companies/listPlan/${companyId}`);\n\t\t\t\tsetCompany(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchCompany();\n\t}, [companyId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetCompany(initialState);\n\t};\n\n\tconst handleSaveCompany = async values => {\n\t\tconst companyData = { ...values };\n\t\ttry {\n\t\t\tif (companyId) {\n\t\t\t\tawait api.put(`/companies/${companyId}`, companyData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/companies\", companyData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"companyModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{companyId\n\t\t\t\t\t\t? `${i18n.t(\"companyModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"companyModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={company}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={CompanySchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveCompany(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"status\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.status}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={\"Ativo\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"passwordDefault\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.passwordDefault\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.passwordDefault && Boolean(errors.passwordDefault)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.passwordDefault && errors.passwordDefault}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberAttendants\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberAttendants\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberAttendants && Boolean(errors.numberAttendants)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberAttendants && errors.numberAttendants}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\t\t// console.log('touched', touched)\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('value', values)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberConections\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberConections\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberConections && Boolean(errors.numberConections)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberConections && errors.numberConections}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"companyModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{companyId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"companyModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"companyModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default CompanyModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\n\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CompanyModal from \"../../components/CompaniesModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_COMPANIES\") {\n        const companies = action.payload;\n        const newCompanies = [];\n\n        companies.forEach((company) => {\n            const companyIndex = state.findIndex((u) => u.id === company.id);\n            if (companyIndex !== -1) {\n                state[companyIndex] = company;\n            } else {\n                newCompanies.push(company);\n            }\n        });\n\n        return [...state, ...newCompanies];\n    }\n\n    if (action.type === \"UPDATE_COMPANIES\") {\n        const company = action.payload;\n        const companyIndex = state.findIndex((u) => u.id === company.id);\n\n        if (companyIndex !== -1) {\n            state[companyIndex] = company;\n            return [...state];\n        } else {\n            return [company, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_COMPANIES\") {\n        const companyId = action.payload;\n\n        const companyIndex = state.findIndex((u) => u.id === companyId);\n        if (companyIndex !== -1) {\n            state.splice(companyIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst Companies = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedCompany, setSelectedCompany] = useState(null);\n    const [deletingCompany, setDeletingCompany] = useState(null);\n    const [companyModalOpen, setCompanyModalOpen] = useState(false);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [companies, dispatch] = useReducer(reducer, []);\n    const { dateToClient, datetimeToClient } = useDate();\n\n    // const { getPlanCompany } = usePlans();\n  //   const socketManager = useContext(SocketContext);\n    const { user, socket } = useContext(AuthContext);\n\n\n    useEffect(() => {\n        async function fetchData() {\n            if (!user.super) {\n                toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n                setTimeout(() => {\n                    history.push(`/`)\n                }, 1000);\n            }\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchCompanies = async () => {\n                try {\n                    const { data } = await api.get(\"/companiesPlan/\", {\n                        params: { searchParam, pageNumber },\n                    });\n                    dispatch({ type: \"LOAD_COMPANIES\", payload: data.companies });\n                    setHasMore(data.hasMore);\n                    setLoading(false);\n                } catch (err) {\n                    toastError(err);\n                }\n            };\n            fetchCompanies();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber]);\n\n//     useEffect(() => {\n//         const companyId = user.companyId;\n//   //    const socket = socketManager.GetSocket();\n//         // const socket = socketConnection();\n\n//         return () => {\n//             socket.disconnect();\n//         };\n//     }, []);\n\n    const handleOpenCompanyModal = () => {\n        setSelectedCompany(null);\n        setCompanyModalOpen(true);\n    };\n\n    const handleCloseCompanyModal = () => {\n        setSelectedCompany(null);\n        setCompanyModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditCompany = (company) => {\n        setSelectedCompany(company);\n        setCompanyModalOpen(true);\n    };\n\n    const handleDeleteCompany = async (companyId) => {\n        try {\n            await api.delete(`/companies/${companyId}`);\n            toast.success(i18n.t(\"compaies.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingCompany(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    const renderStatus = (row) => {\n        return row.status === false ? \"No\" : \"Sim\";\n    };\n\n    const renderPlanValue = (row) => {\n        return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\n    };\n\n    const renderWhatsapp = (row) => {\n        return row.useWhatsapp === false ? \"No\" : \"Sim\";\n    };\n\n    const renderFacebook = (row) => {\n        return row.useFacebook === false ? \"No\" : \"Sim\";\n    };\n\n    const renderInstagram = (row) => {\n        return row.useInstagram === false ? \"No\" : \"Sim\";\n    };\n\n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? \"No\" : \"Sim\";\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? \"No\" : \"Sim\";\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? \"No\" : \"Sim\";\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? \"No\" : \"Sim\";\n    };\n\n    const rowStyle = (record) => {\n        if (moment(record.dueDate).isValid()) {\n            const now = moment();\n            const dueDate = moment(record.dueDate);\n            const diff = dueDate.diff(now, \"days\");\n            if (diff >= 1 && diff <= 5) {\n                return { backgroundColor: \"#fffead\" };\n            }\n            if (diff <= 0) {\n                return { backgroundColor: \"#fa8c8c\" };\n            }\n            // else {\n            //   return { backgroundColor: \"#affa8c\" };\n            // }\n        }\n        return {};\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={\n                    deletingCompany &&\n                    `${i18n.t(\"compaies.confirmationModal.deleteTitle\")} ${deletingCompany.name}?`\n                }\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteCompany(deletingCompany.id)}\n            >\n                {i18n.t(\"compaies.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <CompanyModal\n                open={companyModalOpen}\n                onClose={handleCloseCompanyModal}\n                aria-labelledby=\"form-dialog-title\"\n                companyId={selectedCompany && selectedCompany.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"compaies.title\")} ({companies.length})</Title>\n                {/* <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenCompanyModal}\n                    >\n                        {i18n.t(\"compaies.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper> */}\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.ID\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.status\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.name\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.email\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.namePlan\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\n                            <TableCell align=\"center\">Tamanho da pasta</TableCell>\n                            <TableCell align=\"center\">Total de arquivos</TableCell>\n                            <TableCell align=\"center\">Ultimo update</TableCell>\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberAttendants\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberConections\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberQueues\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useWhatsapp\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useFacebook\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInstagram\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useCampaigns\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useExternalApi\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInternalChat\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useSchedules\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.actions\")}</TableCell> */}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {companies.map((company) => (\n                                <TableRow style={rowStyle(company)} key={company.id}>\n                                    <TableCell align=\"center\">{company.id}</TableCell>\n                                    <TableCell align=\"center\">{renderStatus(company.status)}</TableCell>\n                                    <TableCell align=\"center\">{company.name}</TableCell>\n                                    <TableCell align=\"center\">{company.email}</TableCell>\n                                    <TableCell align=\"center\">{company?.plan?.name}</TableCell>\n                                    <TableCell align=\"center\">R$ {renderPlanValue(company)}</TableCell>\n                                    <TableCell align=\"center\">{dateToClient(company.createdAt)}</TableCell>\n                                    <TableCell align=\"center\">{dateToClient(company.dueDate)}<br /><span>{company.recurrence}</span></TableCell>\n                                    <TableCell align=\"center\">{datetimeToClient(company.lastLogin)}</TableCell>\n                                    <TableCell align=\"center\">{company.folderSize}</TableCell>\n                                    <TableCell align=\"center\">{company.numberFileFolder}</TableCell>\n                                    <TableCell align=\"center\">{datetimeToClient(company.updatedAtFolder)}</TableCell>\n                                    {/* <TableCell align=\"center\">{company.plan.users}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{company.plan.connections}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{company.plan.queues}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderWhatsapp(company.plan.useWhatsapp)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderFacebook(company.plan.useFacebook)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderInstagram(company.plan.useInstagram)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderCampaigns(company.plan.useCampaigns)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderExternalApi(company.plan.useExternalApi)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderInternalChat(company.plan.useInternalChat)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderSchedules(company.plan.useSchedules)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() => handleEditCompany(company)}\n                                        >\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingCompany(company);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell> */}\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default Companies;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst path = require('path');\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QuickeMessageSchema = Yup.object().shape({\n  shortcode: Yup.string().required(\"Obrigatrio\"),\n  //   message: Yup.string().required(\"Obrigatrio\"),\n});\n\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const messageInputRef = useRef();\n\n  const initialState = {\n    shortcode: \"\",\n    message: \"\",\n    geral: false,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [quickemessage, setQuickemessage] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!quickemessageId) return;\n\n        const { data } = await api.get(`/quick-messages/${quickemessageId}`);\n\n        setQuickemessage((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [quickemessageId, open]);\n\n  const handleClose = () => {\n    setQuickemessage(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveQuickeMessage = async (values) => {\n\n    const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\n\n    try {\n      if (quickemessageId) {\n        await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"typeArch\", \"quickMessage\");\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/quick-messages/${quickemessageId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/quick-messages\", quickemessageData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"typeArch\", \"quickMessage\");\n          formData.append(\"file\", attachment);\n          await api.post(`/quick-messages/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"quickMessages.toasts.success\"));\n      if (typeof reload == \"function\") {\n        console.log(reload);\n        console.log(\"0\");\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (quickemessage.mediaPath) {\n      await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\n      setQuickemessage((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        console.log(reload);\n        console.log(\"1\");\n        reload();\n      }\n    }\n  };\n\n  const handleClickMsgVar = async (msgVar, setValueFunc) => {\n    const el = messageInputRef.current;\n    const firstHalfText = el.value.substring(0, el.selectionStart);\n    const secondHalfText = el.value.substring(el.selectionEnd);\n    const newCursorPos = el.selectionStart + msgVar.length;\n\n    setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n    await new Promise(r => setTimeout(r, 100));\n    messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickemessageId\n            ? `${i18n.t(\"quickMessages.dialog.edit\")}`\n            : `${i18n.t(\"quickMessages.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            // accept=\"Image/*, Video/*\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={quickemessage}\n          enableReinitialize={true}\n          validationSchema={QuickeMessageSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickeMessage(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, setFieldValue, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      autoFocus\n                      label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                      name=\"shortcode\"\n                      disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\n                      error={touched.shortcode && Boolean(errors.shortcode)}\n                      helperText={touched.shortcode && errors.shortcode}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"quickMessages.dialog.message\")}\n                      name=\"message\"\n                      inputRef={messageInputRef}\n                      error={touched.message && Boolean(errors.message)}\n                      helperText={touched.message && errors.message}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    // disabled={quickemessage.mediaPath || attachment ? true : false}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <MessageVariablesPicker\n                      disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\n                      onClick={value => handleClickMsgVar(value, setFieldValue)}\n                    />\n                  </Grid>\n                  {/* {(profile === \"admin\" || profile === \"supervisor\") && ( */}\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"geral-selection-label\">\n                        {i18n.t(\"quickMessages.dialog.visao\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"quickMessages.dialog.visao\")}\n                        placeholder={i18n.t(\"quickMessages.dialog.visao\")}\n                        labelId=\"visao-selection-label\"\n                        id=\"visao\"\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\n                        name=\"visao\"\n                        onChange={(e) => {\n                          setFieldValue(\"visao\", e.target.value === \"true\");\n                        }}\n                        error={touched.visao && Boolean(errors.visao)}\n                        value={values.visao ? \"true\" : \"false\"} // Converte o valor booleano para string\n                      >\n                        <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\n                        <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\n                      </Field>\n                    </FormControl>\n                    {/* Renderizao condicional do novo item */}\n                    {values.visao === true && (\n                      <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                        <InputLabel id=\"geral-selection-label\">\n                          {i18n.t(\"quickMessages.dialog.geral\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"quickMessages.dialog.geral\")}\n                          placeholder={i18n.t(\"quickMessages.dialog.geral\")}\n                          labelId=\"novo-item-selection-label\"\n                          id=\"geral\"\n                          name=\"geral\"\n                          disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\n                          value={values.geral ? \"true\" : \"false\"} // Converte o valor booleano para string\n                          error={touched.geral && Boolean(errors.geral)}\n                        >\n                          <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\n                          <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\n                        </Field>\n                      </FormControl>\n                    )}\n                  </Grid>\n                  {/* )} */}\n                  {(quickemessage.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : quickemessage.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\n                      >\n                        <DeleteOutlineIcon color=\"secondary\" />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !quickemessage.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"quickMessages.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickMessages.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickemessageId\n                    ? `${i18n.t(\"quickMessages.buttons.edit\")}`\n                    : `${i18n.t(\"quickMessages.buttons.add\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    //console.log(\"aqui\");\n    //console.log(action);\n    //console.log(action.payload);\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n    //console.log(newQuickmessages);\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { profile } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onQuickMessageEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    };\n    socket.on(`company-${companyId}-quickemessage`, onQuickMessageEvent);\n\n    return () => {\n      socket.off(`company-${companyId}-quickemessage`, onQuickMessageEvent);\n    };\n  }, [socket]);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = user.companyId;\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    //console.log(quickemessage);\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickemessages.map((quickemessage) => (\n                <TableRow key={quickemessage.id}>\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n\n                  <TableCell align=\"center\">\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {quickemessage.geral === true ? (\n                      <CheckCircleIcon style={{ color: 'green' }} />\n                    ) : (\n                      ''\n                    )}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickemessage(quickemessage)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickemessage(quickemessage);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\n// import MessageModal from \"../../components/MessageModal\"\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport \"./Schedules.css\"; // Importe o arquivo CSS\n\n// Defina a funo getUrlParam antes de us-la\nfunction getUrlParam(paramName) {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(paramName);\n}\n\nconst eventTitleStyle = {\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\n  overflow: \"hidden\", // Oculte qualquer contedo excedente\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\n};\n\nconst localizer = momentLocalizer(moment);\nvar defaultMessages = {\n  date: \"Data\",\n  time: \"Hora\",\n  event: \"Evento\",\n  allDay: \"Dia Todo\",\n  week: \"Semana\",\n  work_week: \"Agendamentos\",\n  day: \"Dia\",\n  month: \"Ms\",\n  previous: \"Anterior\",\n  next: \"Prximo\",\n  yesterday: \"Ontem\",\n  tomorrow: \"Amanh\",\n  today: \"Hoje\",\n  agenda: \"Agenda\",\n  noEventsInRange: \"No h agendamentos no perodo.\",\n  showMore: function showMore(total) {\n    return \"+\" + total + \" mais\";\n  }\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  calendarToolbar: {\n    '& .rbc-toolbar-label': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\n    },\n    '& .rbc-btn-group button': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\n      '&:hover': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&:active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&:focus': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&.rbc-active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n    },\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useSchedules) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n  }, [user, history, getPlanCompany]);\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    // handleOpenScheduleModalFromContactId();\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n\n    const onCompanySchedule = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\n      }\n    }\n\n    socket.on(`company${user.companyId}-schedule`, onCompanySchedule)\n\n    return () => {\n      socket.off(`company${user.companyId}-schedule`, onCompanySchedule)\n    };\n  }, [socket]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {scheduleModalOpen && (\n        <ScheduleModal\n          open={scheduleModalOpen}\n          onClose={handleCloseScheduleModal}\n          reload={fetchSchedules}\n          // aria-labelledby=\"form-dialog-title\"\n          scheduleId={\n            selectedSchedule ? selectedSchedule.id : null\n          }\n          contactId={contactId}\n          cleanContact={cleanContact}\n        />\n      )}\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\n        <Calendar\n          messages={defaultMessages}\n          formats={{\n            agendaDateFormat: \"DD/MM ddd\",\n            weekdayFormat: \"dddd\"\n          }}\n          localizer={localizer}\n          events={schedules.map((schedule) => ({\n            title: (\n              <div key={schedule.id} className=\"event-container\">\n                <div style={eventTitleStyle}>{schedule?.contact?.name}</div>\n                <DeleteOutlineIcon\n                  onClick={() => handleDeleteSchedule(schedule.id)}\n                  className=\"delete-icon\"\n                />\n                <EditIcon\n                  onClick={() => {\n                    handleEditSchedule(schedule);\n                    setScheduleModalOpen(true);\n                  }}\n                  className=\"edit-icon\"\n                />\n              </div>\n            ),\n            start: new Date(schedule.sendAt),\n            end: new Date(schedule.sendAt),\n          }))}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          style={{ height: 500 }}\n          className={classes.calendarToolbar}\n        />\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport Chip from '@material-ui/core/Chip';\nimport { isNil } from \"lodash\";\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport UserStatusIcon from \"../UserModal/statusIcon\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport useQueues from \"../../hooks/useQueues\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user, socket } = useContext(AuthContext);\n  const { companyId } = user;\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    //whatsappId: \"\",\n    contactListId: \"\",\n    tagListId: \"Nenhuma\",\n    companyId,\n    statusTicket: \"closed\",\n    openTicket: \"disabled\"\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\n  const [whatsappId, setWhatsappId] = useState(false);\n\n  const [contactLists, setContactLists] = useState([]);\n  const [tagLists, setTagLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n\n\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const { findAll: findAllQueues } = useQueues();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (searchParam.length < 3) {\n      setLoading(false);\n      setSelectedQueue(\"\");\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\");\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => {\n          // Mapear os dados recebidos da API para adicionar a propriedade 'selected'\n          const mappedWhatsapps = data.map((whatsapp) => ({\n            ...whatsapp,\n            selected: false,\n          }));\n\n          setWhatsapps(mappedWhatsapps);\n        });\n\n      api.get(`/tags/list`, { params: { companyId, kanban: 0 } })\n        .then(({ data }) => {\n          const fetchedTags = data;\n          // Perform any necessary data transformation here\n          const formattedTagLists = fetchedTags\n            .filter(tag => tag.contacts.length > 0)  // Filtra as tags com contacts.length > 0\n            .map((tag) => ({\n              id: tag.id,\n              name: `${tag.name} (${tag.contacts.length})`,\n            }));\n\n          setTagLists(formattedTagLists);\n        })\n        .catch((error) => {\n          console.error(\"Error retrieving tags:\", error);\n        });\n\n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n\n        if (data?.user)\n          setSelectedUser(data.user);\n\n        if (data?.queue)\n          setSelectedQueue(data.queue.id)\n\n        if (data?.whatsappId) {\n          // const selectedWhatsapps = data.whatsappId.split(\",\");\n          setWhatsappId(data.whatsappId);\n        }\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {\n        ...values,  // Merge the existing values object\n        whatsappId: whatsappId,\n        userId: selectedUser?.id || null,\n        queueId: selectedQueue || null\n      };\n\n      //console.log(values);\n      //console.log(selectedWhatsapps);\n\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variveis como {nome}, {numero}, {email} ou defina variveis personalizadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const filterOptions = createFilterOptions({\n    trim: true,\n  });\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"tagList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        labelId=\"tagList-selection-label\"\n                        id=\"tagListId\"\n                        name=\"tagListId\"\n                        error={touched.tagListId && Boolean(errors.tagListId)}\n                        disabled={!campaignEditable}\n                      >\n                        {/* <MenuItem value=\"\">Nenhuma</MenuItem> */}\n                        {Array.isArray(tagLists) &&\n                          tagLists.map((tagList) => (\n                            <MenuItem key={tagList.id} value={tagList.id}>\n                              {tagList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        // multiple\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappIds\"\n                        name=\"whatsappIds\"\n                        required\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                        value={whatsappId}\n                        onChange={(event) => {\n                          console.log(event.target.value)\n                          setWhatsappId(event.target.value)\n                        }}\n                        // renderValue={(selected) => (\n                        //   <div>\n                        //     {selected.map((value) => (\n                        //       <Chip key={value} label={whatsapps.find((whatsapp) => whatsapp.id === value).name} />\n                        //     ))}\n                        //   </div>\n                        // )}\n                      >\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"openTicket-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.openTicket\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.openTicket\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.openTicket\"\n                        )}\n                        labelId=\"openTicket-selection-label\"\n                        id=\"openTicket\"\n                        name=\"openTicket\"\n                        error={\n                          touched.openTicket && Boolean(errors.openTicket)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\n                        <MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {/* SELECIONAR USUARIO */}\n                  <Grid xs={12} md={4} item>\n                    <Autocomplete\n                      style={{ marginTop: '8px' }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.formControl}\n                      getOptionLabel={(option) => `${option.name}`}\n                      value={selectedUser}\n                      size=\"small\"\n                      onChange={(e, newValue) => {\n                        setSelectedUser(newValue);\n                        if (newValue != null && Array.isArray(newValue.queues)) {\n                          if (newValue.queues.length === 1) {\n                            setSelectedQueue(newValue.queues[0].id);\n                          }\n                          setQueues(newValue.queues);\n\n                        } else {\n                          setQueues(allQueues);\n                          setSelectedQueue(\"\");\n                        }\n                      }}\n                      options={options}\n                      filterOptions={filterOptions}\n                      freeSolo\n                      fullWidth\n                      autoHighlight\n                      disabled={!campaignEditable || values.openTicket === 'disabled'}\n                      noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n                      loading={loading}\n                      renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                          variant=\"outlined\"\n                          onChange={(e) => setSearchParam(e.target.value)}\n                          InputProps={{\n                            ...params.InputProps,\n                            endAdornment: (\n                              <React.Fragment>\n                                {loading ? (\n                                  <CircularProgress color=\"inherit\" size={20} />\n                                ) : null}\n                                {params.InputProps.endAdornment}\n                              </React.Fragment>\n                            ),\n                          }}\n                        />\n                      )}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel>\n                        {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n                      </InputLabel>\n                      <Select\n                        value={selectedQueue}\n                        onChange={(e) => setSelectedQueue(e.target.value)}\n                        label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n                        required={!isNil(selectedUser)}\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\n                      >\n                        {queues.map((queue) => (\n                          <MenuItem key={queue.id} value={queue.id}>\n                            {queue.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"statusTicket-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.statusTicket\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.statusTicket\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.statusTicket\"\n                        )}\n                        labelId=\"statusTicket-selection-label\"\n                        id=\"statusTicket\"\n                        name=\"statusTicket\"\n                        error={\n                          touched.statusTicket && Boolean(errors.statusTicket)\n                        }\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\n                      >\n                        <MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\n                        <MenuItem value={\"pending\"}>{i18n.t(\"campaigns.dialog.form.pendingTicketStatus\")}</MenuItem>\n                        <MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        background: \"#f2f2f2\",\n                        border: \"1px solid #e6e6e6\",\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"primary\"\n                        >\n                          <DeleteOutlineIcon color=\"secondary\" />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const { datetimeToClient } = useDate();\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onCompanyCampaign = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    }\n\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\n    return () => {\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\n    };\n  }, [user]);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {campaignModalOpen && (\n        <CampaignModal\n          resetPagination={() => {\n            setPageNumber(1);\n            fetchCampaigns();\n          }}\n          open={campaignModalOpen}\n          onClose={handleCloseCampaignModal}\n          aria-labelledby=\"form-dialog-title\"\n          campaignId={selectedCampaign && selectedCampaign.id}\n        />\n      )}\n      {\n        user.profile === \"user\"?\n          <ForbiddenPage />\n          :\n          <>\n            <MainHeader>\n              <Grid style={{ width: \"99.6%\" }} container>\n                <Grid xs={12} sm={8} item>\n                  <Title>{i18n.t(\"campaigns.title\")}</Title>\n                </Grid>\n                <Grid xs={12} sm={4} item>\n                  <Grid spacing={2} container>\n                    <Grid xs={6} sm={6} item>\n                      <TextField\n                        fullWidth\n                        placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <SearchIcon style={{ color: \"gray\" }} />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </Grid>\n                    <Grid xs={6} sm={6} item>\n                      <Button\n                        fullWidth\n                        variant=\"contained\"\n                        onClick={handleOpenCampaignModal}\n                        color=\"primary\"\n                      >\n                        {i18n.t(\"campaigns.buttons.add\")}\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </MainHeader>\n            <Paper\n              className={classes.mainPaper}\n              variant=\"outlined\"\n              onScroll={handleScroll}\n            >\n              <Table size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.name\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.status\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.contactList\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.whatsapp\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.scheduledAt\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.completedAt\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.confirmation\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.actions\")}\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <>\n                    {campaigns.map((campaign) => (\n                      <TableRow key={campaign.id}>\n                        <TableCell align=\"center\">{campaign.name}</TableCell>\n                        <TableCell align=\"center\">\n                          {formatStatus(campaign.status)}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.contactListId\n                            ? campaign.contactList.name\n                            : \"No definida\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.whatsappId\n                            ? campaign.whatsapp.name\n                            : \"No definido\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.scheduledAt\n                            ? datetimeToClient(campaign.scheduledAt)\n                            : \"Sem agendamento\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.completedAt\n                            ? datetimeToClient(campaign.completedAt)\n                            : \"No concluda\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.status === \"EM_ANDAMENTO\" && (\n                            <IconButton\n                              onClick={() => cancelCampaign(campaign)}\n                              title=\"Parar Campanha\"\n                              size=\"small\"\n                            >\n                              <PauseCircleOutlineIcon />\n                            </IconButton>\n                          )}\n                          {campaign.status === \"CANCELADA\" && (\n                            <IconButton\n                              onClick={() => restartCampaign(campaign)}\n                              title=\"Parar Campanha\"\n                              size=\"small\"\n                            >\n                              <PlayCircleOutlineIcon />\n                            </IconButton>\n                          )}\n                          <IconButton\n                            onClick={() =>\n                              history.push(`/campaign/${campaign.id}/report`)\n                            }\n                            size=\"small\"\n                          >\n                            <DescriptionIcon />\n                          </IconButton>\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => handleEditCampaign(campaign)}\n                          >\n                            <EditIcon />\n                          </IconButton>\n\n                          <IconButton\n                            size=\"small\"\n                            onClick={(e) => {\n                              setConfirmModalOpen(true);\n                              setDeletingCampaign(campaign);\n                            }}\n                          >\n                            <DeleteOutlineIcon />\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                    {loading && <TableRowSkeleton columns={8} />}\n                  </>\n                </TableBody>\n              </Table>\n            </Paper>\n          </>}\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { Field } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\nimport usePlans from \"../../hooks/usePlans\";\nimport toastError from \"../../errors/toastError\";\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    // padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n  },\n\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n  sabado: \"false\",\n  domingo: \"false\",\n  startHour: \"09:00\",\n  endHour: \"18:00\"\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n  const { user, socket } = useContext(AuthContext);\n\n  const [sabado, setSabado] = React.useState(false);\n  const [domingo, setDomingo] = React.useState(false);\n\n  const [startHour, setStartHour] = useState(\"08:00\");\n  const [endHour, setEndHour] = useState(\"19:00\");\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      console.log(data)\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, item.value]);\n          if (item.key === \"sabado\") setSabado(item?.value === \"true\");\n          if (item.key === \"domingo\") setDomingo(item?.value === \"true\");\n          if (item.key === \"startHour\") setStartHour(item?.value);\n          if (item.key === \"endHour\") setEndHour(item?.value);\n\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      if (!Array.isArray(prev.variables)) {\n        // Lidar com o caso em que prev.variables no  um array\n        return { ...prev, variables: [Object.assign({}, variable)] };\n      }\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configuraes salvas\");\n  };\n\n  const handleChange = (event) => {\n    if (event.target.name === \"sabado\") {\n      setSabado(event.target.checked);\n    }\n    if (event.target.name === \"domingo\") {\n      setDomingo(event.target.checked);\n    }\n  };\n\n  const handleSaveTimeMass = async () => {\n    let settings = {\n      sabado: sabado,\n      domingo: domingo,\n      startHour: startHour,\n      endHour: endHour\n    }\n\n    try {\n      await api.post(`/campaign-settings/`, { settings });\n\n      toast.success(i18n.t(\"settings.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {\n        user.profile === \"user\" ?\n          <ForbiddenPage />\n          :\n          <>\n            <MainHeader>\n              <Grid style={{ width: \"99.6%\" }} container>\n                <Grid xs={12} item>\n                  <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n                </Grid>\n              </Grid>\n            </MainHeader>\n\n            <Paper className={classes.mainPaper} variant=\"outlined\">\n\n              {/* <Typography component={\"h1\"}>Perodo de Disparo das Campanhas &nbsp;</Typography>\n        <Paper className={classes.paper}>\n          <TextField\n            id=\"buttonText\"\n            label=\"Comear o envio que hora?\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            fullWidth\n            value={startHour}\n            onChange={(e) => setStartHour(e.target.value)}\n            style={{ marginRight: \"10px\" }}\n          />\n\n          <TextField\n            id=\"buttonText\"\n            label=\"Terminar o envio que hora?\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            fullWidth\n            value={endHour}\n            onChange={(e) => setEndHour(e.target.value)}\n            style={{ marginRight: \"10px\" }}\n          />\n\n          <FormControlLabel\n            control={<Checkbox checked={sabado} onChange={handleChange} name=\"sabado\" />}\n            label=\"Sbado\"\n          />\n\n          <FormControlLabel\n            control={<Checkbox checked={domingo} onChange={handleChange} name=\"domingo\" />}\n            label=\"Domigo\"\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.button}\n            onClick={() => {\n              handleSaveTimeMass();\n            }}\n            style={{ marginRight: \"10px\" }}\n          >\n            Salvar\n          </Button>\n\n        </Paper> */}\n\n              <Box className={classes.tabPanelsContainer}>\n                <Grid spacing={1} container>\n                  <Grid xs={12} item>\n                    <Typography component={\"h1\"}>Intervalos &nbsp;</Typography>\n                  </Grid>\n\n                  {/* TEMPO ENTRE DISPAROS */}\n                  {/* <Grid xs={12} md={3} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Tempo entre Disparos\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randmico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid> */}\n\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      className={classes.formControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"messageInterval-label\">\n                        {i18n.t(\"campaigns.settings.randomInterval\")}\n                      </InputLabel>\n                      <Select\n                        name=\"messageInterval\"\n                        id=\"messageInterval\"\n                        labelId=\"messageInterval-label\"\n                        label={i18n.t(\"campaigns.settings.randomInterval\")}\n                        value={settings.messageInterval}\n                        onChange={(e) => handleOnChangeSettings(e)}\n                      >\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.noBreak\")}</MenuItem>\n                        <MenuItem value={5}>5 segundos</MenuItem>\n                        <MenuItem value={10}>10 segundos</MenuItem>\n                        <MenuItem value={15}>15 segundos</MenuItem>\n                        <MenuItem value={20}>20 segundos</MenuItem>\n                        <MenuItem value={30}>30 segundos</MenuItem>\n                        <MenuItem value={60}>40 segundos</MenuItem>\n                        <MenuItem value={70}>60 segundos</MenuItem>\n                        <MenuItem value={80}>80 segundos</MenuItem>\n                        <MenuItem value={100}>100 segundos</MenuItem>\n                        <MenuItem value={120}>120 segundos</MenuItem>                                                `` ``\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      className={classes.formControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"longerIntervalAfter-label\">\n                        {i18n.t(\"campaigns.settings.intervalGapAfter\")}\n                      </InputLabel>\n                      <Select\n                        name=\"longerIntervalAfter\"\n                        id=\"longerIntervalAfter\"\n                        labelId=\"longerIntervalAfter-label\"\n                        label={i18n.t(\"campaigns.settings.intervalGapAfter\")}\n                        value={settings.longerIntervalAfter}\n                        onChange={(e) => handleOnChangeSettings(e)}\n                      >\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.undefined\")}</MenuItem>\n                        <MenuItem value={5}>5 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={10}>10 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={15}>15 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={20}>20 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={30}>30 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={40}>40 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={50}>50 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                        <MenuItem value={60}>60 {i18n.t(\"campaigns.settings.messages\")}</MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      className={classes.formControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"greaterInterval-label\">\n                        {i18n.t(\"campaigns.settings.laggerTriggerRange\")}\n                      </InputLabel>\n                      <Select\n                        name=\"greaterInterval\"\n                        id=\"greaterInterval\"\n                        labelId=\"greaterInterval-label\"\n                        label={i18n.t(\"campaigns.settings.laggerTriggerRange\")}\n                        value={settings.greaterInterval}\n                        onChange={(e) => handleOnChangeSettings(e)}\n                      >\n                        <MenuItem value={0}>{i18n.t(\"campaigns.settings.noBreak\")}</MenuItem>\n                        <MenuItem value={20}>20 segundos</MenuItem>\n                        <MenuItem value={30}>30 segundos</MenuItem>\n                        <MenuItem value={40}>40 segundos</MenuItem>\n                        <MenuItem value={50}>50 segundos</MenuItem>\n                        <MenuItem value={60}>60 segundos</MenuItem>\n                        <MenuItem value={70}>70 segundos</MenuItem>\n                        <MenuItem value={80}>80 segundos</MenuItem>\n                        <MenuItem value={90}>90 segundos</MenuItem>\n                        <MenuItem value={100}>100 segundos</MenuItem>\n                        <MenuItem value={110}>110 segundos</MenuItem>\n                        <MenuItem value={120}>120 segundos</MenuItem>\n                        <MenuItem value={130}>130 segundos</MenuItem>\n                        <MenuItem value={140}>140 segundos</MenuItem>\n                        <MenuItem value={150}>150 segundos</MenuItem>\n                        <MenuItem value={160}>160 segundos</MenuItem>\n                        <MenuItem value={170}>170 segundos</MenuItem>\n                        <MenuItem value={180}>180 segundos</MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} className={classes.textRight} item>\n                    {/* <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                {i18n.t(\"campaigns.settings.addVar\")}\n              </Button> */}\n                    <Button\n                      onClick={saveSettings}\n                      color=\"primary\"\n                      variant=\"contained\"\n                    >\n                      {i18n.t(\"campaigns.settings.save\")}\n                    </Button>\n                  </Grid>\n                  {/* {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label={i18n.t(\"campaigns.settings.shortcut\")}\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label={i18n.t(\"campaigns.settings.content\")}\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    {i18n.t(\"campaigns.settings.close\")}\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    {i18n.t(\"campaigns.settings.add\")}\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>{i18n.t(\"campaigns.settings.shortcut\")}\n                      </TableCell>\n                      <TableCell>{i18n.t(\"campaigns.settings.content\")}</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )} */}\n                </Grid>\n              </Box>\n            </Paper>\n          </>}\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const { datetimeToClient } = useDate();\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onCampaignEvent = (data) => {\n\n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    };\n    socket.on(`company-${companyId}-campaign`, onCampaignEvent);\n\n    return () => {\n      socket.off(`company-${companyId}-campaign`, onCampaignEvent);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return i18n.t(\"campaignReport.inactive\");\n      case \"PROGRAMADA\":\n        return i18n.t(\"campaignReport.scheduled\");\n      case \"EM_ANDAMENTO\":\n        return i18n.t(\"campaignReport.process\");\n      case \"CANCELADA\":\n        return i18n.t(\"campaignReport.cancelled\");\n      case \"FINALIZADA\":\n        return i18n.t(\"campaignReport.finished\");\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignReport.title\")} {campaign.name || i18n.t(\"campaignReport.campaign\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title={i18n.t(\"campaignReport.validContacts\")}\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title={i18n.t(\"campaignReport.confirmationsRequested\")}\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title={i18n.t(\"campaignReport.confirmations\")}\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title={i18n.t(\"campaignReport.deliver\")}\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title={i18n.t(\"campaignReport.connection\")}\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title={i18n.t(\"campaignReport.contactLists\")}\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title={i18n.t(\"campaignReport.schedule\")}\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title={i18n.t(\"campaignReport.conclusion\")}\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatrio\"),\n  text: Yup.string().required(\"Obrigatrio\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"typeArch\", \"announcements\");\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"typeArch\", \"announcements\");\n          formData.append(\"file\", attachment);\n\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>{i18n.t(\"announcements.dialog.form.active\")}</MenuItem>\n                        <MenuItem value={false}>{i18n.t(\"announcements.dialog.form.inactive\")}</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>{i18n.t(\"announcements.dialog.form.high\")}</MenuItem>\n                        <MenuItem value={2}>{i18n.t(\"announcements.dialog.form.medium\")}</MenuItem>\n                        <MenuItem value={3}>{i18n.t(\"announcements.dialog.form.low\")}</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.edit\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.add\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n//   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que no pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (user.companyId) {\n//    const socket = socketManager.GetSocket();\n\n      const onCompanyAnnouncement = (data) => {\n        if (data.action === \"update\" || data.action === \"create\") {\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        }\n        if (data.action === \"delete\") {\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n        }\n      }\n\n      socket.on(`company-announcement`, onCompanyAnnouncement);\n      return () => {\n        socket.off(`company-announcement`, onCompanyAnnouncement);\n      }\n    }\n  }, [user]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n        await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Mdia\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItemActive: {\n    cursor: \"pointer\",\n    backgroundColor: theme.palette.background.paper,\n    borderLeft: \"6px solid #002d6e\",\n  },\n  listItem: {\n    cursor: \"pointer\",\n    backgroundColor: theme.palette.background.color,\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user, socket } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ao no pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={chat.uuid === id ? classes.listItemActive : classes.listItem}\n                  // style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    background: theme.palette.background.color,\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) { }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{i18n.t(\"chatInternal.modal.title\")}</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Ttulo\"\n              placeholder=\"Ttulo\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          {i18n.t(\"chatInternal.modal.cancel\")}\n        </Button>\n        <Button\n          onClick={handleSave}\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={users === undefined || users.length === 0 || title === null || title === \"\" || title === undefined}\n        >\n          {i18n.t(\"chatInternal.modal.save\")}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketConnection({ companyId, userId: user.id });\n\n    const onChatUser = (data) => {\n\n      console.log(data)\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    }\n    const onChat = (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    }\n\n    const onCurrentChat = (data) => {\n      if (data.action === \"new-message\") {\n        setMessages((prev) => [...prev, data.newMessage]);\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.newMessage.chatId) {\n            return {\n              ...data.chat,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n        scrollToBottomRef.current();\n      }\n\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.chat.id) {\n            return {\n              ...data.chat,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n        scrollToBottomRef.current();\n      }\n    }\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, onChatUser);\n    socket.on(`company-${companyId}-chat`, onChat);\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\n    }\n\n    return () => {\n      socket.off(`company-${companyId}-chat-user-${user.id}`, onChatUser);\n      socket.off(`company-${companyId}-chat`, onChat);\n      if (isObject(currentChat) && has(currentChat, \"id\")) {\n        socket.off(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) { }\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) { }\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) { }\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) { }\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          {/* {user.profile === \"admin\" && ( */}\n          <div className={classes.btnContainer}>\n            <Button\n              onClick={() => {\n                setDialogType(\"new\");\n                setShowDialog(true);\n              }}\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {i18n.t(\"chatInternal.new\")}\n            </Button>\n          </div>\n          {/* )} */}\n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                setQueues(data);\n            } catch (err) {\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <div>\n                    <Typography>\n                        {i18n.t(\"queueSelect.inputLabel\")}\n                    </Typography>\n                    <Field\n                        as={Select}\n                        label={i18n.t(\"queueSelect.inputLabel\")}\n                        name=\"queueId\"\n                        labelId=\"queue-selection-label\"\n                        id=\"queue-selection\"\n                        fullWidth\n                    >\n                        {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                                {queue.name}\n                            </MenuItem>\n                        ))}\n                    </Field>\n                </div>\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport QueueSelectSingle from \"../QueueSelectSingle\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst PromptSchema = Yup.object().shape({\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatrio\"),\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligncia Artificial\"),\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\n    max_tokens: Yup.number().required(\"Informe o nmero mximo de tokens\"),\n    temperature: Yup.number().required(\"Informe a temperatura\"),\n    apikey: Yup.string().required(\"Informe a API Key\"),\n    queueId: Yup.number().required(\"Informe a fila\"),\n    max_messages: Yup.number().required(\"Informe o nmero mximo de mensagens\")\n});\n\nconst PromptModal = ({ open, onClose, promptId }) => {\n    const classes = useStyles();\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\n    const [showApiKey, setShowApiKey] = useState(false);\n\n    const handleToggleApiKey = () => {\n        setShowApiKey(!showApiKey);\n    };\n\n    const initialState = {\n        name: \"\",\n        prompt: \"\",\n        voice: \"texto\",\n        voiceKey: \"\",\n        voiceRegion: \"\",\n        maxTokens: 100,\n        temperature: 1,\n        apiKey: \"\",\n        queueId: null,\n        maxMessages: 10\n    };\n\n    const [prompt, setPrompt] = useState(initialState);\n\n    useEffect(() => {\n        const fetchPrompt = async () => {\n            if (!promptId) {\n                setPrompt(initialState);\n                return;\n            }\n            try {\n                const { data } = await api.get(`/prompt/${promptId}`);\n                setPrompt(prevState => {\n                    return { ...prevState, ...data };\n                });\n                setSelectedVoice(data.voice);\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        fetchPrompt();\n    }, [promptId, open]);\n\n    const handleClose = () => {\n        setPrompt(initialState);\n        setSelectedVoice(\"texto\");\n        onClose();\n    };\n\n    const handleChangeVoice = (e) => {\n        setSelectedVoice(e.target.value);\n    };\n\n    const handleSavePrompt = async values => {\n        const promptData = { ...values, voice: selectedVoice };\n        if (!values.queueId) {\n            toastError(\"Informe o setor\");\n            return;\n        }\n        try {\n            if (promptId) {\n                await api.put(`/prompt/${promptId}`, promptData);\n            } else {\n                await api.post(\"/prompt\", promptData);\n            }\n            toast.success(i18n.t(\"promptModal.success\"));\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                scroll=\"paper\"\n                fullWidth\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {promptId\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\n                        : `${i18n.t(\"promptModal.title.add\")}`}\n                </DialogTitle>\n                <Formik\n                    initialValues={prompt}\n                    enableReinitialize={true}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSavePrompt(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form style={{ width: \"100%\" }}>\n                            <DialogContent dividers>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.name\")}\n                                    name=\"name\"\n                                    error={touched.name && Boolean(errors.name)}\n                                    helperText={touched.name && errors.name}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    required\n                                />\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.apikey\")}\n                                        name=\"apiKey\"\n                                        type={showApiKey ? 'text' : 'password'}\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\n                                        helperText={touched.apiKey && errors.apiKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        required\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position=\"end\">\n                                                    <IconButton onClick={handleToggleApiKey}>\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                                    </IconButton>\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </FormControl>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.prompt\")}\n                                    name=\"prompt\"\n                                    error={touched.prompt && Boolean(errors.prompt)}\n                                    helperText={touched.prompt && errors.prompt}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    required\n                                    rows={10}\n                                    multiline={true}\n                                />\n                                <QueueSelectSingle />\n                                <div className={classes.multFieldLine}>\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\n                                        <Select\n                                            id=\"type-select\"\n                                            labelWidth={60}\n                                            name=\"voice\"\n                                            value={selectedVoice}\n                                            onChange={handleChangeVoice}\n                                            multiple={false}\n                                        >\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\n                                                Texto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\n                                                Francisa\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\n                                                Antnio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\n                                                Brenda\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\n                                                Donato\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\n                                                Elza\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\n                                                Fbio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\n                                                Giovanna\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\n                                                Humberto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\n                                                Julio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\n                                                Leila\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\n                                                Letcia\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\n                                                Manuela\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\n                                                Nicolau\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\n                                                Valrio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\n                                                Yara\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\n                                        name=\"voiceKey\"\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\n                                        helperText={touched.voiceKey && errors.voiceKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\n                                        name=\"voiceRegion\"\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                \n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.temperature\")}\n                                        name=\"temperature\"\n                                        error={touched.temperature && Boolean(errors.temperature)}\n                                        helperText={touched.temperature && errors.temperature}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\n                                        name=\"maxTokens\"\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                                        helperText={touched.maxTokens && errors.maxTokens}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\n                                        name=\"maxMessages\"\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                                        helperText={touched.maxMessages && errors.maxMessages}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {promptId\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport PromptModal from \"../../components/PromptModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_PROMPTS\") {\n    const prompts = action.payload;\n    const newPrompts = [];\n\n    prompts.forEach((prompt) => {\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\n      if (promptIndex !== -1) {\n        state[promptIndex] = prompt;\n      } else {\n        newPrompts.push(prompt);\n      }\n    });\n\n    return [...state, ...newPrompts];\n  }\n\n  if (action.type === \"UPDATE_PROMPTS\") {\n    const prompt = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\n\n    if (promptIndex !== -1) {\n      state[promptIndex] = prompt;\n      return [...state];\n    } else {\n      return [prompt, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_PROMPT\") {\n    const promptId = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === promptId);\n    if (promptIndex !== -1) {\n      state.splice(promptIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Prompts = () => {\n  const classes = useStyles();\n\n  const [prompts, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n  const history = useHistory();\n  const companyId = user.companyId;\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useOpenAi) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/prompt\");\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n\n    const onPromptEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\n      }\n    };\n\n    socket.on(`company-${companyId}-prompt`, onPromptEvent);\n    return () => {\n      socket.off(`company-${companyId}-prompt`, onPromptEvent);\n    };\n  }, [socket]);\n\n  const handleOpenPromptModal = () => {\n    setPromptModalOpen(true);\n    setSelectedPrompt(null);\n  };\n\n  const handleClosePromptModal = () => {\n    setPromptModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleEditPrompt = (prompt) => {\n    setSelectedPrompt(prompt);\n    setPromptModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleDeletePrompt = async (promptId) => {\n    try {\n      const { data } = await api.delete(`/prompt/${promptId}`);\n      toast.info(i18n.t(data.message));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedPrompt(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedPrompt &&\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\n      >\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <PromptModal\n        open={promptModalOpen}\n        onClose={handleClosePromptModal}\n        promptId={selectedPrompt?.id}\n      />\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"prompts.title\")}</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenPromptModal}\n              >\n                {i18n.t(\"prompts.buttons.add\")}\n              </Button>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"left\">\n                    {i18n.t(\"prompts.table.name\")}\n                  </TableCell>\n                  <TableCell align=\"left\">\n                    {i18n.t(\"prompts.table.queue\")}\n                  </TableCell>\n                  <TableCell align=\"left\">\n                    {i18n.t(\"prompts.table.max_tokens\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"prompts.table.actions\")}\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {prompts.map((prompt) => (\n                    <TableRow key={prompt.id}>\n                      <TableCell align=\"left\">{prompt.name}</TableCell>\n                      <TableCell align=\"left\">{prompt.queue.name}</TableCell>\n                      <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditPrompt(prompt)}\n                        >\n                          <Edit />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setSelectedPrompt(prompt);\n                            setConfirmModalOpen(true);\n                          }}\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {loading && <TableRowSkeleton columns={4} />}\n                </>\n              </TableBody>\n            </Table>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default Prompts;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { isNil } from \"lodash\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport moment from \"moment\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  Divider,\n  Tab,\n  Tabs,\n  Paper,\n  Box\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport TabPanel from \"../TabPanel\";\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport SchedulesForm from \"../SchedulesForm\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n\n  multFieldLine: {\n    marginTop: 12,\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n  importMessage: {\n    marginTop: 12,\n    marginBottom: 12,\n    paddingBottom: 20,\n    paddingTop: 3,\n    padding: 12,\n    border: \"solid grey 2px\",\n    borderRadius: 4,\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n  tokenRefresh: {\n    minWidth: \"auto\",\n    display: \"flex\", // Torna o boto flexvel para alinhar o contedo\n    alignItems: \"center\", // Alinha verticalmente ao centro\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const [autoToken, setAutoToken] = useState(\"\");\n\n  const inputFileRef = useRef(null);\n\n  const [attachment, setAttachment] = useState(null)\n  const [attachmentName, setAttachmentName] = useState('')\n\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    maxUseBotQueues: 3,\n    provider: \"beta\",\n    expiresTicket: 0,\n    allowGroup: false,\n    groupAsTicket: \"disabled\",\n    timeUseBotQueues: '0',\n    timeSendQueue: '0',\n    sendIdQueue: 0,\n    expiresTicketNPS: '0',\n    expiresInactiveMessage: \"\",\n    timeInactiveMessage: \"\",\n    inactiveMessage: \"\",\n    maxUseBotQueuesNPS: 3,\n    whenExpiresTicket: 0,\n    timeCreateNewTicket: 0,\n    greetingMediaAttachment: \"\",\n    importRecentMessages: \"\",\n    importOldMessages: \"\",\n    importOldMessagesGroups: \"\",\n    integrationId: \"\",\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [tab, setTab] = useState(\"general\");\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\n  const [copied, setCopied] = useState(false);\n  const [integrations, setIntegrations] = useState([]);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n\n  const [schedules, setSchedules] = useState([\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: \"Sbado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\n  ]);\n\n  const { get: getSetting } = useCompanySettings();\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n\n      const setting = await getSetting({\n        \"column\": \"scheduleType\"\n      });\n      setSchedulesEnabled(setting.scheduleType === \"connection\");\n    }\n    fetchData();\n  }, []);\n\n  const handleEnableImportMessage = async (e) => {\n    setEnableImportMessage(e.target.checked);\n\n  };\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp-admin/${whatsAppId}?session=0`);\n        setWhatsApp(data);\n        setAttachmentName(data.greetingMediaAttachment);\n        setAutoToken(data.token);\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n        setSchedules(data.schedules)\n        if (data?.importOldMessages) {\n          setEnableImportMessage(true);\n          setImportOldMessages(data?.importOldMessages);\n          setImportRecentMessages(data?.importRecentMessages);\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleSaveWhatsApp = async (values) => {\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\n   \n    if ((!isNil(values.ratingMessage) && values.ratingMessage !== '') && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '' || values.expiresTicketNPS === 0)) {\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\n      return;\n    }\n\n    if (!isNil(values.ratingMessage) && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '')) {\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\n      return;\n    }\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\n    \n    if  ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) &&  (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\n      return;\n    }\n\n    const whatsappData = {\n      ...values, queueIds: selectedQueueIds,\n      importOldMessages: enableImportMessage ? importOldMessages : null,\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\n      token: autoToken ? autoToken : null, schedules,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\n          toast.warning(\n            i18n.t(\"userModal.warning.updateImage\"),\n            { autoClose: false }\n          );\n          try {\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\n          } catch (err) {\n            toastError(err);\n          }\n        }\n\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\n        }\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\n        }\n      } else {\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  function generateRandomCode(length) {\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\n    let code = \"\";\n\n    for (let i = 0; i < length; i++) {\n      const randomIndex = Math.floor(Math.random() * charset.length);\n      code += charset.charAt(randomIndex);\n    }\n    return code;\n  }\n\n  const handleRefreshToken = () => {\n    setAutoToken(generateRandomCode(30));\n  }\n\n  const handleCopyToken = () => {\n    navigator.clipboard.writeText(autoToken); // Copia o token para a rea de transferncia    \n    setCopied(true); // Define o estado de cpia como verdadeiro\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alteraes\");\n    setSchedules(values);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n    // inputFileRef.current.value = null\n    setAttachment(null)\n    setAttachmentName(\"\")\n    setCopied(false);\n  };\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleFileUpload = () => {\n    const file = inputFileRef.current.files[0];\n    setAttachment(file)\n    setAttachmentName(file.name)\n    inputFileRef.current.value = null\n  };\n\n  const handleDeleFile = () => {\n    setAttachment(null)\n    setAttachmentName(null)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xl\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <Paper className={classes.mainPaper} elevation={1}>\n                <Tabs\n                  value={tab}\n                  indicatorColor=\"primary\"\n                  textColor=\"primary\"\n                  scrollButtons=\"on\"\n                  variant=\"scrollable\"\n                  onChange={handleTabChange}\n                  className={classes.tab}\n                >\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\n                </Tabs>\n              </Paper>\n              <Paper className={classes.paper} elevation={0}>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"general\"}\n                >\n                  <DialogContent dividers>\n                    {attachmentName && (\n                      <div\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\n                      >\n                        <Button\n                          variant='outlined'\n                          color=\"primary\"\n                          endIcon={<DeleteOutlineIcon />}\n                          onClick={handleDeleFile}\n                        >\n                          {attachmentName}\n                        </Button>\n                      </div>\n                    )}\n                    <div\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\n                    >\n                      <input\n                        type=\"file\"\n                        accept=\"video/*,image/*\"\n                        ref={inputFileRef}\n                        style={{ display: 'none' }}\n                        onChange={handleFileUpload}\n                      />\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\n                        {i18n.t(\"userModal.buttons.addImage\")}\n                      </Button>\n                    </div>\n                    {/* NOME E PADRAO */}\n                    <div className={classes.multFieldLine}>\n                      <Grid spacing={2} container>\n                        <Grid item>\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"whatsappModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helperText={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid style={{ paddingTop: 15 }} item>\n                          <FormControlLabel\n                            control={\n                              <Field\n                                as={Switch}\n                                color=\"primary\"\n                                name=\"isDefault\"\n                                checked={values.isDefault}\n                              />\n                            }\n                            label={i18n.t(\"whatsappModal.form.default\")}\n                          />\n                          <FormControlLabel\n                            control={\n                              <Field\n                                as={Switch}\n                                color=\"primary\"\n                                name=\"allowGroup\"\n                                checked={values.allowGroup}\n                              />\n                            }\n                            label={i18n.t(\"whatsappModal.form.group\")}\n                          />\n                        </Grid>\n                        <Grid xs={6} md={4} item>\n                          <FormControl\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.formControl}\n                          >\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\n                              labelId=\"groupAsTicket-selection-label\"\n                              id=\"groupAsTicket\"\n                              name=\"groupAsTicket\"\n                            >\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                      </Grid>\n                    </div>\n\n\n                    <div className={classes.importMessage}>\n                      <div className={classes.multFieldLine}>\n                        <FormControlLabel\n                          style={{ marginRight: 7, color: \"gray\" }}\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\n                          labelPlacement=\"end\"\n                          control={\n                            <Switch\n                              size=\"medium\"\n                              checked={enableImportMessage}\n                              onChange={handleEnableImportMessage}\n                              name=\"importOldMessagesEnable\"\n                              color=\"primary\"\n                            />\n                          }\n                        />\n\n                        {enableImportMessage ? (\n                          <>\n                            <FormControlLabel\n                              style={{ marginRight: 7, color: \"gray\" }}\n                              label={i18n.t(\n                                \"whatsappModal.form.importOldMessagesGroups\"\n                              )}\n                              labelPlacement=\"end\"\n                              control={\n                                <Switch\n                                  size=\"medium\"\n                                  checked={importOldMessagesGroups}\n                                  onChange={(e) =>\n                                    setImportOldMessagesGroups(e.target.checked)\n                                  }\n                                  name=\"importOldMessagesGroups\"\n                                  color=\"primary\"\n                                />\n                              }\n                            />\n\n                            <FormControlLabel\n                              style={{ marginRight: 7, color: \"gray\" }}\n                              label={i18n.t(\n                                \"whatsappModal.form.closedTicketsPostImported\"\n                              )}\n                              labelPlacement=\"end\"\n                              control={\n                                <Switch\n                                  size=\"medium\"\n                                  checked={closedTicketsPostImported}\n                                  onChange={(e) =>\n                                    setClosedTicketsPostImported(e.target.checked)\n                                  }\n                                  name=\"closedTicketsPostImported\"\n                                  color=\"primary\"\n                                />\n                              }\n                            />\n                          </>) : <></>}\n                      </div>\n\n                      {enableImportMessage ? (\n                        <Grid style={{ marginTop: 18 }} container spacing={3}>\n                          <Grid item xs={6}>\n                            <Field\n                              fullWidth\n                              as={TextField}\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\n                              type=\"datetime-local\"\n                              name=\"importOldMessages\"\n                              inputProps={{\n                                max: moment()\n                                  .add(0, \"minutes\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                                min: moment()\n                                  .add(-2, \"years\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                              }}\n                              //min=\"2022-11-06T22:22:55\"\n                              InputLabelProps={{\n                                shrink: true,\n                              }}\n                              error={\n                                touched.importOldMessages &&\n                                Boolean(errors.importOldMessages)\n                              }\n                              helperText={\n                                touched.importOldMessages && errors.importOldMessages\n                              }\n                              variant=\"outlined\"\n                              value={moment(importOldMessages).format(\n                                \"YYYY-MM-DDTHH:mm\"\n                              )}\n                              onChange={(e) => {\n                                setImportOldMessages(e.target.value);\n                              }}\n                            />\n                          </Grid>\n                          <Grid item xs={6}>\n                            <Field\n                              fullWidth\n                              as={TextField}\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\n                              type=\"datetime-local\"\n                              name=\"importRecentMessages\"\n                              inputProps={{\n                                max: moment()\n                                  .add(0, \"minutes\")\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\n                                min: moment(importOldMessages).format(\n                                  \"YYYY-MM-DDTHH:mm\"\n                                )\n                              }}\n                              //min=\"2022-11-06T22:22:55\"\n                              InputLabelProps={{\n                                shrink: true,\n                              }}\n                              error={\n                                touched.importRecentMessages &&\n                                Boolean(errors.importRecentMessages)\n                              }\n                              helperText={\n                                touched.importRecentMessages && errors.importRecentMessages\n                              }\n                              variant=\"outlined\"\n                              value={moment(importRecentMessages).format(\n                                \"YYYY-MM-DDTHH:mm\"\n                              )}\n                              onChange={(e) => {\n                                setImportRecentMessages(e.target.value);\n                              }}\n                            />\n                          </Grid>\n                        </Grid>\n\n                      ) : null}\n                    </div>\n                    {enableImportMessage && (\n                      <span style={{ color: \"red\" }}>\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\n                      </span>\n                    )}\n\n\n                    {/* TOKEN */}\n                    <Box display=\"flex\" alignItems=\"center\">\n                      <Grid xs={6} md={12} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.token\")}\n                          type=\"token\"\n                          fullWidth\n                          // name=\"token\"\n                          value={autoToken}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          disabled\n                        />\n                      </Grid>\n                      <Button\n                        onClick={handleRefreshToken}\n                        disabled={isSubmitting}\n                        className={classes.tokenRefresh}\n                        variant=\"text\"\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\n                      />\n                      <Button\n                        onClick={handleCopyToken}\n                        className={classes.tokenRefresh}\n                        variant=\"text\"\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\n                      />\n                    </Box>\n\n                    <div>\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n                      <Grid spacing={2} container>\n\n                        <Grid xs={6} md={6} item>\n                          <FormControl\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.FormControl}\n                            fullWidth\n                          >\n                            <InputLabel id=\"sendIdQueue-selection-label\">\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                            </InputLabel>\n                            <Field\n                              as={Select}\n                              name=\"sendIdQueue\"\n                              id=\"sendIdQueue\"\n                              value={values.sendIdQueue || '0'}\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                              labelId=\"sendIdQueue-selection-label\"\n                            >\n                              <MenuItem value={0}>&nbsp;</MenuItem>\n                              {queues.map(queue => (\n                                <MenuItem key={queue.id} value={queue.id}>\n                                  {queue.name}\n                                </MenuItem>\n                              ))}\n                            </Field>\n                          </FormControl>\n\n                        </Grid>\n\n                        <Grid xs={6} md={6} item>\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\n                            fullWidth\n                            name=\"timeSendQueue\"\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\n                          />\n                        </Grid>\n\n                      </Grid>\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"integrations\"}\n                >\n                  <DialogContent dividers>\n                    {/* FILAS */}\n                    <QueueSelect\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                    />\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"integrationId-selection-label\">\n                        {i18n.t(\"queueModal.form.integrationId\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"queueModal.form.integrationId\")}\n                        name=\"integrationId\"\n                        id=\"integrationId\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                        labelId=\"integrationId-selection-label\"                        >\n                        <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\n                        {integrations.map((integration) => (\n                          <MenuItem key={integration.id} value={integration.id}>\n                            {integration.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                    <FormControl\n                      margin=\"dense\"\n                      variant=\"outlined\"\n                      fullWidth\n                    >\n                      <InputLabel>\n                        {i18n.t(\"whatsappModal.form.prompt\")}\n                      </InputLabel>\n                      <Select\n                        labelId=\"dialog-select-prompt-label\"\n                        id=\"dialog-select-prompt\"\n                        name=\"promptId\"\n                        value={selectedPrompt || \"\"}\n                        onChange={handleChangePrompt}\n                        label={i18n.t(\"whatsappModal.form.prompt\")}\n                        fullWidth\n                        MenuProps={{\n                          anchorOrigin: {\n                            vertical: \"bottom\",\n                            horizontal: \"left\",\n                          },\n                          transformOrigin: {\n                            vertical: \"top\",\n                            horizontal: \"left\",\n                          },\n                          getContentAnchorEl: null,\n                        }}\n                      >\n                        {prompts.map((prompt) => (\n                          <MenuItem\n                            key={prompt.id}\n                            value={prompt.id}\n                          >\n                            {prompt.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"messages\"}\n                >\n                  <DialogContent dividers>\n                    {/* MENSAGEM DE SAUDAO */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.greetingMessage\")}\n                        type=\"greetingMessage\"\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"greetingMessage\"\n                        error={\n                          touched.greetingMessage && Boolean(errors.greetingMessage)\n                        }\n                        helperText={\n                          touched.greetingMessage && errors.greetingMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n\n                    {/* MENSAGEM DE CONCLUSO */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.complationMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"complationMessage\"\n                        error={\n                          touched.complationMessage &&\n                          Boolean(errors.complationMessage)\n                        }\n                        helperText={\n                          touched.complationMessage && errors.complationMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n\n                    {/* MENSAGEM DE FORA DE EXPEDIENTE */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"outOfHoursMessage\"\n                        error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\n                        helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"chatbot\"}\n                >\n                  <DialogContent dividers>\n                    <Grid spacing={2} container>\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\n                          fullWidth\n                          name=\"timeCreateNewTicket\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\n                        />\n                      </Grid>\n\n                      {/* QUANTIDADE MXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\n                          fullWidth\n                          name=\"maxUseBotQueues\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\n                        />\n                      </Grid>\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\n                      <Grid xs={6} md={4} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\n                          fullWidth\n                          name=\"timeUseBotQueues\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\n                        />\n                      </Grid>\n                    </Grid>\n                    <Grid spacing={2} container>\n                      {/* ENCERRAR CHATS ABERTOS APS X HORAS */}\n                      <Grid xs={6} md={6} item>\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                          fullWidth\n                          name=\"expiresTicket\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                          helperText={touched.expiresTicket && errors.expiresTicket}\n                        />\n                      </Grid>\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\n                      <Grid xs={6} md={6} item>\n                        <FormControl\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          className={classes.formControl}\n                        >\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\n                          </InputLabel>\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\n                            placeholder={i18n.t(\n                              \"whatsappModal.form.whenExpiresTicket\"\n                            )}\n                            labelId=\"whenExpiresTicket-selection-label\"\n                            id=\"whenExpiresTicket\"\n                            name=\"whenExpiresTicket\"\n                          >\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\n                          </Field>\n                        </FormControl>\n                      </Grid>\n                    </Grid>\n                    {/* MENSAGEM POR INATIVIDADE*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"expiresInactiveMessage\"\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\n                      fullWidth\n                      name=\"timeInactiveMessage\"\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\n                    />\n                    {/* MENSAGEM POR INATIVIDADE*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"inactiveMessage\"\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"nps\"}\n                >\n                  <DialogContent dividers>\n                    {/* MENSAGEM DE AVALIAAO*/}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\n                        multiline\n                        rows={4}\n                        fullWidth\n                        name=\"ratingMessage\"\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\n                        helperText={touched.ratingMessage && errors.ratingMessage}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                    </div>\n                    {/* QUANTIDADE MXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\n                        fullWidth\n                        name=\"maxUseBotQueuesNPS\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\n                      />\n                    </div>\n                    {/* ENCERRAR CHATS NPS APS X Minutos */}\n                    <div>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\n                        fullWidth\n                        name=\"expiresTicketNPS\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\n                      />\n                    </div>\n                  </DialogContent>\n                </TabPanel>\n                <TabPanel\n                  className={classes.container}\n                  value={tab}\n                  name={\"schedules\"}\n                >\n                  {tab === \"schedules\" && (\n                    <Paper style={{ padding: 20 }}>\n                      <SchedulesForm\n                        loading={false}\n                        onSubmit={handleSaveSchedules}\n                        initialValues={schedules}\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\n                      />\n                    </Paper>\n                  )}\n\n                </TabPanel>\n              </Paper>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);","import React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO, set } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\nimport { Stack } from \"@mui/material\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableCell,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  TableRow,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Divider\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../MainContainer\";\nimport MainHeader from \"../MainHeader\";\nimport MainHeaderButtonsWrapper from \"../MainHeaderButtonsWrapper\";\nimport Title from \"../Title\";\nimport TableRowSkeleton from \"../TableRowSkeleton\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport api from \"../../services/api\";\nimport WhatsAppModalAdmin from \"../WhatsAppModalAdmin\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport QrcodeModal from \"../QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    borderRadius: \"10px\",\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\n    ...theme.scrollbarStyles\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450\n  },\n  tooltipPopper: {\n    textAlign: \"center\"\n  },\n  buttonProgress: {\n    color: green[500]\n  }\n  ,\n  TableHead: {\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\n    color: \"textSecondary\",\n    borderRadius: \"5px\"\n  }\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\nconst WhatsAppModalCompany = ({\n  open,\n  onClose,\n  whatsAppId,\n  filteredWhatsapps,\n  companyInfos\n}) => {\n  //console.log(filteredWhatsapps,\"teste\")\n  //console.log(companyInfos,\"testeeeee\")\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n  const { list } = useCompanies();\n  const [loadingComp, setLoadingComp] = useState(false);\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [companies, setCompanies] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\n    confirmationModalInitialState\n  );\n\n  const responseFacebook = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n  const responseInstagram = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n\n  const handleStartWhatsAppSession = async whatsAppId => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async whatsAppId => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n  const renderStatusToolTips = whatsApp => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const renderActionButtons = whatsApp => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleOpenQrModal(whatsApp)}\n          >\n            {i18n.t(\"connections.buttons.qrcode\")}\n          </Button>\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.tryAgain\")}\n            </Button>{\" \"}\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.newQr\")}\n            </Button>\n          </>\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => {\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n              }}\n            >\n              {i18n.t(\"connections.buttons.disconnect\")}\n            </Button>\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const IconChannel = channel => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook />;\n      case \"instagram\":\n        return <Instagram />;\n      case \"whatsapp\":\n        return <WhatsApp />;\n      default:\n        return \"error\";\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"lg\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <MainContainer>\n          <ConfirmationModal\n            title={confirmModalInfo.title}\n            open={confirmModalOpen}\n            onClose={setConfirmModalOpen}\n            onConfirm={handleSubmitConfirmationModal}\n          >\n            {confirmModalInfo.message}\n          </ConfirmationModal>\n          <QrcodeModal\n            open={qrModalOpen}\n            onClose={handleCloseQrModal}\n            whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n          />\n          <WhatsAppModalAdmin\n            open={whatsAppModalOpen}\n            onClose={handleCloseWhatsAppModal}\n            whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n          />\n\n          <Paper\n            className={classes.mainPaper}\n            style={{ overflow: \"hidden\" }}\n            variant=\"outlined\"\n          >\n            <MainHeader>\n              <Stack>\n                <Typography\n                  variant=\"h5\"\n                  color=\"black\"\n                  style={{\n                    fontWeight: \"bold\",\n                    marginLeft: \"10px\",\n                    marginTop: \"10px\"\n                  }}\n                  gutterBottom\n                >\n                  Conexes de: {companyInfos?.name}\n                </Typography>\n              </Stack>\n\n              <MainHeaderButtonsWrapper>\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                  {popupState => (\n                    <React.Fragment>\n                      <Menu {...bindMenu(popupState)}>\n                        <MenuItem\n                          onClick={() => {\n                            handleOpenWhatsAppModal();\n                            popupState.close();\n                          }}\n                        >\n                          <WhatsApp\n                            fontSize=\"small\"\n                            style={{\n                              marginRight: \"10px\"\n                            }}\n                          />\n                          WhatsApp\n                        </MenuItem>\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management\"\n                          callback={responseFacebook}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Facebook\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Facebook\n                            </MenuItem>\n                          )}\n                        />\n\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                          callback={responseInstagram}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Instagram\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Instagram\n                            </MenuItem>\n                          )}\n                        />\n                      </Menu>\n                    </React.Fragment>\n                  )}\n                </PopupState>\n              </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Stack\n              style={{\n                overflowY: \"auto\",\n                padding: \"20px\",\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\n                borderRadius: \"5px\",\n                height: \"93%\"\n              }}\n            >\n              <Paper>\n                <Table size=\"small\">\n                  <TableHead\n                    className={classes.TableHead}\n                  >\n                    <TableRow style={{ color: \"#fff\" }}>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        Channel\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"connections.table.name\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"connections.table.status\")}\n                      </TableCell>\n                      {user.profile === \"admin\" && (\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                          {i18n.t(\"connections.table.session\")}\n                        </TableCell>\n                      )}\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"connections.table.lastUpdate\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"connections.table.default\")}\n                      </TableCell>\n                      {user.profile === \"admin\" && (\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                          {i18n.t(\"connections.table.actions\")}\n                        </TableCell>\n                      )}\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {loading ? (\n                      <TableRowSkeleton />\n                    ) : (\n                      <>\n                        {filteredWhatsapps?.length > 0 &&\n                          filteredWhatsapps.map(whatsApp => (\n                            <TableRow key={whatsApp.id}>\n                              <TableCell align=\"center\">\n                                {IconChannel(whatsApp.channel)}\n                              </TableCell>\n                              <TableCell align=\"center\">\n                                {whatsApp?.name}\n                              </TableCell>\n                              <TableCell align=\"center\">\n                                {renderStatusToolTips(whatsApp)}\n                              </TableCell>\n                              {user.profile === \"admin\" && (\n                                <TableCell align=\"center\">\n                                  {renderActionButtons(whatsApp)}\n                                </TableCell>\n                              )}\n                              <TableCell align=\"center\">\n                                {format(\n                                  parseISO(whatsApp.updatedAt),\n                                  \"dd/MM/yy HH:mm\"\n                                )}\n                              </TableCell>\n                              <TableCell align=\"center\">\n                                {whatsApp.isDefault && (\n                                  <div className={classes.customTableCell}>\n                                    <CheckCircle\n                                      style={{ color: green[500] }}\n                                    />\n                                  </div>\n                                )}\n                              </TableCell>\n                              {user.profile === \"admin\" && (\n                                <TableCell align=\"center\">\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => handleEditWhatsApp(whatsApp)}\n                                  >\n                                    <Edit />\n                                  </IconButton>\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={e => {\n                                      handleOpenConfirmationModal(\n                                        \"delete\",\n                                        whatsApp.id\n                                      );\n                                    }}\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </TableCell>\n                              )}\n                            </TableRow>\n                          ))}\n                      </>\n                    )}\n                  </TableBody>\n                </Table>\n              </Paper>\n            </Stack>\n          </Paper>\n        </MainContainer>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModalCompany);\n","import React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO, set } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\nimport { Stack } from \"@mui/material\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Divider\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport WhatsAppModalCompany from \"../../components/CompanyWhatsapps\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    borderRadius: \"10px\",\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\n    ...theme.scrollbarStyles\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450\n  },\n  tooltipPopper: {\n    textAlign: \"center\"\n  },\n  buttonProgress: {\n    color: green[500]\n  },\n  TableHead: {\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\n    color: \"textSecondary\",\n    borderRadius: \"5px\"\n  }\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = channel => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook />;\n    case \"instagram\":\n      return <Instagram />;\n    case \"whatsapp\":\n      return <WhatsApp />;\n    default:\n      return \"error\";\n  }\n};\n\nconst AllConnections = () => {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n  const { list } = useCompanies();\n  const [loadingWhatsapp, setLoadingWhatsapp] = useState(true);\n  const [loadingComp, setLoadingComp] = useState(false);\n  const [whats, setWhats] = useState([]);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [companies, setCompanies] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [filterConnections, setFilterConnections] = useState([]);\n  const [companyWhatsApps, setCompanyWhatsApps] = useState(null);\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\n    confirmationModalInitialState\n  );\n\n  const history = useHistory();\n  if (!user.super) {\n    history.push(\"/tickets\")\n  }\n\n\n  useEffect(() => {\n    setLoadingWhatsapp(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/all/?session=0\");\n        setWhats(data);\n        setLoadingWhatsapp(false);\n      } catch (err) {\n        setLoadingWhatsapp(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  const responseFacebook = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n  const loadCompanies = async () => {\n    setLoadingComp(true);\n    try {\n      const companyList = await list();\n      setCompanies(companyList);\n    } catch (e) {\n      toast.error(\"No foi possvel carregar a lista de registros\");\n    }\n    setLoadingComp(false);\n  }\n\n  const responseInstagram = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n\n  const handleStartWhatsAppSession = async whatsAppId => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async whatsAppId => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = (whatsappsFilter, comp) => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n    if (whatsappsFilter?.length > 0) {\n      setFilterConnections(whatsappsFilter);\n      setCompanyWhatsApps(comp);\n    }\n  };\n\n\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n    setFilterConnections([]);\n    setCompanyWhatsApps(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n  const renderActionButtons = whatsApp => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleOpenQrModal(whatsApp)}\n          >\n            {i18n.t(\"connections.buttons.qrcode\")}\n          </Button>\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.tryAgain\")}\n            </Button>{\" \"}\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.newQr\")}\n            </Button>\n          </>\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => {\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n              }}\n            >\n              {i18n.t(\"connections.buttons.disconnect\")}\n            </Button>\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = whatsApp => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      <QrcodeModal\n        open={qrModalOpen}\n        onClose={handleCloseQrModal}\n        whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n      />\n      <WhatsAppModalCompany\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        filteredWhatsapps={filterConnections}\n        companyInfos={companyWhatsApps}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <Paper className={classes.mainPaper} style={{ overflow: \"hidden\" }} variant=\"outlined\">\n            <MainHeader>\n              <Stack>\n                <Typography variant=\"h5\" color=\"black\" style={{ fontWeight: \"bold\", marginLeft: \"10px\", marginTop: \"10px\" }} gutterBottom>\n                  {i18n.t(\"connections.title\")}\n                </Typography>\n                <Typography style={{ marginTop: \"-10px\", marginLeft: \"10px\" }} variant=\"caption\" color=\"textSecondary\">\n                  Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.\n                </Typography>\n              </Stack>\n\n              <MainHeaderButtonsWrapper>\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                  {popupState => (\n                    <React.Fragment>\n                      <Menu {...bindMenu(popupState)}>\n                        <MenuItem\n                          onClick={() => {\n                            handleOpenWhatsAppModal();\n                            popupState.close();\n                          }}\n                        >\n                          <WhatsApp\n                            fontSize=\"small\"\n                            style={{\n                              marginRight: \"10px\"\n                            }}\n                          />\n                          WhatsApp\n                        </MenuItem>\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                          callback={responseFacebook}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Facebook\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Facebook\n                            </MenuItem>\n                          )}\n                        />\n\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                          callback={responseInstagram}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Instagram\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Instagram\n                            </MenuItem>\n                          )}\n                        />\n                      </Menu>\n                    </React.Fragment>\n                  )}\n                </PopupState>\n              </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Stack\n              style={{\n                overflowY: \"auto\",\n                padding: \"20px\",\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\n                borderRadius: \"5px\",\n                height: \"93%\"\n              }}\n            >\n              <Paper >\n                <Table size=\"small\">\n                  <TableHead className={classes.TableHead}>\n                    <TableRow style={{ color: \"#fff\" }}>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Cliente\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Conexes conectadas\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Conexes desconectadas\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Total de Conexes\")}\n                      </TableCell>\n                      {user.profile === \"admin\" && (\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                          {i18n.t(\"connections.table.actions\")}\n                        </TableCell>\n                      )}\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {loadingWhatsapp ? (\n                      <TableRowSkeleton />\n                    ) : (\n                      <>\n                        {console.log(companies, whats)}\n                        {companies?.length > 0 && companies.map(company => (\n                          <TableRow key={company.id}>\n                            <TableCell align=\"center\">\n                              {company?.name}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status === 'CONNECTED').length}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status !== 'CONNECTED').length}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id).length}\n                            </TableCell>\n                            {user.profile === \"admin\" && (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleOpenWhatsAppModal(whats.filter((item) => item?.companyId === company?.id), company)}\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </TableCell>\n                            )}\n                          </TableRow>\n                        )\n                        )}\n                        <TableRow className={classes.TableHead}>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">{i18n.t(\"Total\")}</TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length &&\n                              whats.filter((item) => item?.status === 'CONNECTED').length}\n                          </TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length &&\n                              whats.filter((item) => item?.status !== 'CONNECTED').length}\n                          </TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length && whats.length}\n                          </TableCell>\n                          {user.profile === \"admin\" && <TableCell style={{ color: \"#fff\" }} align=\"center\"></TableCell>}\n                        </TableRow>\n                      </>\n                    )}\n                  </TableBody>\n                </Table>\n              </Paper>\n            </Stack>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default AllConnections;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n})); \n\nconst QueueSelectCustom = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tif (id === \"0\") {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueSelect.withoutQueue\")}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem value=\"0\">\n\t\t\t\t\t\t{i18n.t(\"queueSelect.withoutQueue\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport * as XLSX from 'xlsx';\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nimport { CircularProgress, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, TextField, Tooltip, Typography } from \"@material-ui/core\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport { TagsFilter } from \"../../components/TagsFilter\";\nimport { WhatsappsFilter } from \"../../components/WhatsappsFilter\";\nimport { StatusFilter } from \"../../components/StatusFilter\";\nimport useDashboard from \"../../hooks/useDashboard\";\n\nimport QueueSelectCustom from \"../../components/QueueSelectCustom\";\nimport moment from \"moment\";\nimport ShowTicketLogModal from \"../../components/ShowTicketLogModal\";\n\nimport { blue, green } from \"@material-ui/core/colors\";\nimport { Facebook, Forward, History, Instagram, SaveAlt, Visibility, WhatsApp } from \"@material-ui/icons\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { Field } from \"formik\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    background: theme.palette.fancyBackground,\n\n  },\n  formControl: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  mainPaper: {\n    flex: 1,\n    marginTop: 40,\n    borderRadius: 20,\n    border: '0px !important',\n    marginBottom: 40,\n    overflow: 'hidden'\n  },\n  mainPaperTable: {\n    flex: 1,\n    overflow: 'auto',\n    height: '68vh',\n    ...theme.scrollbarStylesSoftBig,\n  },\n  mainPaperFilter: {\n    flex: 1,\n    overflow: 'auto',\n    height: '20vh',\n    ...theme.scrollbarStylesSoftBig,\n  },\n  mainHeaderBlock: {\n    [theme.breakpoints.down('md')]: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n  },\n  filterItem: {\n    width: 200,\n    [theme.breakpoints.down('md')]: {\n      width: '45%'\n    },\n  },\n}));\n\nconst Reports = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { getReport } = useDashboard();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [pageSize, setPageSize] = useState(10); // Defina o tamanho da pgina\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\n  const [selectedStatus, setSelectedStatus] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n\n  // const [tagIds, setTagIds] = useState([]);\n  const [queueIds, setQueueIds] = useState([]);\n  const [userIds, setUserIds] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [onlyRated, setOnlyRated] = useState(false);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tickets, setTickets] = useState([]);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const [ticketOpen, setTicketOpen] = useState(null);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  // const handleSelectedTags = (selecteds) => {\n  //   const tags = selecteds.map((t) => t.id);\n  //   setTagIds(tags);\n  // };\n\n  const exportarGridParaExcel = async () => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: 1, // Passa o nmero da pgina para a API\n        pageSize: 9999999, // Passa o tamanho da pgina para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n\n\n      const ticketsData = data.tickets.map(ticket => {\n        // Convertendo o campo createdAt para um objeto Date\n        const createdAt = new Date(ticket.createdAt);\n        const closedAt = new Date(ticket.closedAt);\n\n        const dataFechamento = closedAt.toLocaleDateString();\n        const horaFechamento = closedAt.toLocaleTimeString();\n        // Obtendo a data e a hora separadamente\n        const dataCriacao = createdAt.toLocaleDateString(); // Obtm a data no formato 'dd/mm/aaaa'\n        const horaCriacao = createdAt.toLocaleTimeString(); // Obtm a hora no formato 'hh:mm:ss'\n\n        return {\n          id: ticket.id,\n          Conexo: ticket.whatsappName,\n          Contato: ticket.contactName,\n          Usurio: ticket.userName,\n          Fila: ticket.queueName,\n          Status: ticket.status,\n          ltimaMensagem: ticket.lastMessage,\n          DataAbertura: dataCriacao,\n          HoraAbertura: horaCriacao,\n          DataFechamento: ticket.closedAt === null ? \"\" : dataFechamento,\n          HoraFechamento: ticket.closedAt === null ? \"\" : horaFechamento,\n          TempoDeAtendimento: ticket.supportTime,\n          nps: ticket.NPS,\n        }\n      });\n\n      console.log(ticketsData)\n      const ws = XLSX.utils.json_to_sheet(ticketsData);\n      const wb = XLSX.utils.book_new();\n\n      XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendimentos');\n      XLSX.writeFile(wb, 'relatorio-de-atendimentos.xlsx');\n\n\n      setPageNumber(pageNumber); // Atualiza o estado da pgina atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false aps o carregamento\n    }\n\n  };\n\n\n  const handleFilter = async (pageNumber) => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n    console.log(onlyRated)\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: pageNumber, // Passa o nmero da pgina para a API\n        pageSize: pageSize, // Passa o tamanho da pgina para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n\n      setTotalTickets(data.totalTickets.total);\n\n      // Verifica se h mais resultados para definir hasMore\n      setHasMore(data.tickets.length === pageSize);\n\n      setTickets(data.tickets); // Se for a primeira pgina, substitua os tickets\n\n      setPageNumber(pageNumber); // Atualiza o estado da pgina atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false aps o carregamento\n    }\n  }\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setUserIds(users);\n  };\n\n  const handleSelectedWhatsapps = (selecteds) => {\n    const whatsapp = selecteds.map((t) => t.id);\n    setSelectedWhatsapp(whatsapp);\n  };\n\n  const handleSelectedStatus = (selecteds) => {\n    const statusFilter = selecteds.map((t) => t.status);\n\n    setSelectedStatus(statusFilter);\n  };\n  const IconChannel = (channel) => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n      case \"instagram\":\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n      case \"whatsapp\":\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n      default:\n        return \"error\";\n    }\n  };\n\n  const renderOption = (option) => {\n    if (option.number) {\n      return <>\n        {IconChannel(option.channel)}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    setSelectedContactId(newValue.id);\n    setSearchParam(\"\");\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n  const filter = createFilterOptions({\n    trim: true,\n  });\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n  const renderContactAutocomplete = () => {\n    return (\n      <Grid xs={12} item>\n        <Autocomplete\n          fullWidth\n          options={options}\n          loading={loading}\n          clearOnBlur\n          autoHighlight\n          freeSolo\n          size=\"small\"\n          clearOnEscape\n          getOptionLabel={renderOptionLabel}\n          renderOption={renderOption}\n          filterOptions={createAddContactOption}\n          onChange={(e, newValue) => handleSelectOption(e, newValue)}\n          renderInput={params => (\n            <TextField\n              {...params}\n              label={i18n.t(\"newTicketModal.fieldLabel\")}\n              variant=\"outlined\"\n              autoFocus\n              size=\"small\"\n              onChange={e => setSearchParam(e.target.value)}\n              // onKeyPress={(e, newValue) => handleSelectOption(e, newValue)}\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <React.Fragment>\n                    {loading ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : null}\n                    {params.InputProps.endAdornment}\n                  </React.Fragment>\n                ),\n              }}\n            />\n          )}\n        />\n      </Grid>\n    )\n  }\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      {openTicketMessageDialog && (\n        <ShowTicketLogModal\n          isOpen={openTicketMessageDialog}\n          handleClose={() => setOpenTicketMessageDialog(false)}\n          ticketId={ticketOpen.id}\n        />\n      )}\n      <Title>{i18n.t(\"reports.title\")}</Title>\n\n      <MainHeader className={classes.mainHeaderFilter} style={{ display: 'flex' }}>\n        <Paper className={classes.mainPaperFilter}>\n          <div style={{ paddingTop: '15px' }} />\n          <Grid container spacing={1}>\n            <Grid item xs={12} md={3} xl={3}>\n              {renderContactAutocomplete()}\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <StatusFilter onFiltered={handleSelectedStatus} />\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <UsersFilter onFiltered={handleSelectedUsers} />\n            </Grid>\n            {/* <Grid item xs={12} md={4} xl={4}>\n              <TagsFilter onFiltered={handleSelectedTags} />\n            </Grid> */}\n            <Grid item xs={12} md={3} xl={3} style={{ marginTop: '-13px' }}>\n              <QueueSelectCustom\n                selectedQueueIds={queueIds}\n                onChange={values => setQueueIds(values)}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={3} md={3}>\n              <TextField\n                label=\"Data Inicial\"\n                type=\"date\"\n                value={dateFrom}\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => setDateFrom(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} md={3}>\n              <TextField\n                label=\"Data Final\"\n                type=\"date\"\n                value={dateTo}\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => setDateTo(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} md={3} style={{ display: 'flex', justifyContent: 'center' }}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    color=\"primary\"\n                    checked={onlyRated}\n                    onChange={() => setOnlyRated(!onlyRated)}\n                  />\n                }\n\n                label={i18n.t(\"reports.buttons.onlyRated\")}\n              />\n              <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\n\n                <SaveAlt />\n              </IconButton>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleFilter(pageNumber)}\n                size=\"small\"\n              >{i18n.t(\"reports.buttons.filter\")}</Button>\n            </Grid>\n          </Grid>\n\n        </Paper>\n\n      </MainHeader>\n      <Paper\n        className={classes.mainPaperTable}\n        variant=\"outlined\"\n      >\n        <Table size=\"small\" id=\"grid-attendants\">\n          <TableHead>\n            <TableRow>\n              {/* <TableCell padding=\"checkbox\" /> */}\n              <TableCell align=\"center\">{i18n.t(\"reports.table.id\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.whatsapp\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.contact\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.user\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.queue\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.status\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.lastMessage\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateOpen\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateClose\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.supportTime\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.NPS\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tickets.map((ticket) => (\n                <TableRow key={ticket.id}>\n                  <TableCell align=\"center\">{ticket.id}</TableCell>\n                  <TableCell align=\"left\">{ticket?.whatsappName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.contactName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.userName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.queueName}</TableCell>\n                  <TableCell align=\"center\">{ticket?.status}</TableCell>\n                  <TableCell align=\"left\">{ticket?.lastMessage}</TableCell>\n                  <TableCell align=\"center\">{ticket?.createdAt}</TableCell>\n                  <TableCell align=\"center\">{ticket?.closedAt}</TableCell>\n                  <TableCell align=\"center\">{ticket?.supportTime}</TableCell>\n                  <TableCell align=\"center\">{ticket?.NPS}</TableCell>\n                  <TableCell align=\"center\">\n                    <Typography\n                      noWrap\n                      component=\"span\"\n                      variant=\"body2\"\n                      color=\"textPrimary\"\n                    >\n                      <Tooltip title=\"Logs do Ticket\">\n                        <History\n                          onClick={() => {\n                            setOpenTicketMessageDialog(true)\n                            setTicketOpen(ticket)\n                          }}\n                          fontSize=\"small\"\n                          style={{\n                            color: blue[700],\n                            cursor: \"pointer\",\n                            marginLeft: 10,\n                            verticalAlign: \"middle\"\n                          }}\n                        />\n                      </Tooltip>\n                      <Tooltip title=\"Acessar Ticket\">\n                        <Forward\n                          onClick={() => { history.push(`/tickets/${ticket.uuid}`) }}\n                          fontSize=\"small\"\n                          style={{\n                            color: green[700],\n                            cursor: \"pointer\",\n                            marginLeft: 10,\n                            verticalAlign: \"middle\"\n                          }}\n                        />\n                      </Tooltip>\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n\n      </Paper>\n\n      <div>\n        <Grid container>\n          <Grid item xs={12} sm={10} md={10}>\n\n            <Pagination\n              count={Math.ceil(totalTickets / pageSize)} // Calcula o nmero total de pginas com base no nmero total de tickets e no tamanho da pgina\n              page={pageNumber} // Define a pgina atual\n              onChange={(event, value) => handleFilter(value)} // Funo de callback para mudanas de pgina\n            />\n          </Grid>\n          <Grid item xs={12} sm={2} md={2}>\n\n            <FormControl\n              margin=\"dense\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              <InputLabel>\n                {i18n.t(\"tickets.search.ticketsPerPage\")}\n              </InputLabel>\n              <Select\n                labelId=\"dialog-select-prompt-label\"\n                id=\"dialog-select-prompt\"\n                name=\"pageSize\"\n                value={pageSize}\n                onChange={(e) => {\n                  setPageSize(e.target.value)\n                }}\n                label={i18n.t(\"tickets.search.ticketsPerPage\")}\n                fullWidth\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"center\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"center\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n              >\n                <MenuItem value={5} >{\"5\"}</MenuItem>\n                <MenuItem value={10} >{\"10\"}</MenuItem>\n                <MenuItem value={20} >{\"20\"}</MenuItem>\n                <MenuItem value={50} >{\"50\"}</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </div>\n    </MainContainer >\n  );\n};\n\nexport default Reports;\n","import { create } from \"zustand\";\n\nexport const useNodeStorage = create(set => ({\n  node: \"\",\n  connect: \"\",\n  action: \"idle\",\n  setNodesStorage: node => set(state => ({ ...state, node: node })),\n  setConnectsStorage: connects =>\n    set(state => ({ ...state, connect: connects })),\n  setAct: act => set(state => ({ ...state, action: act }))\n}));\n","import {\n  ArrowForwardIos,\n  ContentCopy,\n  Delete,\n  Message\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n\n  return (\n    <div\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"3.5px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <Message\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\"\n          }}\n        />\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Mensagem</div>\n      </div>\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\n        {data.label}\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"70%\",\n          right: \"-11px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite um nome!\"),\n  text: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite uma mensagem!\")\n});\n\nconst FlowBuilderAddTextModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar mensagem ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const [textDig, setTextDig] = useState();\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar mensagem ao fluxo\",\n        btn: \"Salvar\"\n      });\n      setTextDig(data.data.label);\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar mensagem ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig(\"\");\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null)\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { label: textDig }\n      });\n      return;\n    } else if (open === \"create\") {\n      handleClose();\n      onSave({\n        text: textDig\n      });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <DialogContent dividers>\n            <TextField\n              label={\"Mensagem\"}\n              multiline\n              rows={7}\n              name=\"text\"\n              variant=\"outlined\"\n              value={textDig}\n              margin=\"dense\"\n              onChange={e => setTextDig(e.target.value)}\n              className={classes.textField}\n              style={{ width: \"95%\" }}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.btnWrapper}\n              onClick={() => handleSaveContact()}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderAddTextModal;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderIntervalModal = ({\n  open,\n  onSave,\n  data,\n  onUpdate,\n  close\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [timerSec, setTimerSec] = useState(0)\n  const [activeModal, setActiveModal] = useState(false)\n\n  useEffect(() => {\n    if(open === 'edit'){\n      setTimerSec(data.data.sec)\n      setActiveModal(true)\n    } else if(open === 'create'){\n      setTimerSec(0)\n      setActiveModal(true)\n    }\n    return () => {\n      isMounted.current = false;\n    };\n  }, [open]);\n  \n\n  const handleClose = () => {\n    close(null)\n    setActiveModal(false)\n  };\n\n  const handleSaveContact = async values => {\n    if(!timerSec || parseInt(timerSec)  <= 0){\n      return toast.error('Adicione o valor de intervalo')\n    }\n    if(parseInt(timerSec) > 120){\n      return toast.error('Mximo de tempo atingido 120 segundos')\n    }\n    if(open === 'edit'){\n      onUpdate({\n        ...data,\n        data: { sec: timerSec }\n      });\n    } else if(open === 'create'){\n      onSave({\n        sec: timerSec\n      })\n    }\n    handleClose()\n    \n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {open === 'create' ? `Adicionar um intervalo ao fluxo`: `Editar intervalo`}\n        </DialogTitle>        \n            <Stack>\n              <DialogContent dividers>\n                <TextField\n                  label={'Tempo em segundos'}\n                  name=\"timer\"\n                  type=\"number\"\n                  value={timerSec}\n                  onChange={(e) => setTimerSec(e.target.value)}\n                  autoFocus\n                  variant=\"outlined\"\n                  InputProps={{ inputProps: { min: 0 } }}\n                  margin=\"dense\"\n                  className={classes.textField}\n                  style={{ width: \"95%\" }}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                  onClick={() => handleSaveContact()}\n                >\n                  {open === 'create' ? `Adicionar` : 'Editar'}                  \n                </Button>\n              </DialogActions>\n            </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderIntervalModal;\n","import { ArrowForwardIos, Message, RocketLaunch } from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\n\nexport default memo(({ data, isConnectable }) => {\n  return (\n    <div\n      style={{\n        backgroundColor: \"#F9FDF9\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\n        border: '1px solid rgba(58, 186, 56, 0.25)'\n      }}\n    >\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <RocketLaunch\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#3aba38\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\n          Inicio do fluxo\n        </div>\n      </div>\n      <div style={{ color: \"#727272\", fontSize: \"12px\" }}>\n        Este bloco marca o inicio do seu fluxo!\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"70%\",\n          right: \"-11px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: 'none'\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import { ImportExport, Message } from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\n\nexport default memo(({ data, isConnectable }) => {\n  const typeCondition = (value) => {\n    if(value === 1){\n      return '=='\n    }\n    if(value === 2){\n      return '>='\n    }\n    if(value === 3){\n      return '<='\n    }\n    if(value === 4){\n      return '<'\n    }\n    if(value === 5){\n      return '>'\n    }\n  }\n  return (\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}}>\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{ background: \"#0000FF\" }}\n        onConnect={(params) => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      />\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\n        <ImportExport sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\n        <div style={{color: '#ededed', fontSize: '16px'}}>\n        Condio\n        </div>\n      </div>\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.key}</div>\n      <div style={{color: '#ededed', fontSize: '12px'}}>{typeCondition(data.condition)}</div>\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.value}</div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{ top: 10, background: \"#0000FF\" }}\n        isConnectable={isConnectable}\n      />\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"b\"\n        style={{ bottom: 10, top: \"auto\", background: \"#0000FF\" }}\n        isConnectable={isConnectable}\n      />\n    </div>\n  );\n});\n","import {\n  ArrowForwardIos,\n  ContentCopy,\n  Delete,\n  DynamicFeed,\n  ImportExport,\n  Message\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#FAFBFF\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        maxWidth: \"155px\",\n        boxShadow: \"0px 3px 5px rgba(0,0,0,.05)\",\n        border: \"1px solid rgba(104, 58, 200, 0.25)\",\n        width: 180\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"3.5px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <DynamicFeed\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#683AC8\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Menu</div>\n      </div>\n      <div>\n        <div\n          style={{\n            color: \"#232323\",\n            fontSize: \"12px\",\n            height: \"50px\",\n            overflow: \"hidden\",\n            marginBottom: \"8px\"\n          }}\n        >\n          {data.message}\n        </div>\n      </div>\n      {data.arrayOption.map(option => (\n        <div\n          style={{\n            marginBottom: \"9px\",\n            justifyContent: \"end\",\n            display: \"flex\"\n          }}\n        >\n          <div\n            style={{\n              whiteSpace: \"nowrap\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              fontSize: \"10px\",\n              position: \"relative\",\n              display: \"flex\",\n              color: \"#232323\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n              alignSelf: \"end\"\n            }}\n          >\n            {`[${option.number}] ${option.value}`}\n          </div>\n          <Handle\n            type=\"source\"\n            position=\"right\"\n            id={\"a\" + option.number}\n            style={{\n              top: 74 + 23 * option.number,\n              background: \"#0000FF\",\n              width: \"18px\",\n              height: \"18px\",\n              right: \"-11px\",\n              cursor: 'pointer'\n            }}\n            isConnectable={isConnectable}\n          >\n            <ArrowForwardIos\n              sx={{\n                color: \"#ffff\",\n                width: \"10px\",\n                height: \"10px\",\n                marginLeft: \"2.9px\",\n                marginBottom: \"1px\",\n                pointerEvents: \"none\"\n              }}\n            />\n          </Handle>\n        </div>\n      ))}\n    </div>\n  );\n});\n","import {\n  AccessTime,\n  ArrowForwardIos,\n  ContentCopy,\n  Delete,\n  Message\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#FFFBFA\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        minWidth: \"155px\",\n        border: '1px solid rgba(240, 135, 90, 0.25)',\n        boxShadow: 'rgba(0, 0, 0, 0.05) 0px 3px 5px'\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"3.5px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <AccessTime\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#F7953B\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Intervalo</div>\n      </div>\n      <div style={{ color: \"#232323\", fontSize: \"12px\" }}>\n        {data.sec} segundos\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"70%\",\n          right: \"-11px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import { ContentCopy, Delete, Image, Message } from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n\n  const link = process.env.REACT_APP_BACKEND_URL === 'http://localhost:8090' ? 'http://localhost:8090' : process.env.REACT_APP_BACKEND_URL\n\n  const storageItems = useNodeStorage();\n\n  return (\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}} >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{ background: \"#0000FF\" }}\n        onConnect={(params) => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n      </div>\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\n      </div> */}\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\n        <Image sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\n        <div style={{color: '#ededed', fontSize: '16px'}}>\n        Imagem\n        </div>\n      </div>\n      <div style={{color: '#ededed', fontSize: '12px', width: 180}}>\n        <img src={`${link}/public/${data.url}`} style={{width: '180px'}} />\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{ background: \"#0000FF\" }}\n        isConnectable={isConnectable}\n      />\n    </div>\n  );\n});\n","import {\n  ArrowForwardIos,\n  CallSplit,\n  ContentCopy,\n  Delete,\n  Message\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#F8FCFD\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        width: \"185px\",\n        border: \"1px solid rgba(31, 186, 220, 0.25)\"\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"3.5px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <CallSplit\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#1FBADC\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Randomizador</div>\n      </div>\n      <div\n        style={{\n          whiteSpace: \"nowrap\",\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          fontSize: \"16px\",\n          justifyContent: \"end\",\n          position: \"relative\",\n          display: \"flex\",\n          color: \"#232323\"\n        }}\n      >\n        {`${data.percent}%`}\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          right: \"-11px\",\n          marginTop: \"-5px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          whiteSpace: \"nowrap\",\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          fontSize: \"16px\",\n          justifyContent: \"end\",\n          position: \"relative\",\n          display: \"flex\",\n          marginTop: \"8px\",\n          color: \"#232323\"\n        }}\n      >\n        {`${100 - data.percent}%`}\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"b\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          right: \"-11px\",\n          top: 73,\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import {\n  ContentCopy,\n  Delete,\n  Image,\n  Message,\n  Videocam\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const link =\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\n      ? \"http://localhost:8090\"\n      : process.env.REACT_APP_BACKEND_URL;\n\n  const storageItems = useNodeStorage();\n\n  return (\n    <div\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{ background: \"#0000FF\" }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n      </div>\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\n      </div> */}\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <Videocam\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\"\n          }}\n        />\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Video</div>\n      </div>\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\n        <video controls=\"controls\" width=\"180px\">\n          <source src={`${link}/public/${data.url}`} type=\"video/mp4\" />\n          seu navegador no suporta HTML5\n        </video>\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{ background: \"#0000FF\" }}\n        isConnectable={isConnectable}\n      />\n    </div>\n  );\n});\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack\n} from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst selectFieldStyles = {\n  \".MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#909090\"\n  },\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#000000\",\n    borderWidth: \"thin\"\n  },\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#0000FF\",\n    borderWidth: \"thin\"\n  }\n};\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite um nome!\"),\n  text: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite uma mensagem!\")\n});\n\nconst FlowBuilderConditionModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [rule, setRule] = useState();\n\n  const [textDig, setTextDig] = useState();\n\n  const [valueCondition, setValueCondition] = useState();\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar condio ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar condio\",\n        btn: \"Salvar\"\n      });\n      setTextDig(data.data.key);\n      setRule(data.data.condition);\n      setValueCondition(data.data.value);\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar condio ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig();\n      setRule();\n      setValueCondition();\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { key: textDig, condition: rule, value: valueCondition }\n      });\n      return;\n    } else if (open === \"create\") {\n      handleClose();\n      onSave({\n        key: textDig,\n        condition: rule,\n        value: valueCondition\n      });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <Stack\n            dividers\n            style={{ height: \"250px\", gap: \"8px\", padding: \"16px\" }}\n          >\n            <TextField\n              label={\"Campo da condio (Digiter apenas 1 chave)\"}\n              rows={7}\n              name=\"text\"\n              variant=\"outlined\"\n              value={textDig}\n              onChange={e => setTextDig(e.target.value)}\n              className={classes.textField}\n              style={{ width: \"95%\" }}\n            />\n            <FormControl sx={{ width: \"95%\" }} size=\"medium\">\n              <InputLabel sx={selectFieldStyles} id=\"demo-simple-select-label\">\n                Regra de validao\n              </InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={rule}\n                label=\"Regra de validao\"\n                onChange={e => setRule(e.target.value)}\n                variant=\"outlined\"\n                color=\"primary\"\n                sx={selectFieldStyles}\n              >\n                <MenuItem value={1}> {\"==\"} </MenuItem>\n                <MenuItem value={2}> {\">=\"} </MenuItem>\n                <MenuItem value={3}> {\"<=\"} </MenuItem>\n                <MenuItem value={4}> {\" < \"} </MenuItem>\n                <MenuItem value={5}> {\" > \"} </MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              label={\"Valor da condio a ser analisada\"}\n              rows={7}\n              name=\"text\"\n              variant=\"outlined\"\n              value={valueCondition}\n              onChange={e => setValueCondition(e.target.value)}\n              className={classes.textField}\n              style={{ width: \"95%\", marginTop: \"11px\" }}\n            />\n          </Stack>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.btnWrapper}\n              onClick={() => handleSaveContact()}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderConditionModal;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack\n} from \"@mui/material\";\nimport { AddCircle, Delete } from \"@mui/icons-material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst selectFieldStyles = {\n  \".MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#909090\"\n  },\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#000000\",\n    borderWidth: \"thin\"\n  },\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n    borderColor: \"#0000FF\",\n    borderWidth: \"thin\"\n  }\n};\n\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite um nome!\"),\n  text: Yup.string()\n    .min(2, \"Muito curto!\")\n    .max(50, \"Muito longo!\")\n    .required(\"Digite uma mensagem!\")\n});\n\nconst FlowBuilderMenuModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [rule, setRule] = useState();\n\n  const [textDig, setTextDig] = useState();\n\n  const [arrayOption, setArrayOption] = useState([]);\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar menu ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar menu\",\n        btn: \"Salvar\"\n      });\n      setTextDig(data.data.message);\n      setArrayOption(data.data.arrayOption);\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar menu ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig();\n      setArrayOption([]);\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { message: textDig, arrayOption: arrayOption }\n      });\n      return;\n    } else if (open === \"create\") {\n      handleClose();\n      onSave({\n        message: textDig,\n        arrayOption: arrayOption\n      });\n    }\n  };\n\n  const removeOption = number => {\n    setArrayOption(old => old.filter(item => item.number !== number));\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <Stack dividers style={{ gap: \"8px\", padding: \"16px\" }}>\n            <TextField\n              label={\"Mensagem de explicao do menu\"}\n              rows={4}\n              name=\"text\"\n              multiline\n              variant=\"outlined\"\n              value={textDig}\n              onChange={e => setTextDig(e.target.value)}\n              className={classes.textField}\n              style={{ width: \"100%\" }}\n            />\n            <Stack direction={\"row\"} justifyContent={\"space-between\"}>\n              <Typography>Adicionar Opo</Typography>\n              <Button\n                onClick={() =>\n                  setArrayOption(old => [\n                    ...old,\n                    { number: old.length + 1, value: \"\" }\n                  ])\n                }\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                <AddCircle />\n              </Button>\n            </Stack>\n            {arrayOption.map((item, index) => (\n              <Stack width={\"100%\"} key={item.number}>\n                <Typography>Digite {item.number}</Typography>\n                <Stack direction={\"row\"} width={\"100%\"} style={{ gap: \"8px\" }}>\n                  <TextField\n                    placeholder={\"Digite opo\"}\n                    variant=\"outlined\"\n                    defaultValue={item.value}\n                    style={{ width: \"100%\" }}\n                    onChange={event =>\n                      setArrayOption(old => {\n                        let newArr = old;\n                        newArr[index].value = event.target.value;\n                        return newArr;\n                      })\n                    }\n                  />\n                  {arrayOption.length === item.number && (\n                    <IconButton onClick={() => removeOption(item.number)}>\n                      <Delete />\n                    </IconButton>\n                  )}\n                </Stack>\n              </Stack>\n            ))}\n          </Stack>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.btnWrapper}\n              onClick={() => handleSaveContact()}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderMenuModal;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\n\nconst FlowBuilderAddImgModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [loading, setLoading] = useState(false);\n\n  const [preview, setPreview] = useState();\n\n  const [oldImage, setOldImage] = useState();\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar imagem ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const [medias, setMedias] = useState([]);\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar imagem\",\n        btn: \"Salvar\"\n      });\n      setOldImage(data.data.url)\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar imagem ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { url: \"\" }\n      });\n      return;\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"fromMe\", true);\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        console.log(formData);\n        await api.post(\"/flowbuilder/img\", formData).then(res => {\n          handleClose();\n          onSave({\n            url: res.data.name\n          });\n          toast.success(\"Imagem adicionada com sucesso!\");\n          setLoading(false);\n          setMedias([]);\n          setPreview();\n        });\n      }, 1000);\n    }\n  };\n\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if(e.target.files[0].size > 2000000){\n      toast.error(\"Arquivo  muito grande! 2MB mximo\")\n      return\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setMedias(selectedMedias);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <DialogContent dividers>\n            <Stack gap={\"16px\"}>\n              {preview && <img src={preview} style={{ width: \"552px\" }} />}\n              {!loading && open !== \"edit\" && (\n                <Button variant=\"contained\" component=\"label\">\n                  Enviar imagem\n                  <input\n                    type=\"file\"\n                    accept=\"image/png, image/jpg, image/jpeg\"\n                    disabled={loading}\n                    hidden\n                    onChange={handleChangeMedias}\n                  />\n                </Button>\n              )}\n              {loading && (\n                <>\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\n                    <CircularProgress />\n                  </Stack>\n                </>\n              )}\n            </Stack>\n          </DialogContent>\n          <DialogActions>\n            {!loading && (\n              <>\n                <Button\n                  onClick={() => {\n                    handleClose();\n                    setMedias([]);\n                    setPreview();\n                  }}\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                {open !== \"edit\" && (<Button\n                  type=\"submit\"\n                  disabled={loading}\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                  onClick={() => handleSaveContact()}\n                >\n                  {`${labels.btn}`}\n                </Button>)}\n              </>\n            )}\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderAddImgModal;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\"\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n\n    btnWrapper: {\n        position: \"relative\"\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12\n    }\n}));\n\nconst FlowBuilderTicketModal = ({\n    open,\n    onSave,\n    data,\n    onUpdate,\n    close\n}) => {\n    const classes = useStyles();\n    const isMounted = useRef(true);\n    const [activeModal, setActiveModal] = useState(false)\n    const [queues, setQueues] = useState([])\n    const [selectedQueue, setQueueSelected] = useState()\n\n    useEffect(() => {\n        if (open === 'edit') {\n            (async () => {\n                try {\n                    const { data: old } = await api.get(\"/queue\");\n                    setQueues(old)\n                    const queue = old.find((item) => item.id === data.data.id)\n                    console.log('queue', queue)\n                    if (queue) {\n                        setQueueSelected(queue.id)\n                    }\n                    setActiveModal(true)\n                } catch (error) {\n                    console.log(error)\n                }\n            })();\n\n        } else if (open === 'create') {\n            (async () => {\n                try {\n                    const { data } = await api.get(\"/queue\");\n                    setQueues(data)\n                    setActiveModal(true)\n                } catch (error) {\n                    console.log(error)\n                }\n            })()\n        }\n        return () => {\n            isMounted.current = false;\n        };\n    }, [open]);\n\n\n    const handleClose = () => {\n        close(null)\n        setActiveModal(false)\n    };\n\n    const handleSaveContact = () => {\n        if (!selectedQueue) {\n            return toast.error('Adicione uma fila')\n        }\n        if (open === 'edit') {\n            const queue = queues.find(item => item.id === selectedQueue)\n            onUpdate({\n                ...data,\n                data: queue\n            });\n        } else if (open === 'create') {\n            const queue = queues.find(item => item.id === selectedQueue)\n            onSave({\n                data: queue\n            })\n        }\n        handleClose()\n\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {open === 'create' ? `Adicionar um intervalo ao fluxo` : `Editar intervalo`}\n                </DialogTitle>\n                <Stack>\n                    <DialogContent dividers>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            //   onChange={handleChange}\n                            value={selectedQueue}\n                            style={{ width: \"95%\" }}\n                            onChange={(e) => { setQueueSelected(e.target.value) }}\n                            MenuProps={{\n                                anchorOrigin: {\n                                    vertical: \"bottom\",\n                                    horizontal: \"left\",\n                                },\n                                transformOrigin: {\n                                    vertical: \"top\",\n                                    horizontal: \"left\",\n                                },\n                                getContentAnchorEl: null,\n                            }}\n                            renderValue={() => {\n                                if (selectedQueue === \"\") {\n                                    return \"Selecione uma Conexo\"\n                                }\n                                const queue = queues.find(w => w.id === selectedQueue)\n                                return queue.name\n                            }}\n                        >\n\n                            {queues.length > 0 && (\n                                queues.map((queue, index) => (\n                                    <MenuItem dense key={index} value={queue.id}>{queue.name}</MenuItem>\n                                ))\n                            )}\n                        </Select>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            onClick={handleClose}\n                            color=\"secondary\"\n                            variant=\"outlined\"\n                        >\n                            {i18n.t(\"contactModal.buttons.cancel\")}\n                        </Button>\n                        <Button\n                            type=\"submit\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            className={classes.btnWrapper}\n                            onClick={handleSaveContact}\n                        >\n                            {open === 'create' ? `Adicionar` : 'Editar'}\n                        </Button>\n                    </DialogActions>\n                </Stack>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FlowBuilderTicketModal;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Checkbox, Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderAddAudioModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [loading, setLoading] = useState(false);\n\n  const [record, setRecord] = useState(false);\n\n  const [preview, setPreview] = useState();\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar audio ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const [textDig, setTextDig] = useState();\n\n  const [medias, setMedias] = useState([]);\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar audio\",\n        btn: \"Salvar\"\n      });\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\n      setRecord(data.data.record)\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar audio ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig(\"\");\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { url: data.data.url,\n        record: record }\n      });\n      return;\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"fromMe\", true);\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        console.log(formData);\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\n          handleClose();\n          onSave({\n            url: res.data.name,\n            record: record\n          });\n          toast.success(\"Audio adicionada com sucesso!\");\n          setLoading(false);\n          setMedias([]);\n          setPreview();\n        });\n      }, 1000);\n    }\n  };\n\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if(e.target.files[0].size > 5000000){\n      toast.error(\"Arquivo  muito grande! 5MB mximo\")\n      return\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setPreview((URL.createObjectURL(e.target.files[0])));\n    setMedias(selectedMedias);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <DialogContent dividers>\n            <Stack gap={\"16px\"}>\n              {preview && (\n                <Stack direction={'row'} justifyContent={'center'}>\n                <audio controls=\"controls\">\n                  <source src={preview} type=\"audio/mp3\" />\n                  seu navegador no suporta HTML5\n                </audio>\n                </Stack>\n              )}\n              {preview && (\n                <Stack direction={'row'} justifyContent={'center'}>\n                <Checkbox checked={record} onChange={(e) => setRecord(old => !old)}/>\n                <Stack justifyContent={'center'}>\n                <Typography>Enviar como audio gravado na hora</Typography>\n                </Stack>\n                </Stack>\n              )}\n              {!loading && open !== \"edit\" && (\n                <Button variant=\"contained\" component=\"label\">\n                  Enviar audio\n                  <input\n                    type=\"file\"\n                    accept=\"audio/ogg, audio/mp3\"\n                    disabled={loading}\n                    hidden\n                    onChange={handleChangeMedias}\n                  />\n                </Button>\n              )}\n              {loading && (\n                <>\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\n                    <CircularProgress />\n                  </Stack>\n                </>\n              )}\n            </Stack>\n          </DialogContent>\n          <DialogActions>\n            {!loading && (\n              <>\n                <Button\n                  onClick={() => {\n                    handleClose();\n                    setMedias([]);\n                    setPreview();\n                  }}\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={loading}\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                  onClick={() => handleSaveContact()}\n                >\n                  {`${labels.btn}`}\n                </Button>\n              </>\n            )}\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderAddAudioModal;\n","import { ContentCopy, Delete, Message, MicNone } from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const link =\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\n      ? \"http://localhost:8090\"\n      : process.env.REACT_APP_BACKEND_URL;\n\n  const storageItems = useNodeStorage();\n  return (\n    <div\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{ background: \"#0000FF\" }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <MicNone\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\"\n          }}\n        />\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Audio</div>\n      </div>\n      <div style={{ color: \"#ededed\", fontSize: \"12px\" }}>\n        <div style={{ position: \"absolute\", right: \"50px\", top: \"12px\" }}>\n          {data.record && data.record ? (\n            <div>Gravado na hora</div>\n          ) : (\n            <div>Audio enviado</div>\n          )}\n        </div>\n        <audio controls=\"controls\">\n          <source src={`${link}/public/${data.url}`} type=\"audio/mp3\" />\n          seu navegador no suporta HTML5\n        </audio>\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{ background: \"#0000FF\" }}\n        isConnectable={isConnectable}\n      />\n    </div>\n  );\n});\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Slider, Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderRandomizerModal = ({\n  open,\n  onSave,\n  data,\n  onUpdate,\n  close\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [percent, setPercent] = useState(0);\n  const [activeModal, setActiveModal] = useState(false);\n  \n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setPercent(data.data.percent);\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setPercent(0);\n      setActiveModal(true);\n    }\n    return () => {\n      isMounted.current = false;\n    };\n  }, [open]);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleValue = (event, newValue) => {\n    setPercent(newValue)\n  }\n\n  const handleSaveContact = async values => {\n    if (!percent || parseInt(percent) <= 0) {\n      return toast.error(\"Adicione o valor de intervalo\");\n    }\n    if (parseInt(percent) > 120) {\n      return toast.error(\"Mximo de tempo atingido 120 segundos\");\n    }\n    if (open === \"edit\") {\n      onUpdate({\n        ...data,\n        data: { percent: percent }\n      });\n    } else if (open === \"create\") {\n      onSave({\n        percent: percent\n      });\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {open === \"create\"\n            ? `Adicionar um randomizador ao fluxo`\n            : `Editar randomizador`}\n        </DialogTitle>\n        <Stack>\n          <DialogContent dividers>\n            <Stack direction={'row'} minHeight={120} alignItems={'center'} gap={4}>\n              <Typography>{percent}%</Typography>\n              <Slider\n                aria-label=\"Temperature\"\n                defaultValue={percent}\n                valueLabelDisplay=\"auto\"\n                onChange={handleValue}\n                step={10}\n                marks\n                min={0}\n                max={100}\n              />\n              <Typography>{100 - percent}%</Typography>\n            </Stack>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.btnWrapper}\n              onClick={() => handleSaveContact()}\n            >\n              {open === \"create\" ? `Adicionar` : \"Editar\"}\n            </Button>\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderRandomizerModal;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Checkbox, Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderAddVideoModal = ({ open, onSave, onUpdate, data, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [loading, setLoading] = useState(false);\n\n  const [record, setRecord] = useState(false);\n\n  const [preview, setPreview] = useState();\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar video ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const [medias, setMedias] = useState([]);\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar video\",\n        btn: \"Salvar\"\n      });\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\n      setRecord(data.data.record)\n      setActiveModal(true);\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar video ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setActiveModal(true);\n    } else {\n      setActiveModal(false);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    close(null);\n    setActiveModal(false);\n  };\n\n  const handleSaveContact = async () => {\n    if (open === \"edit\") {\n      handleClose();\n      onUpdate({\n        ...data,\n        data: { url: data.data.url,\n        record: record }\n      });\n      return;\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"fromMe\", true);\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\n          handleClose();\n          onSave({\n            url: res.data.name,\n          });\n          toast.success(\"Audio adicionada com sucesso!\");\n          setLoading(false);\n          setMedias([]);\n          setPreview();\n        });\n      }, 1000);\n    }\n  };\n\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if(e.target.files[0].size > 20000000){\n      toast.error(\"Arquivo  muito grande! 20MB mximo\")\n      return\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setPreview((URL.createObjectURL(e.target.files[0])));\n    setMedias(selectedMedias);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={activeModal}\n        onClose={handleClose}\n        fullWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\n        <Stack>\n          <DialogContent dividers>\n            <Stack gap={\"16px\"}>\n              {preview && (\n                <Stack direction={'row'} justifyContent={'center'}>\n                <video controls=\"controls\" width=\"552px\">\n                  <source src={preview} type=\"video/mp4\" />\n                  seu navegador no suporta HTML5\n                </video>\n                </Stack>\n              )}\n              {!loading && open !== \"edit\" && !preview && (\n                <>\n                <Button variant=\"contained\" component=\"label\">\n                  Enviar video\n                  <input\n                    type=\"file\"\n                    accept=\"video/mp4\"\n                    disabled={loading}\n                    hidden\n                    onChange={handleChangeMedias}\n                  />\n                </Button>\n                <Typography>ATENO! Apenas videos em MP4!</Typography>\n                </>\n              )}\n              {loading && (\n                <>\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\n                    <CircularProgress />\n                  </Stack>\n                </>\n              )}\n            </Stack>\n          </DialogContent>\n          <DialogActions>\n            {!loading && (\n              <>\n                <Button\n                  onClick={() => {\n                    handleClose();\n                    setMedias([]);\n                    setPreview();\n                  }}\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={loading}\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                  onClick={() => handleSaveContact()}\n                >\n                  {`${labels.btn}`}\n                </Button>\n              </>\n            )}\n          </DialogActions>\n        </Stack>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderAddVideoModal;\n","export function capitalize(str) {\n    // Verifique se a string no est vazia\n    if (str.length === 0) {\n      return str;\n    }\n  \n    // Capitalize a primeira letra e concatene com o restante da string\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Checkbox,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack,\n  Typography\n} from \"@mui/material\";\nimport {\n  AccessTime,\n  AddCircle,\n  Delete,\n  Image,\n  KeyboardArrowDown,\n  KeyboardArrowUp,\n  Message,\n  MicNone,\n  Videocam\n} from \"@mui/icons-material\";\nimport { capitalize } from \"../../utils/capitalize\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst FlowBuilderSingleBlockModal = ({\n  open,\n  onSave,\n  onUpdate,\n  data,\n  close\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [rule, setRule] = useState();\n\n  const [medias, setMedias] = useState([]);\n\n  const [textDig, setTextDig] = useState();\n\n  const [elements, setElements] = useState([]);\n\n  const [elementsSeq, setElementsSeq] = useState([]);\n\n  const [elementsSeqEdit, setElementsSeqEdit] = useState([]);\n\n  const [elementsEdit, setElementsEdit] = useState([]);\n\n  const [numberMessages, setNumberMessages] = useState(0);\n\n  const [numberMessagesLast, setNumberMessagesLast] = useState(0);\n\n  const [numberInterval, setNumberInterval] = useState(0);\n\n  const [numberIntervalLast, setNumberIntervalLast] = useState(0);\n\n  const [numberAudio, setNumberAudio] = useState(0);\n\n  const [numberAudioLast, setNumberAudioLast] = useState(0);\n\n  const [numberVideo, setNumberVideo] = useState(0);\n\n  const [numberVideoLast, setNumberVideoLast] = useState(0);\n\n  const [numberImg, setNumberImg] = useState(0);\n\n  const [numberImgLast, setNumberImgLast] = useState(0);\n\n  const [loading, setLoading] = useState(false);\n\n  const [previewImg, setPreviewImg] = useState([]);\n\n  const [previewAudios, setPreviewAudios] = useState([]);\n\n  const [previewVideos, setPreviewVideos] = useState([]);\n\n  const [arrayOption, setArrayOption] = useState([]);\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar contedo ao fluxo\",\n    btn: \"Adicionar\"\n  });\n\n  const handleElements = newNameFiles => {\n    let elementsSequence = [];\n\n    const newArrMessage = elementsSeq.filter(item => item.includes(\"message\"));\n    const newArrInterval = elementsSeq.filter(item =>\n      item.includes(\"interval\")\n    );\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\n\n    //Todas as mensagens\n    for (let i = 0; i < numberMessages; i++) {\n      const value = document\n        .querySelector(`.${newArrMessage[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (!value) {\n        toast.error(\"Campos de mensagem vazio!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"message\",\n        value: value,\n        number: newArrMessage[i]\n      });\n      console.log('text')\n    }\n    //Todos os intervalos\n    for (let i = 0; i < numberInterval; i++) {\n      const value = document\n        .querySelector(`.${newArrInterval[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (parseInt(value) === 0 || parseInt(value) > 120) {\n        toast.error(\"Intervalo no pode ser 0 ou maior que 120!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"interval\",\n        value: value,\n        number: newArrInterval[i]\n      });\n      console.log('int')\n    }\n\n    //Todas as imagens\n    for (let i = 0; i < numberImg; i++) {\n      const onlyImg =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file =>\n            file.includes(\"png\") ||\n            file.includes(\"jpg\") ||\n            file.includes(\"jpeg\")\n        );\n      const onlyImgNameOriginal = medias.filter(\n        file =>\n          file.name.includes(\"png\") ||\n          file.name.includes(\"jpg\") ||\n          file.name.includes(\"jpeg\")\n      );      \n      if (elementsSeqEdit.includes(newArrImg[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrImg[i]\n        )[0];\n        elementsSequence.push({\n          type: \"img\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"img\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"img\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"img\",\n          value: onlyImg[indexElem],\n          original: onlyImgNameOriginal[indexElem].name,\n          number: newArrImg[i]\n        });\n      }\n    }\n    //Todos os audios\n    for (let i = 0; i < numberAudio; i++) {\n      const onlyAudio =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file =>\n            file.includes(\"mp3\") ||\n            file.includes(\"ogg\") ||\n            file.includes(\"mpeg\") ||\n            file.includes(\"opus\")\n        );\n      const onlyAudioNameOriginal = medias.filter(\n        file =>\n          file.name.includes(\"mp3\") ||\n          file.name.includes(\"ogg\") ||\n          file.name.includes(\"mpeg\") ||\n          file.name.includes(\"opus\")\n      );\n      \n      if (elementsSeqEdit.includes(newArrAudio[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrAudio[i]\n        )[0];\n        elementsSequence.push({\n          type: \"audio\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number,\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"audio\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"audio\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"audio\",\n          value: onlyAudio[indexElem],\n          original: onlyAudioNameOriginal[indexElem].name,\n          number: newArrAudio[i],\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\n        });        \n      }\n    }\n    //Todos os videos\n    for (let i = 0; i < numberVideo; i++) {\n      const onlyVideo =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          file => file.includes(\"mp4\") || file.includes(\"avi\")\n        );\n      const onlyVideoNameOriginal = medias.filter(\n        file => file.name.includes(\"mp4\") || file.name.includes(\"avi\")\n      );\n      if (elementsSeqEdit.includes(newArrVideo[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          item => item.number === newArrVideo[i]\n        )[0];\n        elementsSequence.push({\n          type: \"video\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter(item => item.includes(\"video\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter(item => item.includes(\"video\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"video\",\n          value: onlyVideo[indexElem],\n          original: onlyVideoNameOriginal[indexElem].name,\n          number: newArrVideo[i]\n        });\n      }\n    }\n\n    console.log(elementsSequence)\n\n    return elementsSequence;\n  };\n\n  const deleteElementsTypeOne = (id, type) => {\n    if (type === \"message\") {\n      setNumberMessages(old => old - 1);\n      setElementsSeq(old => old.filter(item => item !== `message${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `message${id}`))\n      document.querySelector(`.stackMessage${id}`).remove();\n    }\n    if (type === \"interval\") {\n      setNumberInterval(old => old - 1);\n      setElementsSeq(old => old.filter(item => item !== `interval${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `interval${id}`))\n      document.querySelector(`.stackInterval${id}`).remove();\n    }\n    if (type === \"img\") {\n      setNumberImg(old => old - 1);\n      setPreviewImg(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `img${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `img${id}`))\n      document.querySelector(`.stackImg${id}`).remove();\n    }\n    if (type === \"audio\") {\n      setNumberAudio(old => old - 1);\n      setPreviewAudios(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `audio${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `audio${id}`))\n      document.querySelector(`.stackAudio${id}`).remove();\n    }\n    if (type === \"video\") {\n      setNumberVideo(old => old - 1);\n      setPreviewVideos(old => {\n        setMedias(oldMedia => {\n          try {\n            return oldMedia.filter(\n              mediaItem =>\n                mediaItem.name !==\n                old.filter(item => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter(item => item.number !== id);\n      });\n      setElementsSeq(old => old.filter(item => item !== `video${id}`));\n      setElementsSeqEdit(old => old.filter(item => item !== `video${id}`))\n      document.querySelector(`.stackVideo${id}`).remove();\n    }\n  };\n\n  const moveElementDown = id => {\n    setElementsSeq(old => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaFrente(index);\n      console.log(\"id\", id);\n      if (index !== -1 && index < array.length - 1) {\n        // Verifica se o elemento foi encontrado no array e no est na ltima posio\n        const novoArray = [...array]; // Cria uma cpia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index + 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  const moveElementUp = id => {\n    setElementsSeq(old => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaTras(index);\n\n      if (index !== -1 && index > 0) {\n        // Verifica se o elemento foi encontrado no array e no est na primeira posio\n        const novoArray = [...array]; // Cria uma cpia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index - 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  function moveItemParaFrente(posicao) {\n    setElements(old => {\n      const array = old;\n\n      if (posicao >= 0 && posicao < array.length - 1) {\n        const novoArray = [...array]; // Cria uma cpia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao + 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentao no for possvel\n    });\n  }\n\n  function moveItemParaTras(posicao) {\n    setElements(old => {\n      const array = old;\n      if (posicao > 0 && posicao < array.length) {\n        const novoArray = [...array]; // Cria uma cpia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao - 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentao no for possvel\n    });\n  }\n\n  const handleChangeMediasImg = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 2000000) {\n      toast.error(\"Arquivo  muito grande! 2MB mximo\");\n      return;\n    }\n    const imgBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewImg(old => [\n      ...old,\n      {\n        number: number,\n        url: imgBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    document.querySelector(`.img${number}`).src = imgBlob;\n    document.querySelector(`.btnImg${number}`).remove();\n  };\n\n  const handleChangeAudios = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 5000000) {\n      toast.error(\"Arquivo  muito grande! 5MB mximo\");\n      return;\n    }\n\n    const audioBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewAudios(old => [\n      ...old,\n      {\n        number: number,\n        url: audioBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    document.querySelector(\n      `.audio${number}`\n    ).innerHTML = `<audio controls=\"controls\">\n    <source src=\"${audioBlob}\" type=\"audio/mp3\" />\n    seu navegador no suporta HTML5\n  </audio>`;\n    document.querySelector(`.btnAudio${number}`).remove();\n  };\n\n  const handleChangeVideos = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 20000000) {\n      toast.error(\"Arquivo  muito grande! 20MB mximo\");\n      return;\n    }\n    const videoBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewVideos(old => [\n      ...old,\n      {\n        number: number,\n        url: videoBlob,\n        name: e.target.files[0].name\n      }\n    ]);\n\n    var divConteudo = document.createElement(\"div\");\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(old => [...old, selectedMedias[0]]);\n\n    divConteudo.innerHTML = `<video controls=\"controls\" style=\"width: 200px;\">\n    <source src=\"${videoBlob}\" type=\"video/mp4\" />\n    seu navegador no suporta HTML5\n  </video>`;\n\n    document.querySelector(`.video${number}`).appendChild(divConteudo);\n    document.querySelector(`.btnVideo${number}`).remove();\n  };\n\n  const imgLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #0000FF\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackImg${number}`}\n        key={`stackImg${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"img\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Imagem</Typography>\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          <img\n            src={\n              valueDefault.length > 0\n                ? process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\n                : \"\"\n            }\n            className={`img${number}`}\n            style={{ width: \"200px\" }}\n          />\n        </Stack>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnImg${number}`}\n          >\n            Enviar imagem\n            <input\n              type=\"file\"\n              accept=\"image/png, image/jpg, image/jpeg\"\n              hidden\n              onChange={e => handleChangeMediasImg(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const audioLayout = (number, valueDefault = \"\", valueRecordDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #0000FF\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackAudio${number}`}\n        key={`stackAudio${number}`}\n      >\n        <Stack\n          sx={{ position: \"absolute\", right: 6 }}\n          direction={\"row\"}\n          gap={1}\n        >\n          {/* <KeyboardArrowUp\n            onClick={() => moveElementUp(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          />\n          <KeyboardArrowDown\n            onClick={() => moveElementDown(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          /> */}\n          <Delete\n            sx={{ cursor: \"pointer\" }}\n            onClick={() => deleteElementsTypeOne(number, \"audio\")}\n          />\n        </Stack>\n        <Typography textAlign={\"center\"}>Audio</Typography>\n        <div\n          className={`audio${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\"\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <audio controls=\"controls\">\n              <source\n                src={\n                  process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\n                }\n                type=\"audio/mp3\"\n              />\n              seu navegador no suporta HTML5\n            </audio>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnAudio${number}`}\n          >\n            Enviar audio\n            <input\n              type=\"file\"\n              accept=\"audio/ogg, audio/mp3, audio/opus\"\n              hidden\n              onChange={e => handleChangeAudios(e, number)}\n            />\n          </Button>\n        )}\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          <Checkbox\n            className={`checkaudio${number}`}\n            defaultChecked={valueRecordDefault === \"ok\" ? false : true}\n          />\n          <Stack justifyContent={\"center\"}>\n            <Typography>Enviar como audio gravado na hora</Typography>\n          </Stack>\n        </Stack>\n      </Stack>\n    );\n  };\n\n  const videoLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #0000FF\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackVideo${number}`}\n        key={`stackVideo${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"video\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Video</Typography>\n        <div\n          className={`video${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\"\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <video controls=\"controls\" style={{width: '200px'}}>\n              <source\n                src={process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault}\n                type=\"video/mp4\"\n              />\n              seu navegador no suporta HTML5\n            </video>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnVideo${number}`}\n          >\n            Enviar video\n            <input\n              type=\"file\"\n              accept=\"video/mp4\"\n              hidden\n              onChange={e => handleChangeVideos(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const messageLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #0000FF\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackMessage${number}`}\n        key={`stackMessage${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"message\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Texto</Typography>\n        <TextField\n          label={\"Mensagem\"}\n          defaultValue={valueDefault}\n          multiline\n          rows={7}\n          className={`message${number}`}\n          name=\"text\"\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n  const intervalLayout = (number, valueDefault = 0) => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #0000FF\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\"\n        }}\n        className={`stackInterval${number}`}\n        key={`stackInterval${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"interval\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Intervalo</Typography>\n        <TextField\n          label={\"Tempo em segundos\"}\n          className={`interval${number}`}\n          defaultValue={valueDefault}\n          type=\"number\"\n          InputProps={{ inputProps: { min: 0, max: 120 } }}\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n \n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar contedo\",\n        btn: \"Salvar\"\n      });\n\n      setElementsSeq(data.data.seq);\n\n    setElementsSeqEdit(data.data.seq);\n    setElementsEdit(data.data.elements);\n    if (data) {\n      const elementsEditLoc = data.data.elements;\n      const sequence = data.data.seq;\n\n      sequence.map(item => {\n        const itemNode = elementsEditLoc.filter(inode => inode.number === item)[0];\n        if (itemNode.type === \"message\") {\n          const numberLoc = parseInt(item.replace(\"message\", \"\"));\n          setElements(elm => [\n            ...elm,\n            messageLayout(numberLoc, itemNode.value)\n          ]);\n          setNumberMessages(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"message\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"message\", \"\"))\n            );\n            setNumberMessagesLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"interval\") {\n          const numberLoc = parseInt(item.replace(\"interval\", \"\"));\n          setElements(elm => [\n            ...elm,\n            intervalLayout(numberLoc, itemNode.value)\n          ]);\n          setNumberInterval(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"interval\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"interval\", \"\"))\n            );\n            setNumberIntervalLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"audio\") {\n          const numberLoc = parseInt(item.replace(\"audio\", \"\"));\n          setElements(elm => [\n            ...elm,\n            audioLayout(numberLoc, itemNode.value, itemNode.record ? \"\" : \"ok\")\n          ]);\n          setNumberAudio(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"audio\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"audio\", \"\"))\n            );\n            setNumberAudioLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"img\") {\n          const numberLoc = parseInt(item.replace(\"img\", \"\"));\n          setElements(elm => [...elm, imgLayout(numberLoc, itemNode.value)]);\n          setNumberImg(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"img\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"img\", \"\"))\n            );\n            setNumberImgLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n        if (itemNode.type === \"video\") {\n          const numberLoc = parseInt(item.replace(\"video\", \"\"));\n          setElements(elm => [...elm, videoLayout(numberLoc, itemNode.value)]);\n          setNumberVideo(old => {\n            const arsOnly = sequence.filter(item => item.includes(\"video\"));\n            const arrNumberMax = arsOnly.map(item =>\n              parseInt(item.replace(\"video\", \"\"))\n            );\n            setNumberVideoLast(Math.max.apply(null, arrNumberMax) + 1);\n            return old + 1;\n          });\n        }\n      });\n    }\n    setActiveModal(true);\n    }\n    if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar menu ao fluxo\",\n        btn: \"Adicionar\"\n      });\n      setTextDig();\n      setArrayOption([]);\n      setActiveModal(true);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = async () => {\n    close(null);\n    setActiveModal(false);\n    setTimeout(() => {\n      setMedias([]);\n      setPreviewImg([]);\n      setPreviewAudios([]);\n      setPreviewVideos([]);\n      setArrayOption([]);\n      setElements([]);\n      setElementsSeq([]);\n      setElementsEdit([]);\n      setElementsSeqEdit([]);\n      setNumberMessages(0);\n      setNumberMessagesLast(0);\n      setNumberInterval(0);\n      setNumberIntervalLast(0);\n      setNumberAudio(0);\n      setNumberAudioLast(0);\n      setNumberVideo(0);\n      setNumberVideoLast(0);\n      setNumberImg(0);\n      setNumberImgLast(0);\n    }, 500);\n  };\n\n  const verifyButtonsUpload = () => {\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\n\n    for (let i = 0; i < numberImg; i++) {\n      const imgVerify = document.querySelector(\n        `.btn${capitalize(newArrImg[i])}`\n      );\n      if (imgVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberAudio; i++) {\n      const audioVerify = document.querySelector(\n        `.btn${capitalize(newArrAudio[i])}`\n      );\n      if (audioVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberVideo; i++) {\n      const videoVerify = document.querySelector(\n        `.btn${capitalize(newArrVideo[i])}`\n      );\n      if (videoVerify) {\n        return true;\n      }\n    }\n  };\n\n  const handleSaveNode = async () => {\n    if (open === \"edit\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (\n          (numberAudio === 0 && numberVideo === 0 && numberImg === 0) ||\n          medias.length === 0\n        ) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null)\n            };\n            console.log('QUI', mountData)\n            onUpdate({\n              ...data,\n              data: mountData\n            });\n            toast.success(\"Contedo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            console.log(e)\n            setLoading(false);\n          }\n          return;\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then(async (res) => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data)\n            };\n            onUpdate({\n              ...data,\n              data: mountData\n            });\n            toast.success(\"Contedo adicionada com sucesso!\");\n            await handleClose();\n            setLoading(false);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }, 1500);\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] == \"image\") {\n          new Compressor(file, {\n            quality: 0.7,\n\n            async success(media) {\n              formData.append(\"medias\", media);\n              formData.append(\"body\", media.name);\n            },\n            error(err) {\n              alert(\"erro\");\n              console.log(err.message);\n            }\n          });\n        } else {\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (numberAudio === 0 && numberVideo === 0 && numberImg === 0) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null)\n            };\n            onSave({\n              ...mountData\n            });\n            toast.success(\"Contedo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            setLoading(false);\n          }\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then(res => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data)\n            };\n            onSave({\n              ...mountData\n            });\n            toast.success(\"Contedo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }, 1500);\n    }\n  };\n\n  const scrollToBottom = className => {\n    const element = document.querySelector(className);\n    element.scrollTop = element.scrollHeight;\n  };\n\n  return (\n    <div>\n      <Dialog open={activeModal} fullWidth=\"md\" scroll=\"paper\">\n        {!loading && (\n          <DialogTitle id=\"form-dialog-title\">\n            Adicionar contedo ao fluxo\n          </DialogTitle>\n        )}\n        <Stack>\n          <Stack\n            className=\"body-card\"\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              overflow: \"auto\",\n              height: \"70vh\",\n              scrollBehavior: \"smooth\",\n              display: loading && \"none\"\n            }}\n          >\n            {elements.map(item => (\n              <>{item}</>\n            ))}\n            <Stack direction={\"row\"} gap={1}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [\n                    ...old,\n                    messageLayout(numberMessagesLast)\n                  ]);\n                  setNumberMessages(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `message${numberMessagesLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberMessagesLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Message\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Texto\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [\n                    ...old,\n                    intervalLayout(numberIntervalLast)\n                  ]);\n                  setNumberInterval(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `interval${numberIntervalLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberIntervalLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <AccessTime\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Intervalo\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, imgLayout(numberImgLast)]);\n                  setNumberImg(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `img${numberImgLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberImgLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Image\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Imagem\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, audioLayout(numberAudioLast)]);\n                  setNumberAudio(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `audio${numberAudioLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberAudioLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <MicNone\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Audio\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements(old => [...old, videoLayout(numberVideoLast)]);\n                  setNumberVideo(old => {\n                    setElementsSeq(oldEleme => [\n                      ...oldEleme,\n                      `video${numberVideoLast}`\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberVideoLast(old => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Videocam\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\"\n                  }}\n                />\n                Video\n              </Button>\n            </Stack>\n          </Stack>\n\n          <DialogActions>\n            <Button\n              onClick={handleClose}\n              color=\"secondary\"\n              variant=\"outlined\"\n              style={{ display: loading && \"none\" }}\n            >\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => handleSaveNode()}\n              style={{ display: loading && \"none\" }}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n        {loading && (\n          <Stack\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              height: \"70vh\",\n              alignSelf: \"center\",\n              justifyContent: \"center\"\n            }}\n          >\n            <Stack>\n              <Typography>\n                Subindo os arquivos e criando o contedo...\n              </Typography>\n              <Stack style={{ alignSelf: \"center\", marginTop: \"12px\" }}>\n                <CircularProgress />\n              </Stack>\n            </Stack>\n          </Stack>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderSingleBlockModal;\n","import {\n  AccessTime,\n  ArrowForwardIos,\n  ContentCopy,\n  Delete,\n  Image,\n  LibraryBooks,\n  Message,\n  MicNone,\n  Videocam\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\n\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\nimport { Typography } from \"@mui/material\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n  return (\n    <div\n      style={{\n        backgroundColor: \"#FEFAFA\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        border: \"1px solid rgba(236, 88, 88, 0.25)\",\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\"\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"3.5px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <LibraryBooks\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#EC5858\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Contedo</div>\n      </div>\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\n        {data.seq.map(item => (\n          <div\n            style={{\n              backgroundColor: \"#F6EEEE\",\n              marginBottom: \"3px\",\n              borderRadius: \"5px\"\n            }}\n          >\n            {item.includes(\"message\") && (\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    position: \"relative\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\"\n                  }}\n                >\n                  <Message sx={{ color: \"#EC5858\" }} />\n                </div>\n                <Typography\n                  textAlign={\"center\"}\n                  sx={{\n                    textOverflow: \"ellipsis\",\n                    fontSize: \"10px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\"\n                  }}\n                >\n                  {\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\n                      .value\n                  }\n                </Typography>\n              </div>\n            )}\n            {item.includes(\"interval\") && (\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    position: \"relative\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\"\n                  }}\n                >\n                  <AccessTime sx={{ color: \"#EC5858\" }} />\n                </div>\n                <Typography\n                  textAlign={\"center\"}\n                  sx={{\n                    textOverflow: \"ellipsis\",\n                    fontSize: \"10px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\"\n                  }}\n                >\n                  {\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\n                      .value\n                  }{\" \"}\n                  segundos\n                </Typography>\n              </div>\n            )}\n            {item.includes(\"img\") && (\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    position: \"relative\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\"\n                  }}\n                >\n                  <Image sx={{ color: \"#EC5858\" }} />\n                </div>\n                <Typography\n                  textAlign={\"center\"}\n                  sx={{\n                    textOverflow: \"ellipsis\",\n                    fontSize: \"10px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\"\n                  }}\n                >\n                  {\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\n                      .original\n                  }\n                </Typography>\n              </div>\n            )}\n            {item.includes(\"audio\") && (\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    position: \"relative\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\"\n                  }}\n                >\n                  <MicNone sx={{ color: \"#EC5858\" }} />\n                </div>\n                <Typography\n                  textAlign={\"center\"}\n                  sx={{\n                    textOverflow: \"ellipsis\",\n                    fontSize: \"10px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\"\n                  }}\n                >\n                  {\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\n                      .original\n                  }\n                </Typography>\n              </div>\n            )}\n            {item.includes(\"video\") && (\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    position: \"relative\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\"\n                  }}\n                >\n                  <Videocam sx={{ color: \"#EC5858\" }} />\n                </div>\n                <Typography\n                  textAlign={\"center\"}\n                  sx={{\n                    textOverflow: \"ellipsis\",\n                    fontSize: \"10px\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\"\n                  }}\n                >\n                  {\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\n                      .original\n                  }\n                </Typography>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0000FF\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"90%\",\n          right: \"-11px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import {\n  ArrowForwardIos, ContentCopy,\n  Delete, ConfirmationNumber\n} from \"@mui/icons-material\";\nimport React, { memo } from \"react\";\nimport TextField from '@mui/material/TextField';\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\nimport { Handle } from \"react-flow-renderer\";\nimport { Typography } from \"@material-ui/core\";\n\nexport default memo(({ data, isConnectable, id }) => {\n  const storageItems = useNodeStorage();\n  console.log(12, \"ticketNode\", data)\n  return (\n    <div\n      style={{\n        backgroundColor: \"#ffffff\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\n        border: '1px solid rgba(33, 94, 151, 0.25)'\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        style={{\n          background: \"#0872b9\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"20px\",\n          left: \"-12px\",\n          cursor: 'pointer'\n        }}\n        onConnect={params => console.log(\"handle onConnect\", params)}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: 'none'\n          }}\n        />\n      </Handle>\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          right: 5,\n          top: 5,\n          cursor: \"pointer\",\n          gap: 6\n        }}\n      >\n        <ContentCopy\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"duplicate\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\n        />\n\n        <Delete\n          onClick={() => {\n            storageItems.setNodesStorage(id);\n            storageItems.setAct(\"delete\");\n          }}\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\n        />\n      </div>\n      <div\n        style={{\n          color: \"#ededed\",\n          fontSize: \"16px\",\n          flexDirection: \"row\",\n          display: \"flex\"\n        }}\n      >\n        <ConfirmationNumber\n          sx={{\n            width: \"16px\",\n            height: \"16px\",\n            marginRight: \"4px\",\n            marginTop: \"4px\",\n            color: \"#3aba38\"\n          }}\n        />\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\n          Ticket\n        </div>\n      </div>\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\n        <div\n          style={{\n            backgroundColor: \"#F6EEEE\",\n            marginBottom: \"3px\",\n            borderRadius: \"5px\"\n          }}\n        >\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              {Object.keys(data)[0] === \"data\" ? (\n                data.data.name\n              ) : (\n                data.name\n              )\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"a\"\n        style={{\n          background: \"#0872b9\",\n          width: \"18px\",\n          height: \"18px\",\n          top: \"70%\",\n          right: \"-11px\",\n          cursor: 'pointer'\n        }}\n        isConnectable={isConnectable}\n      >\n        <ArrowForwardIos\n          sx={{\n            color: \"#ffff\",\n            width: \"10px\",\n            height: \"10px\",\n            marginLeft: \"2.9px\",\n            marginBottom: \"1px\",\n            pointerEvents: \"none\"\n          }}\n        />\n      </Handle>\n    </div>\n  );\n});\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useCallback\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\n\nimport api from \"../../services/api\";\n\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {\n  SpeedDial,\n  SpeedDialAction,\n  SpeedDialIcon,\n  Stack,\n  Typography\n} from \"@mui/material\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport messageNode from \"./nodes/messageNode.js\";\n\nimport \"reactflow/dist/style.css\";\n\nimport ReactFlow, {\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  onElementsRemove,\n  useReactFlow\n} from \"react-flow-renderer\";\nimport FlowBuilderAddTextModal from \"../../components/FlowBuilderAddTextModal\";\nimport FlowBuilderIntervalModal from \"../../components/FlowBuilderIntervalModal\";\nimport startNode from \"./nodes/startNode\";\nimport conditionNode from \"./nodes/conditionNode\";\nimport menuNode from \"./nodes/menuNode\";\nimport intervalNode from \"./nodes/intervalNode\";\nimport imgNode from \"./nodes/imgNode\";\nimport randomizerNode from \"./nodes/randomizerNode\";\nimport videoNode from \"./nodes/videoNode\";\nimport FlowBuilderConditionModal from \"../../components/FlowBuilderConditionModal\";\nimport FlowBuilderMenuModal from \"../../components/FlowBuilderMenuModal\";\nimport {\n  AccessTime,\n  CallSplit,\n  DynamicFeed,\n  Image,\n  ImportExport,\n  LibraryBooks,\n  Message,\n  MicNone,\n  RocketLaunch,\n  Videocam\n} from \"@mui/icons-material\";\nimport RemoveEdge from \"./nodes/removeEdge\";\nimport FlowBuilderAddImgModal from \"../../components/FlowBuilderAddImgModal\";\nimport FlowBuilderTicketModal from \"../../components/FlowBuilderAddTicketModal\";\nimport FlowBuilderAddAudioModal from \"../../components/FlowBuilderAddAudioModal\";\nimport audioNode from \"./nodes/audioNode\";\nimport { useNodeStorage } from \"../../stores/useNodeStorage\";\nimport FlowBuilderRandomizerModal from \"../../components/FlowBuilderRandomizerModal\";\nimport FlowBuilderAddVideoModal from \"../../components/FlowBuilderAddVideoModal\";\nimport FlowBuilderSingleBlockModal from \"../../components/FlowBuilderSingleBlockModal\";\nimport singleBlockNode from \"./nodes/singleBlockNode\";\nimport { colorPrimary } from \"../../styles/styles\";\nimport ticketNode from \"./nodes/ticketNode\";\nimport { ConfirmationNumber } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    position: \"relative\",\n    backgroundColor: \"#F8F9FA\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  },\n  speeddial: {\n    backgroundColor: \"red\"\n  }\n}));\n\nfunction geraStringAleatoria(tamanho) {\n  var stringAleatoria = \"\";\n  var caracteres =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (var i = 0; i < tamanho; i++) {\n    stringAleatoria += caracteres.charAt(\n      Math.floor(Math.random() * caracteres.length)\n    );\n  }\n  return stringAleatoria;\n}\n\nconst nodeTypes = {\n  message: messageNode,\n  start: startNode,\n  condition: conditionNode,\n  menu: menuNode,\n  interval: intervalNode,\n  img: imgNode,\n  audio: audioNode,\n  randomizer: randomizerNode,\n  video: videoNode,\n  singleBlock: singleBlockNode,\n  ticket: ticketNode\n};\n\nconst edgeTypes = {\n  buttonedge: RemoveEdge\n};\n\nconst initialNodes = [\n  {\n    id: \"1\",\n    position: { x: 250, y: 100 },\n    data: { label: \"Inicio do fluxo\" },\n    type: \"start\"\n  }\n];\n\nconst initialEdges = [];\n\nexport const FlowBuilderConfig = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { id } = useParams();\n\n  const storageItems = useNodeStorage();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [dataNode, setDataNode] = useState(null);\n  const [hasMore, setHasMore] = useState(false);\n  const [modalAddText, setModalAddText] = useState(null);\n  const [modalAddInterval, setModalAddInterval] = useState(false);\n  const [modalAddCondition, setModalAddCondition] = useState(null);\n  const [modalAddMenu, setModalAddMenu] = useState(null);\n  const [modalAddImg, setModalAddImg] = useState(null);\n  const [modalAddAudio, setModalAddAudio] = useState(null);\n  const [modalAddRandomizer, setModalAddRandomizer] = useState(null);\n  const [modalAddVideo, setModalAddVideo] = useState(null);\n  const [modalAddSingleBlock, setModalAddSingleBlock] = useState(null);\n  const [modalAddTicket, setModalAddTicket] = useState(null)\n\n  const connectionLineStyle = { stroke: \"#2b2b2b\", strokeWidth: \"6px\" };\n\n  const addNode = (type, data) => {\n    const posY = nodes[nodes.length - 1].position.y;\n    const posX =\n      nodes[nodes.length - 1].position.x + nodes[nodes.length - 1].width + 40;\n    if (type === \"start\") {\n      return setNodes(old => {\n        return [\n          ...old.filter(item => item.id !== \"1\"),\n          {\n            id: \"1\",\n            position: { x: posX, y: posY },\n            data: { label: \"Inicio do fluxo\" },\n            type: \"start\"\n          }\n        ];\n      });\n    }\n    if (type === \"text\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { label: data.text },\n            type: \"message\"\n          }\n        ];\n      });\n    }\n    if (type === \"interval\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { label: `Intervalo ${data.sec} seg.`, sec: data.sec },\n            type: \"interval\"\n          }\n        ];\n      });\n    }\n    if (type === \"condition\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: {\n              key: data.key,\n              condition: data.condition,\n              value: data.value\n            },\n            type: \"condition\"\n          }\n        ];\n      });\n    }\n    if (type === \"menu\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: {\n              message: data.message,\n              arrayOption: data.arrayOption\n            },\n            type: \"menu\"\n          }\n        ];\n      });\n    }\n    if (type === \"img\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { url: data.url },\n            type: \"img\"\n          }\n        ];\n      });\n    }\n    if (type === \"audio\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { url: data.url, record: data.record },\n            type: \"audio\"\n          }\n        ];\n      });\n    }\n    if (type === \"randomizer\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { percent: data.percent },\n            type: \"randomizer\"\n          }\n        ];\n      });\n    }\n    if (type === \"video\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { url: data.url },\n            type: \"video\"\n          }\n        ];\n      });\n    }\n    if (type === \"singleBlock\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { ...data },\n            type: \"singleBlock\"\n          }\n        ];\n      });\n    }\n\n    if (type === \"ticket\") {\n      return setNodes(old => {\n        return [\n          ...old,\n          {\n            id: geraStringAleatoria(30),\n            position: { x: posX, y: posY },\n            data: { ...data },\n            type: \"ticket\"\n          }\n        ];\n      });\n    }\n\n\n  };\n\n  const textAdd = data => {\n    addNode(\"text\", data);\n  };\n\n  const intervalAdd = data => {\n    addNode(\"interval\", data);\n  };\n\n  const conditionAdd = data => {\n    addNode(\"condition\", data);\n  };\n\n  const menuAdd = data => {\n    addNode(\"menu\", data);\n  };\n\n  const imgAdd = data => {\n    addNode(\"img\", data);\n  };\n\n  const audioAdd = data => {\n    addNode(\"audio\", data);\n  };\n\n  const randomizerAdd = data => {\n    addNode(\"randomizer\", data);\n  };\n\n  const videoAdd = data => {\n    addNode(\"video\", data);\n  };\n\n  const singleBlockAdd = data => {\n    addNode(\"singleBlock\", data);\n  };\n\n  const ticketAdd = data => {\n    addNode(\"ticket\", data)\n  }\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`/flowbuilder/flow/${id}`);\n          if (data.flow.flow !== null) {\n            setNodes(data.flow.flow.nodes);\n            setEdges(data.flow.flow.connections);\n          }\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [id]);\n\n  useEffect(() => {\n    if (storageItems.action === \"delete\") {\n      setNodes(old => old.filter(item => item.id !== storageItems.node));\n      setEdges(old => {\n        const newData = old.filter(item => item.source !== storageItems.node);\n        const newClearTarget = newData.filter(\n          item => item.target !== storageItems.node\n        );\n        return newClearTarget;\n      });\n      storageItems.setNodesStorage(\"\");\n      storageItems.setAct(\"idle\");\n    }\n    if (storageItems.action === \"duplicate\") {\n      const nodeDuplicate = nodes.filter(\n        item => item.id === storageItems.node\n      )[0];\n      const maioresX = nodes.map(node => node.position.x);\n      const maiorX = Math.max(...maioresX);\n      const finalY = nodes[nodes.length - 1].position.y;\n      const nodeNew = {\n        ...nodeDuplicate,\n        id: geraStringAleatoria(30),\n        position: {\n          x: maiorX + 240,\n          y: finalY\n        },\n        selected: false,\n        style: { backgroundColor: \"#555555\", padding: 0, borderRadius: 8 }\n      };\n      setNodes(old => [...old, nodeNew]);\n      storageItems.setNodesStorage(\"\");\n      storageItems.setAct(\"idle\");\n    }\n  }, [storageItems.action]);\n\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n\n  const onConnect = useCallback(\n    params => setEdges(eds => addEdge(params, eds)),\n    [setEdges]\n  );\n\n  const saveFlow = async () => {\n    await api\n      .post(\"/flowbuilder/flow\", {\n        idFlow: id,\n        nodes: nodes,\n        connections: edges\n      })\n      .then(res => {\n        toast.success(\"Fluxo salvo com sucesso\");\n      });\n  };\n\n  const doubleClick = (event, node) => {\n    console.log(\"NODE\", node);\n    setDataNode(node);\n    if (node.type === \"message\") {\n      setModalAddText(\"edit\");\n    }\n    if (node.type === \"interval\") {\n      setModalAddInterval(\"edit\");\n    }\n    if (node.type === \"condition\") {\n      setModalAddCondition(\"edit\");\n    }\n    if (node.type === \"menu\") {\n      setModalAddMenu(\"edit\");\n    }\n    if (node.type === \"img\") {\n      setModalAddImg(\"edit\");\n    }\n    if (node.type === \"audio\") {\n      setModalAddAudio(\"edit\");\n    }\n    if (node.type === \"randomizer\") {\n      setModalAddRandomizer(\"edit\");\n    }\n    if (node.type === \"singleBlock\") {\n      setModalAddSingleBlock(\"edit\");\n    }\n    if (node.type === \"ticket\") {\n      setModalAddTicket(\"edit\")\n    }\n  };\n\n  const clickNode = (event, node) => {\n    setNodes(old =>\n      old.map(item => {\n        if (item.id === node.id) {\n          return {\n            ...item,\n            style: { backgroundColor: \"#0000FF\", padding: 1, borderRadius: 8 }\n          };\n        }\n        return {\n          ...item,\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 }\n        };\n      })\n    );\n  };\n  const clickEdge = (event, node) => {\n    setNodes(old =>\n      old.map(item => {\n        return {\n          ...item,\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 }\n        };\n      })\n    );\n  };\n\n  const updateNode = dataAlter => {\n    console.log('DATA ALTER', dataAlter)\n    setNodes(old =>\n      old.map(itemNode => {\n        if (itemNode.id === dataAlter.id) {\n          return dataAlter;\n        }\n        return itemNode;\n      })\n    );\n    setModalAddText(null);\n    setModalAddInterval(null);\n    setModalAddMenu(null);\n  };\n\n  const actions = [\n    {\n      icon: (\n        <RocketLaunch\n          sx={{\n            color: \"#3ABA38\"\n          }}\n        />\n      ),\n      name: \"Inicio\",\n      type: \"start\"\n    },\n    {\n      icon: (\n        <LibraryBooks\n          sx={{\n            color: \"#EC5858\"\n          }}\n        />\n      ),\n      name: \"Contedo\",\n      type: \"content\"\n    },\n    {\n      icon: (\n        <DynamicFeed\n          sx={{\n            color: \"#683AC8\"\n          }}\n        />\n      ),\n      name: \"Menu\",\n      type: \"menu\"\n    },\n    {\n      icon: (\n        <CallSplit\n          sx={{\n            color: \"#1FBADC\"\n          }}\n        />\n      ),\n      name: \"Randomizador\",\n      type: \"random\"\n    },\n    {\n      icon: (\n        <AccessTime\n          sx={{\n            color: \"#F7953B\"\n          }}\n        />\n      ),\n      name: \"Intervalo\",\n      type: \"interval\"\n    },\n    {\n      icon: (\n        <ConfirmationNumber\n          sx={{\n            color: \"#F7953B\"\n          }}\n        />\n      ),\n      name: \"Ticket\",\n      type: \"ticket\"\n    }\n  ];\n\n  const clickActions = type => {\n    switch (type) {\n      case \"start\":\n        addNode(\"start\");\n        break;\n      case \"menu\":\n        setModalAddMenu(\"create\");\n        break;\n      case \"content\":\n        setModalAddSingleBlock(\"create\");\n        break;\n      case \"random\":\n        setModalAddRandomizer(\"create\");\n        break;\n      case \"interval\":\n        setModalAddInterval(\"create\");\n        break;\n      case \"ticket\":\n        setModalAddTicket(\"create\")\n      default:\n    }\n  };\n\n  return (\n    <Stack sx={{ height: \"100vh\" }}>\n      <FlowBuilderAddTextModal\n        open={modalAddText}\n        onSave={textAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddText}\n      />\n      <FlowBuilderIntervalModal\n        open={modalAddInterval}\n        onSave={intervalAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddInterval}\n      />\n      <FlowBuilderConditionModal\n        open={modalAddCondition}\n        onSave={conditionAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddCondition}\n      />\n      <FlowBuilderMenuModal\n        open={modalAddMenu}\n        onSave={menuAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddMenu}\n      />\n      <FlowBuilderAddImgModal\n        open={modalAddImg}\n        onSave={imgAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddImg}\n      />\n      <FlowBuilderAddAudioModal\n        open={modalAddAudio}\n        onSave={audioAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddAudio}\n      />\n      <FlowBuilderRandomizerModal\n        open={modalAddRandomizer}\n        onSave={randomizerAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddRandomizer}\n      />\n      <FlowBuilderAddVideoModal\n        open={modalAddVideo}\n        onSave={videoAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddVideo}\n      />\n      <FlowBuilderSingleBlockModal\n        open={modalAddSingleBlock}\n        onSave={singleBlockAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddSingleBlock}\n      />\n      <FlowBuilderTicketModal\n        open={modalAddTicket}\n        onSave={ticketAdd}\n        data={dataNode}\n        onUpdate={updateNode}\n        close={setModalAddTicket}\n      />\n      <MainHeader>\n        <Title>Desenhe seu fluxo</Title>\n      </MainHeader>\n      {!loading && (\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n          <Stack>\n            <SpeedDial\n              ariaLabel=\"SpeedDial basic example\"\n              sx={{\n                position: \"absolute\",\n                top: 16,\n                left: 16,\n                \".MuiSpeedDial-fab\": {\n                  backgroundColor: colorPrimary(),\n                  '&:hover': {\n                    backgroundColor: colorPrimary()\n                  }\n                }\n              }}\n              icon={<SpeedDialIcon />}\n              direction={\"down\"}\n            >\n              {actions.map(action => (\n                <SpeedDialAction\n                  key={action.name}\n                  icon={action.icon}\n                  tooltipTitle={action.name}\n                  tooltipOpen\n                  tooltipPlacement={\"right\"}\n                  onClick={() => clickActions(action.type)}\n                />\n              ))}\n            </SpeedDial>\n          </Stack>\n          <Stack\n            sx={{\n              position: \"absolute\",\n              justifyContent: \"center\",\n              flexDirection: \"row\",\n              width: \"100%\"\n            }}\n          >\n            <Typography\n              style={{ color: \"#010101\", textShadow: \"#010101 1px 0 10px\" }}\n            >\n              No se esquea de salvar seu fluxo!\n            </Typography>\n          </Stack>\n          <Stack direction={\"row\"} justifyContent={\"end\"}>\n            <Button\n              sx={{ textTransform: \"none\" }}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => saveFlow()}\n            >\n              Salvar\n            </Button>\n          </Stack>\n\n          <Stack\n            direction={\"row\"}\n            style={{\n              width: \"100%\",\n              height: \"90%\",\n              position: \"relative\",\n              display: \"flex\"\n            }}\n          >\n            <ReactFlow\n              nodes={nodes}\n              edges={edges}\n              deleteKeyCode={[\"Backspace\", \"Delete\"]}\n              onNodesChange={onNodesChange}\n              onEdgesChange={onEdgesChange}\n              onNodeDoubleClick={doubleClick}\n              onNodeClick={clickNode}\n              onEdgeClick={clickEdge}\n              onConnect={onConnect}\n              nodeTypes={nodeTypes}\n              fitView\n              connectionLineStyle={connectionLineStyle}\n              style={{\n                //backgroundImage: `url(${imgBackground})`,\n                //backgroundSize: \"cover\"\n                backgroundColor: \"#F8F9FA\"\n              }}\n              edgeTypes={edgeTypes}\n              variant={\"cross\"}\n              defaultEdgeOptions={{\n                style: { color: \"#ff0000\", strokeWidth: \"6px\" },\n                animated: false\n              }}\n            >\n              <Controls />\n              <MiniMap />\n              <Background variant=\"dots\" gap={12} size={-1} />\n            </ReactFlow>\n\n            <Stack\n              style={{\n                backgroundColor: \"#FAFAFA\",\n                height: \"20px\",\n                width: \"58px\",\n                position: \"absolute\",\n                bottom: 0,\n                right: 0,\n                zIndex: 1111\n              }}\n            />\n            {/* <Stack\n                style={{\n                  backgroundColor: \"#1B1B1B\",\n                  height: \"70%\",\n                  width: \"150px\",\n                  position: \"absolute\",\n                  left: 0,\n                  top: 0,\n                  zIndex: 1111,\n                  borderRadius: 3,\n                  padding: 8\n                }}\n                spacing={1}\n              >\n                <Typography style={{ color: \"#ffffff\", textAlign: \"center\" }}>\n                  Adicionar\n                </Typography>\n                <Button\n                  onClick={() => addNode(\"start\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#3ABA38\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    \"&:hover\": {\n                      backgroundColor: \"#3e3b7f\"\n                    },\n                    textTransform: \"none\"\n                  }}\n                >\n                  <RocketLaunch\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Inicio\n                </Button>\n                <Button\n                  onClick={() => setModalAddText(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#6865A5\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <Message\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Texto\n                </Button>\n                <Button\n                  onClick={() => setModalAddInterval(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#F7953B\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <AccessTime\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Intervalo\n                </Button>\n                <Button\n                  onClick={() => setModalAddCondition(\"create\")}\n                  variant=\"contained\"\n                  disabled\n                  style={{\n                    backgroundColor: \"#524d4d\",\n                    color: \"#cccaed\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <ImportExport\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Condio\n                </Button>\n                <Button\n                  onClick={() => setModalAddMenu(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#683AC8\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <DynamicFeed\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Menu\n                </Button>\n                <Button\n                  onClick={() => setModalAddAudio(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#6865A5\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <MicNone\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Audio\n                </Button>\n                <Button\n                  onClick={() => setModalAddVideo(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#6865A5\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <Videocam\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Video\n                </Button>\n                <Button\n                  onClick={() => setModalAddImg(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#6865A5\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <Image\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Imagem\n                </Button>\n                <Button\n                  onClick={() => setModalAddRandomizer(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#1FBADC\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <CallSplit\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Randomizador\n                </Button>\n                <Button\n                  onClick={() => setModalAddSingleBlock(\"create\")}\n                  variant=\"contained\"\n                  style={{\n                    backgroundColor: \"#EC5858\",\n                    color: \"#ffffff\",\n                    padding: 8,\n                    textTransform: \"none\"\n                  }}\n                >\n                  <LibraryBooks\n                    sx={{\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"4px\"\n                    }}\n                  />\n                  Contedo\n                </Button>\n              </Stack> */}\n          </Stack>\n        </Paper>\n      )}\n      {loading && (\n        <Stack justifyContent={\"center\"} alignItems={\"center\"} height={\"70vh\"}>\n          <CircularProgress />\n        </Stack>\n      )}\n    </Stack>\n  );\n};","import React, { useContext } from \"react\";\nimport {\n  getBezierPath,\n  getEdgeCenter,\n  getMarkerEnd\n} from \"react-flow-renderer\";\n\nimport \"./css/buttonedge.css\";\nimport { Delete } from \"@mui/icons-material\";\n\nconst onEdgeClick = (evt, id) => {\n  evt.stopPropagation();\n  //removeEdgeList(id);\n};\n\nexport default function removeEdge({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  style = {},\n  data,\n  arrowHeadType,\n  markerEndId\n}) {\n  const edgePath = getBezierPath({\n    sourceX,\n    sourceY,\n    sourcePosition,\n    targetX,\n    targetY,\n    targetPosition\n  });\n  const markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n\n  const foreignObjectSize = 40;\n\n  return (\n    <>\n      <path\n        id={id}\n        style={style}\n        className=\"react-flow__edge-path\"\n        d={edgePath}\n        markerEnd={markerEnd}\n      />\n      <foreignObject\n        width={foreignObjectSize}\n        height={foreignObjectSize}\n        x={edgeCenterX - foreignObjectSize / 2}\n        y={edgeCenterY - foreignObjectSize / 2}\n        className=\"edgebutton-foreignobject\"\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\n      >\n        <body>\n          {/* <button\n            className=\"edgebutton\"\n            onClick={event => onEdgeClick(event, id)}\n          >\n            <Delete sx={{ width: \"12px\", height: \"12px\", color: \"#0000FF\" }} />\n          </button> */}\n        </body>\n      </foreignObject>\n    </>\n  );\n}\n","export const colorBack = () => {\n\n  return \"#0000FF\";\n};\n\nexport const colorPrimary = () => {\n\n  return \"#0000FF\";\n};\n\nexport const colorIconesMenu = () => {\n\n  return \"#07074a\";\n};\n\nexport const colorTitleTable = () => {\n\n  return \"#e5e5e5\";\n};\n\nexport const colorTopTable = () => {\n\n  return \"#ededed\";\n};\n\nexport const colorBackgroundTable = () => {\n\n  return \"#2a273b\";\n};\n\nexport const colorLineTable = () => {\n\n  return \"#0000FF\";\n};\n\nexport const colorLineTableHover = () => {\n\n  return '#07074a';\n};\n\nexport const colorTopbar = () => {\n\n  return \"#141414\";\n};\n\n\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Muito curto!\")\n\t\t.max(50, \"Muito longo!\")\n\t\t.required(\"Digite um nome!\"),\n});\n\nconst WebhookModal = ({ open, onClose, webhookId, nameWebhook, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst [contact, setContact] = useState({\n\t\tname: nameWebhook,\n\t});\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact({\n\t\t\tname: \"\",\n\t\t});\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\tif(webhookId){\n\t\t\ttry {\n\t\t\t\tawait api.put(\"/webhook\", {\n\t\t\t\t\tname: values.name,\n\t\t\t\t\twebhookId\n\t\t\t\t  });\n\t\t\t\t  onSave(values.name)\n\t\t\t\t  handleClose()\n\t\t\t\ttoast.success(i18n.t(\"webhookModal.toasts.update\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t} else {\n\t\ttry {\n\t\t\tawait api.post(\"/webhook\", {\n\t\t\t\tname: values.name,\n\t\t\t  });\n\t\t\t  onSave(values.name)\n\t\t\t  handleClose()\n\t\t\ttoast.success(i18n.t(\"webhookModal.saveSuccess\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{webhookId\n\t\t\t\t\t\t? `${i18n.t(\"webhookModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"webhookModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\tstyle={{width: '95%'}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{webhookId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default WebhookModal;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Muito curto!\")\n\t\t.max(50, \"Muito longo!\")\n\t\t.required(\"Digite um nome!\"),\n});\n\nconst FlowBuilderModal = ({ open, onClose, flowId, nameWebhook = \"\", initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst [contact, setContact] = useState({\n\t\tname: nameWebhook,\n\t});\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact({\n\t\t\tname: \"\",\n\t\t});\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\tif(flowId){\n\t\t\ttry {\n\t\t\t\tawait api.put(\"/flowbuilder\", {\n\t\t\t\t\tname: values.name,\n\t\t\t\t\tflowId\n\t\t\t\t  });\n\t\t\t\t  onSave(values.name)\n\t\t\t\t  handleClose()\n\t\t\t\ttoast.success(i18n.t(\"webhookModal.toasts.update\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t} else {\n\t\ttry {\n\t\t\tawait api.post(\"/flowbuilder\", {\n\t\t\t\tname: values.name,\n\t\t\t  });\n\t\t\t  onSave(values.name)\n\t\t\t  handleClose()\n\t\t\ttoast.success(i18n.t(\"webhookModal.saveSuccess\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\t};\n\t\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{flowId\n\t\t\t\t\t\t? `Editar Fluxo`\n\t\t\t\t\t\t: `Adicionar Fluxo`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tdefaultValue={contact.name}\n\t\t\t\t\t\t\t\t\terror={Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\tstyle={{width: '95%'}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{flowId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default FlowBuilderModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport WebhookModal from \"../../components/WebhookModal\";\nimport {\n  AddCircle,\n  Build,\n  ContentCopy,\n  DevicesFold,\n  MoreVert,\n  WebhookOutlined\n} from \"@mui/icons-material\";\n\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  Menu,\n  MenuItem,\n  Stack\n} from \"@mui/material\";\n\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\n\nimport {\n  colorBackgroundTable,\n  colorLineTable,\n  colorLineTableHover,\n  colorPrimary,\n  colorTitleTable,\n  colorTopTable\n} from \"../../styles/styles\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach(contact => {\n      const contactIndex = state.findIndex(c => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex(c => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex(c => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    backgroundColor: colorBackgroundTable(),\n    borderRadius: 12,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  }\n}));\n\nconst FlowBuilder = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [webhooks, setWebhooks] = useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\n\n  const [hasMore, setHasMore] = useState(false);\n  const [reloadData, setReloadData] = useState(false);\n  const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/flowbuilder\");\n          setWebhooks(data.flows);\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.flows });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, reloadData]);\n\n  useEffect(() => {\n    const companyId = user.companyId\n   \n\n   const onContact = (data) => {\n    if (data.action === \"update\" || data.action === \"create\") {\n      dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n    }\n\n    if (data.action === \"delete\") {\n      dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n    }\n  }\n  \n  socket.on(`company-${companyId}-contact`, onContact);\n\n  return () => {\n    socket.disconnect();\n  };\n\n\n  }, []);\n\n  const handleSearch = event => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleCloseOrOpenTicket = ticket => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = () => {\n    setSelectedContactId(deletingContact.id);\n    setSelectedWebhookName(deletingContact.name);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteWebhook = async webhookId => {\n    try {\n      await api.delete(`/flowbuilder/${webhookId}`).then(res => {\n        setDeletingContact(null);\n        setReloadData(old => !old);\n      });\n      toast.success(\"Fluxo excludo com sucesso\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleDuplicateFlow = async flowId => {\n    try {\n      await api.post(`/flowbuilder/duplicate`, { flowId: flowId }).then(res => {\n        setDeletingContact(null);\n        setReloadData(old => !old);\n      });\n      toast.success(\"Fluxo duplicado com sucesso\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const exportLink = () => {\n    history.push(`/flowbuilder/${deletingContact.id}`)\n  }\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={ticket => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <FlowBuilderModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        flowId={selectedContactId}\n        nameWebhook={selectedWebhookName}\n        onSave={() => setReloadData(old => !old)}\n      ></FlowBuilderModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={e =>\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => {}\n        }\n      >\n        {deletingContact\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integraes relacionados sero perdidos.`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `Deseja duplicar o fluxo ${deletingContact.name}?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmDuplicateOpen}\n        onClose={setConfirmDuplicateOpen}\n        onConfirm={e =>\n          deletingContact ? handleDuplicateFlow(deletingContact.id) : () => {}\n        }\n      >\n        {deletingContact\n          ? `Tem certeza que deseja duplicar este fluxo?`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>Fluxos de conversa</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              style: {\n                color: colorTitleTable()\n              },\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              )\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            onClick={handleOpenContactModal}\n            style={{ textTransform: \"none\", backgroundColor: colorPrimary() }}\n          >\n            <Stack direction={\"row\"} gap={1}>\n              <AddCircle />\n              {\"Adicionar Fluxo\"}\n            </Stack>\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Stack>\n          <Grid container style={{ padding: \"8px\" }}>\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\n              {i18n.t(\"contacts.table.name\")}\n            </Grid>\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\n              Status\n            </Grid>\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\n              {i18n.t(\"contacts.table.actions\")}\n            </Grid>\n          </Grid>\n          <>\n            {webhooks.map(contact => (\n              <Grid               \n                container\n                key={contact.id}\n                sx={{\n                  padding: \"8px\",\n                  backgroundColor: colorLineTable(),\n                  borderRadius: 2,\n                  marginTop: 0.5,\n                  \"&:hover\": {\n                    backgroundColor: colorLineTableHover()\n                  }\n                }}\n              >\n                <Grid item xs={4}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\n                  <Stack\n                    justifyContent={\"center\"}\n                    height={\"100%\"}\n                    style={{ color: \"#ededed\" }}\n                  >\n                    <Stack direction={\"row\"}>\n                      <DevicesFold />\n                      <Stack justifyContent={\"center\"} marginLeft={1}>\n                        {contact.name}\n                      </Stack>\n                    </Stack>\n                  </Stack>\n                </Grid>\n                <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}  onClick={() => history.push(`/flowbuilder/${contact.id}`)}>\n                  <Stack justifyContent={\"center\"} height={\"100%\"}>\n                    {contact.active ? \"Ativo\" : \"Desativado\"}\n                  </Stack>\n                </Grid>\n                <Grid item xs={4} align=\"end\">\n                  <Button\n                    id=\"basic-button\"\n                    aria-controls={open ? \"basic-menu\" : undefined}\n                    aria-haspopup=\"true\"\n                    aria-expanded={open ? \"true\" : undefined}\n                    onClick={(e) => {\n                      handleClick(e);\n                      setDeletingContact(contact);\n                    }}\n                    sx={{ borderRadius: \"36px\", minWidth: \"24px\" }}\n                  >\n                    <MoreVert\n                      sx={{ color: \"#ededed\", width: \"21px\", height: \"21px\" }}\n                    />\n                  </Button>\n                  {/* <IconButton\n                    size=\"small\"\n                    onClick={() => hadleEditContact(contact.id, contact.name)}\n                  >\n                    <EditIcon style={{ color: \"#ededed\" }} />\n                  </IconButton>\n                  <IconButton\n                    size=\"small\"\n                    onClick={e => {\n                      setConfirmDuplicateOpen(true);\n                      setDeletingContact(contact);\n                    }}\n                  >\n                    <ContentCopy style={{ color: \"#ededed\" }} />\n                  </IconButton>\n                  <IconButton\n                    size=\"small\"\n                    onClick={() => history.push(`/flowbuilder/${contact.id}`)}\n                  >\n                    <Stack sx={{ width: 24 }}>\n                      <Build sx={{ width: 20, color: \"#ededed\" }} />\n                    </Stack>\n                  </IconButton>\n                  <Can\n                    role={user.profile}\n                    perform=\"contacts-page:deleteContact\"\n                    yes={() => (\n                      <IconButton\n                        size=\"small\"\n                        onClick={e => {\n                          setConfirmOpen(true);\n                          setDeletingContact(contact);\n                        }}\n                      >\n                        <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\n                      </IconButton>\n                    )}\n                  /> */}\n                </Grid>\n              </Grid>\n            ))}\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              sx={{borderRadius: '40px'}}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\"\n              }}\n            >\n              <MenuItem onClick={() => {\n                handleClose()\n                hadleEditContact()\n                }}>Editar nome</MenuItem>\n              <MenuItem onClick={() => {\n                handleClose()\n                exportLink()\n                }}>Editar fluxo</MenuItem>\n              <MenuItem onClick={() => {\n                handleClose()\n                setConfirmDuplicateOpen(true);\n                }}>Duplicar</MenuItem>\n              <MenuItem onClick={() => {\n                handleClose()\n                setConfirmOpen(true);\n                }}>Excluir</MenuItem>\n            </Menu>\n            {loading && (\n              <Stack\n                justifyContent={\"center\"}\n                alignItems={\"center\"}\n                minHeight={\"50vh\"}\n              >\n                <CircularProgress />\n              </Stack>\n            )}\n          </>\n        </Stack>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default FlowBuilder;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport {\n  AddCircle,\n  Build,\n  ContentCopy,\n  DevicesFold,\n  MoreVert,\n  WebhookOutlined\n} from \"@mui/icons-material\";\nimport {\n  Autocomplete,\n  Button,\n  Chip,\n  CircularProgress,\n  Grid,\n  Menu,\n  MenuItem,\n  Stack,\n  Typography\n} from \"@mui/material\";\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\nimport {\n  colorBackgroundTable,\n  colorLineTable,\n  colorLineTableHover,\n  colorPrimary,\n  colorTitleTable,\n  colorTopTable\n} from \"../../styles/styles\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach(contact => {\n      const contactIndex = state.findIndex(c => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex(c => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex(c => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    backgroundColor: \"#ffff\",\n    borderRadius: 12,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  }\n}));\n\nconst FlowDefault = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [webhooks, setWebhooks] = useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\n\n  const [configExist, setConfigExist] = useState(false)\n\n  const [flowsData, setFlowsData] = useState([]);\n  const [flowsDataObj, setFlowsDataObj] = useState([]);\n\n  const [flowSelectedWelcome, setFlowSelectedWelcome] = useState(null);\n\n  const [flowSelectedPhrase, setFlowSelectedPhrase] = useState(null);\n\n  const [hasMore, setHasMore] = useState(false);\n  const [reloadData, setReloadData] = useState(false);\n\n const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  const getFlows = async () => {\n    return await api.get(\"/flowbuilder\").then(res => {\n      setFlowsData(res.data.flows.map(flow => flow.name));\n      setFlowsDataObj(res.data.flows);\n      return res.data.flows\n    });\n  };\n\n  const getFlowsDefault = async (flowData) => {\n    await api.get(\"/flowdefault\").then(res => {\n      if (res.data.flow?.companyId) {\n        setConfigExist(true)\n      }\n      if (res.data.flow?.flowIdWelcome) {\n        const flowName = flowData.filter(item => item.id === res.data.flow.flowIdWelcome)\n        if (flowName.length > 0) {\n          setFlowSelectedWelcome(flowName[0].name);\n        } else {\n          setFlowSelectedWelcome()\n        }\n\n      }\n      if (res.data.flow?.flowIdNotPhrase) {\n        const flowName = flowData.filter(item => item.id === res.data.flow.flowIdNotPhrase)\n        if (flowName.length > 0) {\n          setFlowSelectedPhrase(flowName[0].name);\n        } else {\n          setFlowSelectedPhrase();\n        }\n\n      }\n      setLoading(false)\n    });\n  };\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n\n    const onContact = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    }\n\n    socket.on(`company-${companyId}-contact`, onContact);\n\n    getFlows().then(res => {\n      getFlowsDefault(res)\n    })\n    \n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleCloseOrOpenTicket = ticket => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleDeleteWebhook = async webhookId => {\n    try {\n      await api.delete(`/flowbuilder/${webhookId}`).then(res => {\n        setDeletingContact(null);\n        setReloadData(old => !old);\n      });\n      toast.success(\"Fluxo excludo com sucesso\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDefault = async () => {\n    console.log(configExist)\n\n    let idWelcome = flowsDataObj.filter(item => item.name === flowSelectedWelcome)\n    let idPhrase = flowsDataObj.filter(item => item.name === flowSelectedPhrase)\n    if (idWelcome.length === 0) {\n      idWelcome = null\n    } else {\n      idWelcome = idWelcome[0].id\n    }\n    if (idPhrase.length === 0) {\n      idPhrase = null\n    } else {\n      idPhrase = idPhrase[0].id\n    }\n\n    if (configExist) {\n      try {\n        await api.put(`/flowdefault`, { flowIdWelcome: idWelcome, flowIdPhrase: idPhrase }).then(res => {\n          setDeletingContact(null);\n          setReloadData(old => !old);\n        });\n        toast.success(\"Fluxos padres atualizados\");\n      } catch (err) {\n        toastError(err);\n      }\n    } else {\n      try {\n        await api.post(`/flowdefault`, { flowIdWelcome: idWelcome, flowIdPhrase: idPhrase }).then(res => {\n          setDeletingContact(null);\n          setReloadData(old => !old);\n        });\n        toast.success(\"Fluxos padres atualizados\");\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n  };\n\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={ticket => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <FlowBuilderModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        flowId={selectedContactId}\n        nameWebhook={selectedWebhookName}\n        onSave={() => setReloadData(old => !old)}\n      ></FlowBuilderModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${deletingContact.name\n            }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={e =>\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => { }\n        }\n      >\n        {deletingContact\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integraes relacionados sero perdidos.`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>Fluxo padro</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n      >\n        <Stack sx={{ padding: '12px', position: 'relative' }}>\n          <Stack sx={{ position: 'absolute', right: 0 }}>\n            <Button onClick={() => handleSaveDefault()} variant=\"contained\" sx={{\n              backgroundColor: colorPrimary(), '&:hover': {\n                backgroundColor: `${colorPrimary()}90`\n              }\n            }}>Salvar</Button>\n          </Stack>\n          <Stack gap={'12px'}>\n            <Typography fontSize={18} fontWeight={700}>Fluxo de boas vindas</Typography>\n            <Typography fontSize={12}>\n              Este fluxo  disparado apenas para novos contatos, pessoas que voce\n              no possui em sua lista de contatos e que mandaram uma mensagem\n            </Typography>\n            {!loading && (<Autocomplete\n              disablePortal\n              id=\"combo-box-demo\"\n              value={flowSelectedWelcome}\n              options={flowsData}\n              onChange={(event, newValue) => {\n                setFlowSelectedWelcome(newValue);\n              }}\n              sx={{ width: \"100%\" }}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  variant=\"outlined\"\n                  placeholder=\"Escolha um fluxo\"\n                />\n              )}\n              renderTags={(value, getTagProps) =>\n                value.map((option, index) => (\n                  <Chip\n                    variant=\"outlined\"\n                    label={option}\n                    {...getTagProps({ index })}\n                    style={{ borderRadius: \"8px\" }}\n                  />\n                ))\n              }\n            />)}\n            {loading && (<Stack alignSelf={'center'}>\n              <CircularProgress sx={{ color: colorPrimary() }} />\n            </Stack>)}\n          </Stack>\n\n          <Stack gap={'12px'} marginTop={4}>\n            <Typography fontSize={18} fontWeight={700}>Fluxo de resposta padro</Typography>\n            <Typography fontSize={12}>\n              Resposta Padro  enviada com qualquer caractere diferente de uma palavra chave. ATENO! Ser disparada se o atendimento ja estiver fechado e passado 6 horas do seu fechamento.\n            </Typography>\n            {!loading && (<Autocomplete\n              disablePortal\n              id=\"combo-box-demo\"\n              value={flowSelectedPhrase}\n              options={flowsData}\n              onChange={(event, newValue) => {\n                setFlowSelectedPhrase(newValue);\n              }}\n              sx={{ width: \"100%\" }}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  variant=\"outlined\"\n                  placeholder=\"Escolha um fluxo\"\n                />\n              )}\n              renderTags={(value, getTagProps) =>\n                value.map((option, index) => (\n                  <Chip\n                    variant=\"outlined\"\n                    label={option}\n                    {...getTagProps({ index })}\n                    style={{ borderRadius: \"8px\" }}\n                  />\n                ))\n              }\n            />)}\n            {loading && (<Stack alignSelf={'center'}>\n              <CircularProgress sx={{ color: colorPrimary() }} />\n            </Stack>)}\n          </Stack>\n\n        </Stack>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default FlowDefault;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n  Typography\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Autocomplete, Checkbox, Chip, Stack } from \"@mui/material\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n\n  btnWrapper: {\n    position: \"relative\"\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst CampaignModalPhrase = ({ open, onClose, FlowCampaignId, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n\n  const [dataItem, setDataItem] = useState({\n    name: \"\",\n    phrase: \"\"\n  });\n\n  const [dataItemError, setDataItemError] = useState({\n    name: false,\n    flowId: false,\n    phrase: false\n  });\n\n  const [flowSelected, setFlowSelected] = useState();\n  const [flowsData, setFlowsData] = useState([]);\n  const [flowsDataComplete, setFlowsDataComplete] = useState([]);\n\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\")\n  const [whatsAppNames, setWhatsAppNames] = useState([])\n  const [whatsApps, setWhatsApps] = useState([])\n  const [whatsAppSelected, setWhatsAppSelected] = useState({})\n\n  const [active, setActive] = useState(true)\n\n  const [loading, setLoading] = useState(true);\n\n  const getFlows = async () => {\n    const flows = await api.get(\"/flowbuilder\");\n    setFlowsDataComplete(flows.data.flows);\n    setFlowsData(flows.data.flows.map(flow => flow.name));\n    return flows.data.flows;\n  };\n\n  const detailsPhrase = async flows => {\n    setLoading(true);\n    await api.get(`/flowcampaign/${FlowCampaignId}`).then(res => {\n      console.log(\"dete\", res.data);\n      setDataItem({\n        name: res.data.details.name,\n        phrase: res.data.details.phrase\n      });\n      setActive(res.data.details.status)\n      const nameFlow = flows.filter(\n        itemFlows => itemFlows.id === res.data.details.flowId\n      );\n      if (nameFlow.length > 0) {\n        setFlowSelected(nameFlow[0].name);\n      }\n      setLoading(false);\n    });\n  };\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const openModal = async () => {\n    const flows = await getFlows();\n    if (FlowCampaignId) {\n      await detailsPhrase(flows);\n    } else {\n      clearData();\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true)\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => {\n            setWhatsApps(data)\n          })\n      }\n      fetchContacts();\n      setLoading(false)\n    }, 500)\n    return () => clearTimeout(delayDebounceFn)\n  }, [])\n\n\n  useEffect(() => {\n    setLoading(true)\n    if (open === true) {\n      openModal();\n    }\n  }, [open]);\n\n  const clearErrors = () => {\n    setDataItemError({\n      name: false,\n      flowId: false,\n      whatsappId: false,\n      phrase: false\n    });\n  };\n\n  const clearData = () => {\n    setFlowSelected();\n    setDataItem({\n      name: \"\",\n      phrase: \"\"\n    });\n  };\n\n  const applicationSaveAndEdit = () => {\n    let error = 0;\n    if (dataItem.name === \"\" || dataItem.name.length === 0) {\n      setDataItemError(old => ({ ...old, name: true }));\n      error++;\n    }\n    if (!flowSelected) {\n      setDataItemError(old => ({ ...old, flowId: true }));\n      error++;\n    }\n    if (dataItem.phrase === \"\" || dataItem.phrase.length === 0) {\n      setDataItemError(old => ({ ...old, phrase: true }));\n      error++;\n    }\n    if(!selectedWhatsapp){\n      setDataItemError(old => ({ ...old, whatsappId: true }))\n    }\n\n    if (error !== 0) {\n      return;\n    }\n\n    const idFlow = flowsDataComplete.filter(\n      item => item.name === flowSelected\n    )[0].id;\n\n    const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null\n\n    if (FlowCampaignId) {\n      api.put(\"/flowcampaign\", {\n        id: FlowCampaignId,\n        name: dataItem.name,\n        flowId: idFlow,\n        whatsappId: whatsappId,\n        phrase: dataItem.phrase,\n        status: active\n      })\n      onClose();\n      onSave('ok');\n      toast.success(\"Frase alterada com sucesso!\");\n      clearData();\n    } else {\n      api.post(\"/flowcampaign\", {\n        name: dataItem.name,\n        flowId: idFlow,\n        whatsappId: whatsappId,\n        phrase: dataItem.phrase\n      });\n      onClose();\n      onSave('ok');\n      toast.success(\"Frase criada com sucesso!\");\n      clearData();\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {FlowCampaignId\n                ? `Editar campanha com fluxo por frase`\n                : `Nova campanha com fluxo por frase`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input type=\"file\" ref={attachmentFile} />\n        </div>\n        {!loading && (\n          <Stack sx={{ padding: \"52px\" }}>\n            <Stack sx={{ gap: \"14px\" }}>\n              <Stack gap={1}>\n                <Typography>Nome do disparo por frase</Typography>\n                <TextField\n                  label={\"\"}\n                  name=\"text\"\n                  variant=\"outlined\"\n                  error={dataItemError.name}\n                  defaultValue={dataItem.name}\n                  margin=\"dense\"\n                  onChange={e => {\n                    setDataItem(old => {\n                      let newValue = old;\n                      newValue.name = e.target.value;\n                      return newValue;\n                    });\n                  }}\n                  className={classes.textField}\n                  style={{ width: \"100%\" }}\n                />\n              </Stack>\n              <Stack gap={1}>\n                <Typography>Escolha um fluxo</Typography>\n                <Autocomplete\n                  disablePortal\n                  id=\"combo-box-demo\"\n                  value={flowSelected}\n                  error={dataItemError.flowId}\n                  defaultValue={flowSelected}\n                  options={flowsData}\n                  onChange={(event, newValue) => {\n                    setFlowSelected(newValue);\n                  }}\n                  sx={{ width: \"100%\" }}\n                  renderInput={params => (\n                    <TextField\n                      {...params}\n                      error={dataItemError.flowId}\n                      variant=\"outlined\"\n                      style={{ width: \"100%\" }}\n                      placeholder=\"Escolha um fluxo\"\n                    />\n                  )}\n                  renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                      <Chip\n                        variant=\"outlined\"\n                        label={option}\n                        {...getTagProps({ index })}\n                        style={{ borderRadius: \"8px\" }}\n                      />\n                    ))\n                  }\n                />\n              </Stack>\n              <Stack gap={1}>\n                <Select\n                  required\n                  fullWidth\n                  displayEmpty\n                  variant=\"outlined\"\n                  value={selectedWhatsapp}\n                  onChange={(e) => {\n                    setSelectedWhatsapp(e.target.value)\n                  }}\n                  MenuProps={{\n                    anchorOrigin: {\n                      vertical: \"bottom\",\n                      horizontal: \"left\"\n                    },\n                    transformOrigin: {\n                      vertical: \"top\",\n                      horizontal: \"left\"\n                    },\n                    getContentAnchorEl: null,\n                  }}\n                  renderValue={() => {\n                    if (selectedWhatsapp === \"\") {\n                      return \"Selecione uma Conexo\"\n                    }\n                    const whatsapp = whatsApps.find(w => w.id === selectedWhatsapp)\n                    return whatsapp.name\n                  }}\n                >\n\n                  {whatsApps?.length > 0 &&\n                    whatsApps.map((whatsapp, key) => (\n                      <MenuItem dense key={key} value={whatsapp.id}>\n                        <ListItemText\n                          primary={\n                            <>\n                              <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                                {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                              </Typography>\n                            </>\n                          }\n                        />\n                      </MenuItem>\n                    ))\n                  }\n                </Select>\n              </Stack>\n              <Stack gap={1}>\n                <Typography>Qual frase dispara o fluxo?</Typography>\n                <TextField\n                  label={\"\"}\n                  name=\"text\"\n                  variant=\"outlined\"\n                  error={dataItemError.phrase}\n                  defaultValue={dataItem.phrase}\n                  margin=\"dense\"\n                  onChange={e => {\n                    setDataItem(old => {\n                      let newValue = old;\n                      newValue.phrase = e.target.value;\n                      return newValue;\n                    });\n                  }}\n                  className={classes.textField}\n                  style={{ width: \"100%\" }}\n                />\n              </Stack>\n              <Stack direction={'row'} gap={2}>\n                <Stack justifyContent={'center'}>\n                  <Typography>Status</Typography>\n                </Stack>\n                <Checkbox checked={active} onChange={() => setActive(old => !old)} />\n              </Stack>\n            </Stack>\n            <Stack\n              direction={\"row\"}\n              spacing={2}\n              alignSelf={\"end\"}\n              marginTop={\"16px\"}\n            >\n              <Button\n                variant=\"outlined\"\n                onClick={() => {\n                  onClose();\n                  clearErrors();\n                }}\n              >\n                Cancelar\n              </Button>\n              {FlowCampaignId ? (\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => applicationSaveAndEdit()}\n                >\n                  Salvar campanha\n                </Button>\n              ) : (\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => applicationSaveAndEdit()}\n                >\n                  Criar campanha\n                </Button>\n              )}\n            </Stack>\n          </Stack>\n        )}\n        {loading && (\n          <Stack\n            justifyContent={\"center\"}\n            alignItems={\"center\"}\n            minHeight={\"10vh\"}\n            sx={{ padding: \"52px\" }}\n          >\n            <CircularProgress />\n          </Stack>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModalPhrase;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AddCircle, Build, DevicesFold, TextFields } from \"@mui/icons-material\";\nimport { CircularProgress, Grid, Stack } from \"@mui/material\";\nimport { Can } from \"../../components/Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport CampaignModalPhrase from \"../../components/CampaignModalPhrase\";\nimport { colorBackgroundTable, colorLineTable, colorLineTableHover, colorTopTable } from \"../../styles/styles\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach(campaign => {\n        const campaignIndex = state.findIndex(u => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex(u => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex(u => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    backgroundColor: colorBackgroundTable(),\n    borderRadius: 12,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  }\n}));\n\nconst CampaignsPhrase = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n\n  const [campaignflows, setCampaignFlows] = useState([]);\n  const [ModalOpenPhrase, setModalOpenPhrase] = useState(false);\n  const [campaignflowSelected, setCampaignFlowSelected] = useState();\n\n  const handleDeleteCampaign = async campaignId => {\n    try {\n      await api.delete(`/flowcampaign/${campaignId}`);\n      toast.success(\"Frase deletada\");\n      getCampaigns()\n    } catch (err) {\n      toastError(err);\n    }\n    \n  };\n\n  const getCampaigns =  async() => {\n    setLoading(true);\n    await api.get(\"/flowcampaign\").then(res => {\n      setCampaignFlows(res.data.flow);\n      setLoading(false);\n    });\n  };\n\n  const onSaveModal = () => {\n    getCampaigns()\n  }\n\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n    }\n  };\n\n  useEffect(() => {\n    getCampaigns();\n  }, []);\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingContact.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModalPhrase\n        open={ModalOpenPhrase}\n        onClose={() => setModalOpenPhrase(false)}\n        FlowCampaignId={campaignflowSelected}\n        onSave={onSaveModal}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>Campanhas</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                {/* <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                /> */}\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={() => {\n                    setCampaignFlowSelected();\n                    setModalOpenPhrase(true);\n                  }}\n                  color=\"primary\"\n                  style={{ textTransform: \"none\" }}\n                >\n                  <Stack direction={\"row\"} gap={1}>\n                    <AddCircle />\n                    {\"Campanha\"}\n                  </Stack>\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Stack>\n          <Grid container style={{ padding: \"8px\" }}>\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\n              Nome\n            </Grid>\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\n              Status\n            </Grid>\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\n              {i18n.t(\"contacts.table.actions\")}\n            </Grid>\n          </Grid>\n          <>\n            {!loading &&\n              campaignflows.map(flow => (\n                <Grid\n                  container\n                  key={flow.id}\n                  sx={{\n                    padding: \"8px\",\n                    backgroundColor: colorLineTable(),\n                    borderRadius: 4,\n                    marginTop: 0.5,\n                    \"&:hover\": {\n                      backgroundColor: colorLineTableHover()\n                    }\n                  }}\n                >\n                  <Grid item xs={4}>\n                    <Stack\n                      justifyContent={\"center\"}\n                      height={\"100%\"}\n                      style={{ color: \"#ededed\" }}\n                    >\n                      <Stack direction={\"row\"}>\n                        <TextFields />\n                        <Stack justifyContent={\"center\"} marginLeft={1}>\n                          {flow.name}\n                        </Stack>\n                      </Stack>\n                    </Stack>\n                  </Grid>\n                  <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}>\n                    <Stack justifyContent={\"center\"} height={\"100%\"}>\n                      {flow.status ? \"Ativo\" : \"Desativado\"}\n                    </Stack>\n                  </Grid>\n                  <Grid item xs={4} align=\"end\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setCampaignFlowSelected(flow.id);\n                        setModalOpenPhrase(true);\n                      }}\n                    >\n                      <EditIcon style={{ color: \"#ededed\" }} />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={e => {\n                            setConfirmModalOpen(true);\n                            setDeletingContact(flow);\n                          }}\n                        >\n                          <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\n                        </IconButton>\n                      )}\n                    />\n                  </Grid>\n                </Grid>\n              ))}\n            {loading && (\n              <Stack\n                justifyContent={\"center\"}\n                alignItems={\"center\"}\n                minHeight={\"50vh\"}\n              >\n                <CircularProgress />\n              </Stack>\n            )}\n          </>\n        </Stack>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsPhrase;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport moment from \"moment\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n  const [dueDate, setDueDate] = useState(\"\");\n  const { returnDays } = useDate();\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  useEffect(() => {\n    const currentDueDate = localStorage.getItem(\"dueDate\");\n    if (currentDueDate !== \"\" && currentDueDate !== \"null\") {\n      setDueDate(moment(currentDueDate).format(\"DD/MM/YYYY\"));\n    }\n  }, []);\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Perodo de Licena\"\n              // defaultValue={`Sua licena vence em ${returnDays(user?.company?.dueDate)} dias!`}\n              defaultValue={returnDays(user?.company?.dueDate) === 0 ? `Sua licena vence em hoje!` : `Sua licena vence em ${returnDays(user?.company?.dueDate)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true, }}\n              InputProps={{ readOnly: true, }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrana\"\n              defaultValue={user?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","export default __webpack_public_path__ + \"static/media/n8n.55dcf941.png\";","export default __webpack_public_path__ + \"static/media/webhook.20ba7126.png\";","export default __webpack_public_path__ + \"static/media/flowbuilders.5301f11e.png\";","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Typography,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  TextField,\n  Grid,\n  Paper,\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  btnLeft: {\n    display: \"flex\",\n    marginRight: \"auto\",\n    marginLeft: 12,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst DialogflowSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  // projectName: Yup.string()\n  //   .min(3, \"Too Short!\")\n  //   .max(100, \"Too Long!\")\n  //   .required(),\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\n});\n\n\n\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    type: \"typebot\",\n    name: \"\",\n    projectName: \"\",\n    jsonContent: \"\",\n    language: \"\",\n    urlN8N: \"\",\n    typebotDelayMessage: 1000,\n    typebotExpires: 1,\n    typebotKeywordFinish: \"\",\n    typebotKeywordRestart: \"\",\n    typebotRestartMessage: \"\",\n    typebotSlug: \"\",\n    typebotUnknownMessage: \"\",\n\n  };\n\n  const [integration, setIntegration] = useState(initialState);\n\n  useEffect(() => {\n    (async () => {\n      if (!integrationId) return;\n      try {\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\n        setIntegration((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setIntegration({\n        type: \"dialogflow\",\n        name: \"\",\n        projectName: \"\",\n        jsonContent: \"\",\n        language: \"\",\n        urlN8N: \"\",\n        typebotDelayMessage: 1000\n      });\n    };\n\n  }, [integrationId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setIntegration(initialState);\n  };\n\n  const handleTestSession = async (event, values) => {\n    try {\n      const { projectName, jsonContent, language } = values;\n\n      await api.post(`/queueIntegration/testSession`, {\n        projectName,\n        jsonContent,\n        language,\n      });\n\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDialogflow = async (values) => {\n\n    try {\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot' || values.type === \"flowbuilder\") values.projectName = values.name\n      if (integrationId) {\n        await api.put(`/queueIntegration/${integrationId}`, values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\n      } else {\n        await api.post(\"/queueIntegration\", values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\n      }\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n\n\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\n        <DialogTitle>\n          {integrationId\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={DialogflowSchema}\n          onSubmit={(values, actions, event) => {\n            setTimeout(() => {\n              handleSaveDialogflow(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <Paper square className={classes.mainPaper} elevation={1}>\n                <DialogContent dividers>\n                  <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} xl={6}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        margin=\"dense\"\n                        fullWidth\n                      >\n                        <InputLabel id=\"type-selection-input-label\">\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\n                        </InputLabel>\n\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\n                          name=\"type\"\n                          labelId=\"profile-selection-label\"\n                          error={touched.type && Boolean(errors.type)}\n                          helpertext={touched.type && errors.type}\n                          id=\"type\"\n                          required\n                        >\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\n                          <MenuItem value=\"flowbuilder\">Flowbuilder</MenuItem>\n                        </Field>\n                      </FormControl>\n                    </Grid>\n                    {values.type === \"dialogflow\" && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            fullWidth\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <FormControl\n                            variant=\"outlined\"\n                            className={classes.formControl}\n                            margin=\"dense\"\n                            fullWidth\n                          >\n                            <InputLabel id=\"language-selection-input-label\">\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\n                            </InputLabel>\n\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\n                              name=\"language\"\n                              labelId=\"profile-selection-label\"\n                              fullWidth\n                              error={touched.language && Boolean(errors.language)}\n                              helpertext={touched.language && errors.language}\n                              id=\"language-selection\"\n                              required\n                            >\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\n                              <MenuItem value=\"en\">Ingls</MenuItem>\n                              <MenuItem value=\"es\">Espaol</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\n                            name=\"projectName\"\n                            error={touched.projectName && Boolean(errors.projectName)}\n                            helpertext={touched.projectName && errors.projectName}\n                            fullWidth\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\n                            type=\"jsonContent\"\n                            multiline\n                            //inputRef={greetingRef}\n                            maxRows={5}\n                            minRows={5}\n                            fullWidth\n                            name=\"jsonContent\"\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\n                            helpertext={touched.jsonContent && errors.jsonContent}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            required\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"flowbuilder\") && (\n                      <Grid item xs={12} md={6} xl={6} >\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"queueIntegrationModal.form.name\")}\n                          autoFocus\n                          name=\"name\"\n                          fullWidth\n                          error={touched.name && Boolean(errors.name)}\n                          helpertext={touched.name && errors.name}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          className={classes.textField}\n                        />\n                      </Grid>\n                    )}\n                    {(values.type === \"typebot\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\n                            name=\"typebotSlug\"\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\n                            required\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\n                            name=\"typebotExpires\"\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\n                            name=\"typebotDelayMessage\"\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\n                            name=\"typebotKeywordFinish\"\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\n                            name=\"typebotKeywordRestart\"\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\n                            name=\"typebotUnknownMessage\"\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\n                            name=\"typebotRestartMessage\"\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n\n                      </>\n                    )}\n                  </Grid>\n                </DialogContent>\n              </Paper>\n\n              <DialogActions>\n                {values.type === \"dialogflow\" && (\n                  <Button\n                    //type=\"submit\"\n                    onClick={(e) => handleTestSession(e, values)}\n                    color=\"inherit\"\n                    disabled={isSubmitting}\n                    name=\"testSession\"\n                    variant=\"outlined\"\n                    className={classes.btnLeft}\n                  >\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {integrationId\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\nimport flowbuilder from \"../../assets/flowbuilders.png\"\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\n\nimport {\n  DeleteOutline,\n  Edit\n} from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\"Esta empresa no possui permisso para acessar essa pgina! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n\n    const onQueueEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    };\n\n    socket.on(`company-${companyId}-queueIntegration`, onQueueEvent);\n    return () => {\n      socket.off(`company-${companyId}-queueIntegration`, onQueueEvent);\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <TextField\n                placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n                type=\"search\"\n                value={searchParam}\n                onChange={handleSearch}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon color=\"secondary\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenUserModal}\n              >\n                {i18n.t(\"queueIntegration.buttons.add\")}\n              </Button>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n          <Paper\n            className={classes.mainPaper}\n            variant=\"outlined\"\n            onScroll={handleScroll}\n          >\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell padding=\"checkbox\"></TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {queueIntegration.map((integration) => (\n                    <TableRow key={integration.id}>\n                      <TableCell >\n                        {integration.type === \"dialogflow\" && (<Avatar\n                          src={dialogflow} className={classes.avatar} />)}\n                        {integration.type === \"n8n\" && (<Avatar\n                          src={n8n} className={classes.avatar} />)}\n                        {integration.type === \"webhook\" && (<Avatar\n                          src={webhooks} className={classes.avatar} />)}\n                        {integration.type === \"typebot\" && (<Avatar\n                          src={typebot} className={classes.avatar} />)}\n                          {integration.type === \"flowbuilder\" && (<Avatar\n                          src={flowbuilder} className={classes.avatar} />)}\n                      </TableCell>\n\n                      <TableCell align=\"center\">{integration.id}</TableCell>\n                      <TableCell align=\"center\">{integration.name}</TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditIntegration(integration)}\n                        >\n                          <Edit color=\"secondary\" />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmModalOpen(true);\n                            setDeletingUser(integration);\n                          }}\n                        >\n                          <DeleteOutline color=\"secondary\" />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {loading && <TableRowSkeleton columns={7} />}\n                </>\n              </TableBody>\n            </Table>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Grid,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: 4\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 2000,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst FileListSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatrio\"),\n    message: Yup.string()\n        .required(\"Obrigatrio\")\n});\n\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n\n    const [files, setFiles] = useState([]);\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\n\n\n    const initialState = {\n        name: \"\",\n        message: \"\",\n        options: [{ name: \"\", path: \"\", mediaType: \"\" }],\n    };\n\n    const [fileList, setFileList] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!fileListId) return;\n\n                const { data } = await api.get(`/files/${fileListId}`);\n                setFileList(data);\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [fileListId, open]);\n\n    const handleClose = () => {\n        setFileList(initialState);\n        setFiles([]);\n        onClose();\n    };\n\n    const handleSaveFileList = async (values) => {\n\n        const uploadFiles = async (options, filesOptions, id) => {\n            const formData = new FormData();\n            formData.append(\"fileId\", id);\n            formData.append(\"typeArch\", \"fileList\")\n            filesOptions.forEach((fileOption, index) => {\n                if (fileOption.file) {\n                    formData.append(\"files\", fileOption.file);\n                    formData.append(\"mediaType\", fileOption.file.type)\n                    formData.append(\"name\", options[index].name);\n                    formData.append(\"id\", options[index].id);\n                }\n            });\n\n            try {\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\n                setFiles([]);\n                return data;\n            } catch (err) {\n                toastError(err);\n            }\n            return null;\n        }\n\n        const fileData = { ...values, userId: user.id };\n\n        try {\n            if (fileListId) {\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\n                if (data.options.length > 0)\n                    // console.log(values.options)\n                    uploadFiles(data.options, values.options, fileListId)\n            } else {\n                const { data } = await api.post(\"/files\", fileData);\n                if (data.options.length > 0)\n                    uploadFiles(data.options, values.options, data.id)\n            }\n            toast.success(i18n.t(\"fileModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={fileList}\n                    enableReinitialize={true}\n                    validationSchema={FileListSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveFileList(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (\n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Grid container spacing={0}>\n                                                            <Grid xs={6} md={10} item>\n                                                                <Field\n                                                                    as={TextField}\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\n                                                                    name={`options[${index}].name`}\n                                                                    variant=\"outlined\"\n                                                                    margin=\"dense\"\n                                                                    multiline\n                                                                    fullWidth\n                                                                    minRows={2}\n                                                                    className={classes.textField}\n                                                                />\n                                                            </Grid>\n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    onChange={(e) => {\n                                                                        const selectedFile = e.target.files[0];\n                                                                        const updatedOptions = [...values.options];\n                                                                        updatedOptions[index].file = selectedFile;\n                                                                        setFiles('options', updatedOptions);\n\n                                                                        // Atualize a lista selectedFileNames para o campo especfico\n                                                                        const updatedFileNames = [...selectedFileNames];\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\n                                                                        setSelectedFileNames(updatedFileNames);\n                                                                    }}\n                                                                    style={{ display: 'none' }}\n                                                                    name={`options[${index}].file`}\n                                                                    id={`file-upload-${index}`}\n                                                                />\n                                                                <label htmlFor={`file-upload-${index}`}>\n                                                                    <IconButton component=\"span\">\n                                                                        <AttachFileIcon />\n                                                                    </IconButton>\n                                                                </label>\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    onClick={() => remove(index)}\n                                                                >\n                                                                    <DeleteOutlineIcon />\n                                                                </IconButton>\n                                                            </Grid>\n                                                            <Grid xs={12} md={12} item>\n                                                                {info.path ? info.path : selectedFileNames[index]}\n                                                            </Grid>\n                                                        </Grid>\n                                                    </div>\n\n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => {\n                                                        push({ name: \"\", path: \"\" });\n                                                        setSelectedFileNames([...selectedFileNames, \"\"]);\n                                                    }}\n                                                >\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {fileListId\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FilesModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport FileModal from \"../../components/FileModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_FILES\") {\n        const files = action.payload;\n        const newFiles = [];\n\n        files.forEach((fileList) => {\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n            if (fileListIndex !== -1) {\n                state[fileListIndex] = fileList;\n            } else {\n                newFiles.push(fileList);\n            }\n        });\n\n        return [...state, ...newFiles];\n    }\n\n    if (action.type === \"UPDATE_FILES\") {\n        const fileList = action.payload;\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n\n        if (fileListIndex !== -1) {\n            state[fileListIndex] = fileList;\n            return [...state];\n        } else {\n            return [fileList, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_FILE\") {\n        const fileListId = action.payload;\n\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\n        if (fileListIndex !== -1) {\n            state.splice(fileListIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst FileLists = () => {\n    const classes = useStyles();\n\n    //   const socketManager = useContext(SocketContext);\n    const { user, socket } = useContext(AuthContext);\n\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedFileList, setSelectedFileList] = useState(null);\n    const [deletingFileList, setDeletingFileList] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [files, dispatch] = useReducer(reducer, []);\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\n\n    const fetchFileLists = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/files/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchFileLists();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchFileLists]);\n\n    useEffect(() => {\n        // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n        const onFileEvent = (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_FILE\", payload: +data.fileId });\n            }\n        };\n\n        socket.on(`company-${user.companyId}-file`, onFileEvent);\n        return () => {\n            socket.off(`company-${user.companyId}-file`, onFileEvent);\n        };\n    }, [socket]);\n\n    const handleOpenFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(true);\n    };\n\n    const handleCloseFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditFileList = (fileList) => {\n        setSelectedFileList(fileList);\n        setFileListModalOpen(true);\n    };\n\n    const handleDeleteFileList = async (fileListId) => {\n        try {\n            await api.delete(`/files/${fileListId}`);\n            toast.success(i18n.t(\"files.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingFileList(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchFileLists();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\n            >\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <FileModal\n                open={fileListModalOpen}\n                onClose={handleCloseFileListModal}\n                reload={fetchFileLists}\n                aria-labelledby=\"form-dialog-title\"\n                fileListId={selectedFileList && selectedFileList.id}\n            />\n            {user.profile === \"user\" ?\n                <ForbiddenPage />\n                :\n                <>\n                    <MainHeader>\n                        <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\n                        <MainHeaderButtonsWrapper>\n                            <TextField\n                                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                                type=\"search\"\n                                value={searchParam}\n                                onChange={handleSearch}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <SearchIcon style={{ color: \"gray\" }} />\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleOpenFileListModal}\n                            >\n                                {i18n.t(\"files.buttons.add\")}\n                            </Button>\n                        </MainHeaderButtonsWrapper>\n                    </MainHeader>\n                    <Paper\n                        className={classes.mainPaper}\n                        variant=\"outlined\"\n                        onScroll={handleScroll}\n                    >\n                        <Table size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {i18n.t(\"files.table.actions\")}\n                                    </TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                <>\n                                    {files.map((fileList) => (\n                                        <TableRow key={fileList.id}>\n                                            <TableCell align=\"center\">\n                                                {fileList.name}\n                                            </TableCell>\n                                            <TableCell align=\"center\">\n                                                <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\n                                                    <EditIcon />\n                                                </IconButton>\n\n                                                <IconButton\n                                                    size=\"small\"\n                                                    onClick={(e) => {\n                                                        setConfirmModalOpen(true);\n                                                        setDeletingFileList(fileList);\n                                                    }}\n                                                >\n                                                    <DeleteOutlineIcon />\n                                                </IconButton>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))}\n                                    {loading && <TableRowSkeleton columns={4} />}\n                                </>\n                            </TableBody>\n                        </Table>\n                    </Paper>\n                </>}\n        </MainContainer>\n    );\n};\n\nexport default FileLists;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst useStyles = makeStyles((theme)=> ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem'\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem'\n  },\n  input: {\n    flexGrow: 1,\n    marginRight: '1rem'\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n    marginTop: '1rem',\n    backgroundColor: theme.palette.background.primary,\n    borderRadius: '5px',\n  },\n  list: {\n    marginBottom: '5px',\n    color: theme.palette.text.primary\n  }\n}));\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n\n  useEffect(() => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      setTasks(JSON.parse(savedTasks));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleAddTask = () => {\n    if (!task.trim()) {\n      // Impede que o usurio crie uma tarefa sem texto\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      // Editar tarefa existente\n      const newTasks = [...tasks];\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\n      setTasks(newTasks);\n      setTask('');\n      setEditIndex(-1);\n    } else {\n      // Adicionar nova tarefa\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\n      setTask('');\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = (index) => {\n    const newTasks = [...tasks];\n    newTasks.splice(index, 1);\n    setTasks(newTasks);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        <List>\n          {tasks.map((task, index) => (\n            <ListItem key={index} className={classes.list}>\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\n              <ListItemSecondaryAction>\n                <IconButton onClick={() => handleEditTask(index)}>\n                  <EditIcon />\n                </IconButton>\n                <IconButton onClick={() => handleDeleteTask(index)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\n\nexport default ToDoList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport { Badge, Tooltip, Typography, Button, TextField, Box } from \"@material-ui/core\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  kanbanContainer: {\n    width: \"100%\",\n    maxWidth: \"1200px\",\n    margin: \"0 auto\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    borderRadius: 3,\n    fontSize: \"0.6em\",\n  },\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    marginLeft: \"auto\",\n    color: theme.palette.text.secondary,\n  },\n  lastMessageTimeUnread: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    color: theme.palette.success.main,\n    fontWeight: \"bold\",\n    marginLeft: \"auto\"\n  },\n  cardButton: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.primary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.dark,\n    },\n  },\n  dateInput: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const theme = useTheme(); // Obter o tema atual\n  const history = useHistory();\n  const { user, socket } = useContext(AuthContext);\n  const [tags, setTags] = useState([]);\n  const [tickets, setTickets] = useState([]);\n  const [ticketNot, setTicketNot] = useState(0);\n  const [file, setFile] = useState({ lanes: [] });\n  const [startDate, setStartDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n  const [endDate, setEndDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  useEffect(() => {\n    fetchTags();\n  }, [user]);\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tag/kanban/\");\n      const fetchedTags = response.data.lista || [];\n      setTags(fetchedTags);\n      fetchTickets();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fetchTickets = async () => {\n    try {\n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          startDate: startDate,\n          endDate: endDate,\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const onAppMessage = (data) => {\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\n        fetchTickets();\n      }\n    };\n    socket.on(`company-${companyId}-ticket`, onAppMessage);\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\n\n    return () => {\n      socket.off(`company-${companyId}-ticket`, onAppMessage);\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\n    };\n  }, [socket, startDate, endDate]);\n\n  const handleSearchClick = () => {\n    fetchTickets();\n  };\n\n  const handleStartDateChange = (event) => {\n    setStartDate(event.target.value);\n  };\n\n  const handleEndDateChange = (event) => {\n    setEndDate(event.target.value);\n  };\n\n  const IconChannel = (channel) => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\n      case \"instagram\":\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\n      case \"whatsapp\":\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\", fontSize: \"16px\" }} />\n      default:\n        return \"error\";\n    }\n  };\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"tagsKanban.laneDefault\"),\n        label: filteredTickets.length.toString(),\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket n \" + ticket.id.toString(),\n          description: (\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <span>{ticket.contact.number}</span>\n                <Typography\n                  className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\n                  component=\"span\"\n                  variant=\"body2\"\n                >\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                  ) : (\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                  )}\n                </Typography>\n              </div>\n              <div style={{ textAlign: 'left' }}>{ticket.lastMessage || \" \"}</div>\n              <Button\n                className={`${classes.button} ${classes.cardButton}`}\n                onClick={() => {\n                  handleCardClick(ticket.uuid)\n                }}>\n                Ver Ticket\n              </Button>\n              <span style={{ marginRight: '8px' }} />\n              {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\n            </div>\n          ),\n          title: <>\n            <Tooltip title={ticket.whatsapp?.name}>\n              {IconChannel(ticket.channel)}\n            </Tooltip> {ticket.contact.name}</>,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: filteredTickets?.length.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket n \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage || \" \"}\n                </p>\n                <Button\n                  className={`${classes.button} ${classes.cardButton}`}\n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                  Ver Ticket\n                </Button>\n                <span style={{ marginRight: '8px' }} />\n                <p>\n                  {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\n                </p>\n              </div>\n            ),\n            title: <>\n              <Tooltip title={ticket.whatsapp?.name}>\n                {IconChannel(ticket.channel)}\n              </Tooltip> {ticket.contact.name}\n            </>,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,\n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n  }, [tags, tickets]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n      await api.delete(`/ticket-tags/${targetLaneId}`);\n      toast.success('Ticket Tag Removido!');\n      await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n      toast.success('Ticket Tag Adicionado com Sucesso!');\n      await fetchTickets(jsonString);\n      popularCards(jsonString);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleAddConnectionClick = () => {\n    history.push('/tagsKanban');\n  };\n\n  return (\n    <div className={classes.root}>\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px', width: '100%', maxWidth: '1200px' }}>\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <TextField\n            label=\"Data de incio\"\n            type=\"date\"\n            value={startDate}\n            onChange={handleStartDateChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            variant=\"outlined\"\n            className={classes.dateInput}\n          />\n          <Box mx={1} />\n          <TextField\n            label=\"Data de fim\"\n            type=\"date\"\n            value={endDate}\n            onChange={handleEndDateChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            variant=\"outlined\"\n            className={classes.dateInput}\n          />\n          <Box mx={1} />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleSearchClick}\n          >\n            Buscar\n          </Button>\n        </div>\n        <Can role={user.profile} perform=\"dashboard:view\" yes={() => (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleAddConnectionClick}\n          >\n            {'+ Adicionar colunas'}\n          </Button>\n        )} />\n      </div>\n      <div className={classes.kanbanContainer}>\n        <Board\n          data={file}\n          onCardMoveAcrossLanes={handleCardMove}\n          style={{ backgroundColor: 'rgba(252, 252, 252, 0.03)' }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Kanban;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\"; // Importe o useHistory\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { CheckCircle } from \"@material-ui/icons\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAGS\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n  const history = useHistory(); // Inicialize o useHistory\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTags = async () => {\n        try {\n          const { data } = await api.get(\"/tags/\", {\n            params: { searchParam, pageNumber, kanban: 1 },\n          });\n          dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n    const onTagsEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\n      }\n    };\n    socket.on(`company${user.companyId}-tag`, onTagsEvent);\n\n    return () => {\n      socket.off(`company${user.companyId}-tag`, onTagsEvent);\n    };\n  }, [socket]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleReturnToKanban = () => {\n    history.push(\"/kanban\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tagsKanban.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tagsKanban.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {tagModalOpen && (\n        <TagModal\n          open={tagModalOpen}\n          onClose={handleCloseTagModal}\n          aria-labelledby=\"form-dialog-title\"\n          tagId={selectedTag && selectedTag.id}\n          kanban={1}\n        />\n      )}\n      <MainHeader>\n        <Title>{i18n.t(\"tagsKanban.title\")} ({tags.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tagsKanban.buttons.add\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleReturnToKanban}\n          >\n            {'Voltar para o Kanban'}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.tickets\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag?.ticketTags ? (<span>{tag?.ticketTags?.length}</span>) : <span>0</span>}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup\";\nimport Login from \"../pages/Login\";\nimport Connections from \"../pages/Connections\";\nimport SettingsCustom from \"../pages/SettingsCustom\";\nimport Financeiro from \"../pages/Financeiro\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts\";\nimport ContactImportPage from \"../pages/Contacts/import\";\nimport ChatMoments from \"../pages/Moments\"\nimport Queues from \"../pages/Queues\";\nimport Tags from \"../pages/Tags\";\nimport MessagesAPI from \"../pages/MessagesAPI\";\nimport Helps from \"../pages/Helps\";\nimport ContactLists from \"../pages/ContactLists\";\nimport ContactListItems from \"../pages/ContactListItems\";\nimport Companies from \"../pages/Companies\";\nimport QuickMessages from \"../pages/QuickMessages\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport Prompts from \"../pages/Prompts\";\nimport AllConnections from \"../pages/AllConnections\";\nimport Reports from \"../pages/Reports\";\nimport { FlowBuilderConfig } from \"../pages/FlowBuilderConfig\";\n// import Integrations from '../pages/Integrations';\n// import GoogleCalendarComponent from '../pages/Integrations/components/GoogleCalendarComponent';\nimport FlowBuilder from \"../pages/FlowBuilder\";\nimport FlowDefault from \"../pages/FlowDefault\"\nimport CampaignsPhrase from \"../pages/CampaignsPhrase\";\nimport Subscription from \"../pages/Subscription\";\nimport QueueIntegration from \"../pages/QueueIntegration\";\nimport Files from \"../pages/Files\";\nimport ToDoList from \"../pages/ToDoList\";\nimport Kanban from \"../pages/Kanban\";\nimport TagsKanban from \"../pages/TagsKanban\";\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/financeiro\" component={Financeiro} isPrivate />\n\n                <Route exact path=\"/companies\" component={Companies} isPrivate />\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route exact path=\"/tickets/:ticketId?\" component={TicketResponsiveContainer} isPrivate />\n                <Route exact path=\"/connections\" component={Connections} isPrivate />\n                <Route exact path=\"/quick-messages\" component={QuickMessages} isPrivate />\n                <Route exact path=\"/todolist\" component={ToDoList} isPrivate />\n                <Route exact path=\"/schedules\" component={Schedules} isPrivate />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/contacts/import\" component={ContactImportPage} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/messages-api\" component={MessagesAPI} isPrivate />\n                <Route exact path=\"/settings\" component={SettingsCustom} isPrivate />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route exact path=\"/reports\" component={Reports} isPrivate />\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\n                <Route exact path=\"/announcements\" component={Annoucements} isPrivate />\n                <Route\n                  exact\n                  path=\"/phrase-lists\"\n                  component={CampaignsPhrase}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/flowbuilders\"\n                  component={FlowBuilder}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/flowbuilder/:id?\"\n                  component={FlowBuilderConfig}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                <Route exact path=\"/files\" component={Files} isPrivate />\n                <Route exact path=\"/moments\" component={ChatMoments} isPrivate />\n                <Route exact path=\"/Kanban\" component={Kanban} isPrivate />\n                <Route exact path=\"/TagsKanban\" component={TagsKanban} isPrivate />\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\n                <Route exact path=\"/allConnections\" component={AllConnections} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route exact path=\"/contact-lists\" component={ContactLists} isPrivate />\n                    <Route exact path=\"/contact-lists/:contactListId/contacts\" component={ContactListItems} isPrivate />\n                    <Route exact path=\"/campaigns\" component={Campaigns} isPrivate />\n                    <Route exact path=\"/campaign/:campaignId/report\" component={CampaignReport} isPrivate />\n                    <Route exact path=\"/campaigns-config\" component={CampaignsConfig} isPrivate />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer position=\"top-center\" autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect, useMemo } from \"react\";\nimport api from \"./services/api\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\nimport { ActiveMenuProvider } from \"./context/ActiveMenuContext\";\nimport Favicon from \"react-favicon\";\nimport { getBackendUrl } from \"./config\";\nimport Routes from \"./routes\";\nimport defaultLogoLight from \"./assets/logo.png\";\nimport defaultLogoDark from \"./assets/logo-black.png\";\nimport defaultLogoFavicon from \"./assets/favicon.ico\";\nimport useSettings from \"./hooks/useSettings\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n  const appColorLocalStorage = localStorage.getItem(\"primaryColorLight\") || localStorage.getItem(\"primaryColorDark\") || \"#065183\";\n  const appNameLocalStorage = localStorage.getItem(\"appName\") || \"\";\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n  const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n  const [primaryColorLight, setPrimaryColorLight] = useState(appColorLocalStorage);\n  const [primaryColorDark, setPrimaryColorDark] = useState(appColorLocalStorage);\n  const [appLogoLight, setAppLogoLight] = useState(defaultLogoLight);\n  const [appLogoDark, setAppLogoDark] = useState(defaultLogoDark);\n  const [appLogoFavicon, setAppLogoFavicon] = useState(defaultLogoFavicon);\n  const [appName, setAppName] = useState(appNameLocalStorage);\n  const { getPublicSetting } = useSettings();\n\n  const colorMode = useMemo(\n    () => ({\n      toggleColorMode: () => {\n        setMode((prevMode) => {\n          const newMode = prevMode === \"light\" ? \"dark\" : \"light\";\n          window.localStorage.setItem(\"preferredTheme\", newMode); // Persistindo o tema no localStorage\n          return newMode;\n        });\n      },\n      setPrimaryColorLight,\n      setPrimaryColorDark,\n      setAppLogoLight,\n      setAppLogoDark,\n      setAppLogoFavicon,\n      setAppName,\n      appLogoLight,\n      appLogoDark,\n      appLogoFavicon,\n      appName,\n      mode,\n    }),\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, mode]\n  );\n\n  const theme = useMemo(\n    () =>\n      createTheme(\n        {\n          scrollbarStyles: {\n            \"&::-webkit-scrollbar\": {\n              width: \"8px\",\n              height: \"8px\",\n            },\n            \"&::-webkit-scrollbar-thumb\": {\n              boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n              backgroundColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\n            },\n          },\n          scrollbarStylesSoft: {\n            \"&::-webkit-scrollbar\": {\n              width: \"8px\",\n            },\n            \"&::-webkit-scrollbar-thumb\": {\n              backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n            },\n          },\n          palette: {\n            type: mode,\n            primary: { main: mode === \"light\" ? primaryColorLight : primaryColorDark },\n            textPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\n            borderPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\n            dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\n            light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n            fontColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\n            tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\n            optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n            fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n            total: mode === \"light\" ? \"#fff\" : \"#222\",\n            messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n            inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n            barraSuperior: mode === \"light\" ? primaryColorLight : \"#666\",\n          },\n          mode,\n          appLogoLight,\n          appLogoDark,\n          appLogoFavicon,\n          appName,\n          calculatedLogoDark: () => {\n            if (appLogoDark === defaultLogoDark && appLogoLight !== defaultLogoLight) {\n              return appLogoLight;\n            }\n            return appLogoDark;\n          },\n          calculatedLogoLight: () => {\n            if (appLogoDark !== defaultLogoDark && appLogoLight === defaultLogoLight) {\n              return appLogoDark;\n            }\n            return appLogoLight;\n          },\n        },\n        locale\n      ),\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, locale, mode, primaryColorDark, primaryColorLight]\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale = i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.localStorage.setItem(\"preferredTheme\", mode);\n  }, [mode]);\n\n  useEffect(() => {\n    console.log(\"|=========== handleSaveSetting ==========|\")\n    console.log(\"APP START\")\n    console.log(\"|========================================|\")\n   \n    \n    getPublicSetting(\"primaryColorLight\")\n      .then((color) => {\n        setPrimaryColorLight(color || \"#0000FF\");\n      })\n      .catch((error) => {\n        console.log(\"Error reading setting\", error);\n      });\n    getPublicSetting(\"primaryColorDark\")\n      .then((color) => {\n        setPrimaryColorDark(color || \"#39ACE7\");\n      })\n      .catch((error) => {\n        console.log(\"Error reading setting\", error);\n      });\n    getPublicSetting(\"appLogoLight\")\n      .then((file) => {\n        setAppLogoLight(file ? getBackendUrl() + \"/public/\" + file : defaultLogoLight);\n      })\n      .catch((error) => {\n        console.log(\"Error reading setting\", error);\n      });\n    getPublicSetting(\"appLogoDark\")\n      .then((file) => {\n        setAppLogoDark(file ? getBackendUrl() + \"/public/\" + file : defaultLogoDark);\n      })\n      .catch((error) => {\n        console.log(\"Error reading setting\", error);\n      });\n    getPublicSetting(\"appLogoFavicon\")\n      .then((file) => {\n        setAppLogoFavicon(file ? getBackendUrl() + \"/public/\" + file : defaultLogoFavicon);\n      })\n      .catch((error) => {\n        console.log(\"Error reading setting\", error);\n      });\n    getPublicSetting(\"appName\")\n      .then((name) => {\n        setAppName(name || \"WORKZAP\");\n      })\n      .catch((error) => {\n        console.log(\"!==== Erro ao carregar temas: ====!\", error);\n        setAppName(\"WORKZAP\");\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const root = document.documentElement;\n    root.style.setProperty(\"--primaryColor\", mode === \"light\" ? primaryColorLight : primaryColorDark);\n  }, [primaryColorLight, primaryColorDark, mode]);\n\n  useEffect(() => {\n    async function fetchVersionData() {\n      try {\n        const response = await api.get(\"/version\");\n        const { data } = response;\n        window.localStorage.setItem(\"frontendVersion\", data.version);\n      } catch (error) {\n        console.log(\"Error fetching data\", error);\n      }\n    }\n    fetchVersionData();\n  }, []);\n\n  return (\n    <>\n      <Favicon url={appLogoFavicon ? getBackendUrl() + \"/public/\" + appLogoFavicon : defaultLogoFavicon} />\n      <ColorModeContext.Provider value={{ colorMode }}>\n        <ThemeProvider theme={theme}>\n          <QueryClientProvider client={queryClient}>\n            <ActiveMenuProvider>\n              <Routes />\n            </ActiveMenuProvider>\n          </QueryClientProvider>\n        </ThemeProvider>\n      </ColorModeContext.Provider>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport * as serviceworker from './serviceWorker'\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\"),\n\t() => {\n\t\twindow.finishProgress();\n\t}\n);\n\nserviceworker.register()","export function register() {\n  console.log(\"Registrando service worker\", navigator)\n  if ('serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      navigator.serviceWorker.register(swUrl)\n        .then((registration) => {\n          console.log('Service worker registrado com sucesso!', registration);\n        })\n        .catch((error) => {\n          console.error('Erro durante o registro do service worker:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error('Erro durante o desregistro do service worker:', error);\n      });\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/favicon.26bbeae4.ico\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADJCAMAAABYMS1zAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABtlBMVEXk5ufj5ebk5ebk5ubk5ujk5Obi5Obk5Ojm6Ojo6Oro7Ozs7vDq7Ozk6Oje4OLY3NzU2NjQ1NbQ1NTc4OLj5efs7Ozs8PDIzM68wMSwtriqsLKmrLCkrLCkrK6orLDY2tzm6Oru7vC8wMKqsLSkqq6orrKssrSstLautLiosLLQ0tTu8PDo6uzc3uDAxsikqqyorrCwtLiutLets7bAxMja3ODi5OS4vMC4vL7g4uSkqKzu8PLs7O7EyMzEyMqus7bw8PLKztCiqKzIzNCgqKyyuLqutLassLTo6Oi0ury0uLzj5ufw8PDAxMbM0NSgqKqiqKrM0NLg5OTg4OTk5ee8wsTc4OCts7fa3N66vsCttLe+xMTs7u7M0NC4vsCosLTj5uba3NymrK7MztCkqrDKzNCyuLzU2NrO0tTS1tjGyszU1tiwuLjEyMjW2NzCxsi0vLy8vsLO0NTS2NjGzMyqrrLIzMy8wMDCyMjAxMSyuLi2vL7c4OTq7O6wtLbW2tyus7fEyszY3N6stLTw8vSstLiqsrTw8vKqrrDK0NC4vsLo6Oy6wMC6wMKgpKicoKTg4OL///+JFsWqAAAAAWJLR0SRDw2+mgAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+cICQo3GXMWCPMAAAABb3JOVAHPoneaAAAAtGVYSWZJSSoACAAAAAYAEgEDAAEAAAABAAAAGgEFAAEAAABWAAAAGwEFAAEAAABeAAAAKAEDAAEAAAACAAAAEwIDAAEAAAABAAAAaYcEAAEAAABmAAAAAAAAAC8ZAQDoAwAALxkBAOgDAAAGAACQBwAEAAAAMDIxMAGRBwAEAAAAAQIDAACgBwAEAAAAMDEwMAGgAwABAAAA//8AAAKgAwABAAAAzAAAAAOgAwABAAAAyQAAAAAAAAAhqaDfAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA4LTA5VDEwOjU1OjI1KzAwOjAw+1J2QwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wOC0wOVQxMDo1NToyNSswMDowMIoPzv8AAAAVdEVYdGV4aWY6Q29sb3JTcGFjZQA2NTUzNTN7AG4AAAAndEVYdGV4aWY6Q29tcG9uZW50c0NvbmZpZ3VyYXRpb24AMSwgMiwgMywgMFWkI78AAAATdEVYdGV4aWY6RXhpZk9mZnNldAAxMDJzQimnAAAAH3RFWHRleGlmOkV4aWZWZXJzaW9uADQ4LCA1MCwgNDksIDQ40p+IugAAACN0RVh0ZXhpZjpGbGFzaFBpeFZlcnNpb24ANDgsIDQ5LCA0OCwgNDjv2QdrAAAAGHRFWHRleGlmOlBpeGVsWERpbWVuc2lvbgAyMDRDGTotAAAAGHRFWHRleGlmOlBpeGVsWURpbWVuc2lvbgAyMDGufC/UAAAAF3RFWHRleGlmOllDYkNyUG9zaXRpb25pbmcAMawPgGMAAAtlSURBVHja7Z2LX9vWFcdRcq9iWVIMtDiAbCVgkERkKstyTaCC8HYTWGloQjqiQNqlQENeSzeWrVvTdVn37LY/eedKhk8eJLGsC/ey6ZfwSQLJJ/5yHvfcq3OPOzpSpUqVKlWqVKlSpUqVKlWqVKlSpUqVKlWqVKlSpUqV6v9WQocgnIIPUMdp+BBYv6AkIAg+8IGEDnQigcLXLGARn0EZKUskZRCCPwvNr50ggQHAEkiSZUU9m+vs6u7qzL2nKrIsIfg8+fL7rF9iiyDkGw8kPXkpd663r18rFIkKen9f77nzF/IK8HScFOOEKNJApnuwNFQYNkxrX6YxUiiUBi+qtnRCcCDoMS7Lox+MOBXTci2rWvUiVasW/NmsOCO1D/NZMJ3AOw74WF2yc2OObrpW1TMBBX4Qhb+aHhCZunPpvC2JnCcCYhZkj49NjIBFQpBX5ZGfllWaGHvvI0SMwy0PMUvZn3SGLcvzDiHZ5/E8yxp2pnylzq9x4JVhe9R03ooS4VwGHMcYtTGvNLC0oOmZWcOtvh1lP4BcY3ZuGmEuaYBFzffOQ3y/EyXCgZw9PyirEDisX/phLFJ2YagVs7xgnIKblUTuaAiLtKi7Zksg+zJdvZEp80YDLB+XGyNuay72gqu5/Y0LEldxQ8pKVVmMy7JPk1XD0pMTQX5F9hU9NktEo1/Ng58tsYY4gEF4uea0wRLROD+b5ialLQmonv9kpS2WiObTa3adk7LzFCSyVQdQ2mEJqzXL+YyXJAC7/PxCyWoPJcSxSn15zIVlwMnsuQlwsstt00DYnCOOxhqFnFqoSDu03I/jaAVRxddZo5DlcvmGnsDJIkfTB5d5WGywtOYAy80ELDeBxvkccgB7w9g/r1htZrIDy3jWyJjNOqFBJiOGWU+EEjma86GEWR+mYbumJzVMaBr9FmPTgGFUVY9X9r9Jpg4JjWkKQGJwG4qypIYB08BaMyeLiK1l/Csli4plrMZCwNQyAs58ptFhWYeFcy2DBWY5QECiPzNEw8uqYU3D1s9OYXljk45lwM9Kl2R8h5mfCQJSS3RyGfEzs19VGS41WPriy+SLTFOeNXRewuwyAA5+cTfm6dKbWUy3+FXA7NgJ6jK5VqEVMhA0lVsyu2KTrDINijCNLZ/ZSgPxXzaMhFuZF2UaGWbnGlCY4RFaySyE0VdVZn6GM2sFel7mVa3iaIZVOoO9TK5ALTOT3FzYZpabBZztLFIMGc8qdmUZwnRRhulmCdNNF6aw04MZnaDTh2Frma//h2Ck7bt03ayTGQysM6NFK8G57CssVUvLMVxn1HGd3qIJxZk2nmFVAUBtdqHR3iOmw2WWVMTKMksCVvoMaqbxLKNPYfgADQe9IxS3AJuDAT7FCGUJicE9jdZOs2q62qTPrsEBFppdegsN09IsTGd1nVYGgMysj6sMYQQcbFHLAJZxX2F5PovE/KRGyc88S3vA8DwjfNR0fojO9szzLOdhlqVlYNlUTEp+ZplGmW2bBhLtKY2GacAw2qMB1s9npFGHStBEz5uZWoa0mjwuJa+cIS+XrrJ91kSEe7onKBQBpjsBW2a2KCQF+K6R1DRgGMNQOOg/x8FOctOAYa4FTMM/sgxUAWCaRAmNGGYx4MAwYBple7bFzuzDtQ6Gmd1VWEdMaJsObP8ybkPzK5ax9LFpHpqaQFhFeoKGM3KtpojZHf+/JAHKzSezbfabRh2ns9fyXDQChjR4ureQoHtWG+SnF5jg+Iuk5bSdvmbPMhoKRyjkVoPotG2ZidUyJ9Ef4aC6n5s3W75usq91ssSsnPd5CZgDGvubFSsmjReydPHRBfwKTdeKGWvxjFgucsdCCs663TlrxMhp5KKWOfsNsFznDCakCUb1EdKw1dqdM890+7XPgYWPWwCv0SjqgkNu0L27kz68P+f0qST22TXMvZVGzNhT5G7ju3wNUKquMf9A/ljk5KrJITgIo+mc4ZhvxwlRLMd4OI04Wvhfp+kQRMX/laZZbvUNpScpKwFF0+75CudXtaOb2mdqhUJ46bz60sKz3rym7ZqFYq1uI/4v0ZPL2upHq1MlZ5OMNah63v5Ox/TIfXPLLE30T63aKudmadKAcUTVli5uVIo6mdPgNgc1uGRWg16sbOxcsDMiMQurB0uxcVCPfKb7g4VfFwtFfXhzc3NYh98N3691n5F7kMi/h72EI2CsKrKCchf3Htzo/U3vjad7OzmsDCgqxsIJQVk6tSRc74hG59TrdRFlsnIg+4EvB0E2g0T4HCYHl2S6Dtcx0xwBFA7/QWomq/h52Vey2XKkrKIE+aAnK6kIYzEcEMQpEbyoO4QDoiGT9Qf8LFrrfDI3+dvescdbfX3uotv3u6vfDt54tHe7KzcuKYHfI6n7E4+44hHePx3GCERJNh+Uf787V7tiDutOQdMrm6WGsa8SZAGtUNT0xtbg5M4XkCJ6pGjiES8hJETRLgKIrNS7JjcMbUirNMLZOa71utxwms4mQPVv1W6PlvNBBkUexw2JFAS469GWXtRKRvSCyfMjMzq03Z+hUz34XDQgqFFxCsbgzFp2IBvyMA2g8L8nJPk/rJ173FwiyaJvem89ErxJvuythwOCjM27he9qu9EEJ3YpmwwBIIuJLI9O9t0tlprFS8snm+RvmhFQxSn1dksDWfjGMAofQBFR1l6dWwBnsdxYIC/X0MTlgKf2zA/UaCLVsQKdjiqWwN8e1J0GITGr37d51gz/bL05wcmdOXPsA7ZONWvJ8m3XqZghSbLnzZebE5wMR6+t2eVjxSEOptrqvZJjhPOlvMUkJAcG8jzY6ejOWO4Y54WR3SSy1T/qsDt+11CmuDwkfkYmLuVsSTyOCVvhLLYgu6dHG33Kgm/NIpkX9u3asnr0E7aIWST7k8a7ziySeZs14txC9hH7WrjDn167OtHCaVJCHE2fk8tHubMOz16Up07JtRKNmWgJx3TcH6aPajadEJ6KLT9rhEeWR4jSxKm6hjPll48mcmDjUZfkp/NGq4fJybQeHt/+aW35KGbTERfLr1pOq7PYaBjHdI2Jr54TV7tD9R4Kmb76/CJEy7GYZR+HzKbbUMp1uoETZrGplT+DWZKPy4hjnKqrN1b9OqJYTAtIlIJvndZH5NETuJqzbVPM0QKqlzOWTunef0zjmJb56bVpammAPERClX5qbfIxachzz73nlE49CMuq/mPb7SQJdTOkufcXKjQhy5fGcWXkw63jzk+GNAkzNMR+GetGW60k1FgIDfG0hKaB9SVT/uuPLFn24+ZvSfsFSEGWd+OPlDwCHmulM2EblyDg5Y12m68o05jO2UT9QhD803vtt8XRpbGMUjg9tF2zIFF5Nmsddb3fkkhTqr6xnKAnHasStYtLSUU6Bufn2p63SboV/56sLZYuTdVyxiXc0c5jXTKIaYeTgGniWKX7bc7bFLD6j8qRb5BjyXRnZ9pabcAw9qMCN05GRE7ZddTWhcFwciFHTkZkulptOf69VNIU/8/EIyXpK8wBp+OxLIFhfpigOLiAjshQx97YQx2JYX7i0DBgmuLZTMyMJuDM2SLNuQWUFF4atGPeGoJU9pTKlUX6ip3QoCyTqM3Hoyoyb/N2rJFuwhJWuh0+DUPuQPrxlhqc/2mY3twSyjTa2TgzUASMMg0uvSzysxk5RnYmo3549bLmvM3WWZCYn6J1zf8IZPbHyWcUx+PSlxdv3iaZJ9/PachUSbVZONf6bVsyHk/jNZeRPVrlRowMgHueDPEbMlXL2FJajxnskzEf3IpM3G39AA3LtdJhLYncqH+15XQGyey7f2lFfqX9+2HLNQCUmdtdu1/zq92u/8S4Co2jNyflV62/11v0NqVcK8YjTiF6P1+exb4NOlWqVKlSpUqVKlWqE6n/AptD/XBBgP7QAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKiss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\"","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}